{
  "version": 3,
  "sources": ["Source_TS/Reset.ts", "Source_TS/Stage.ts", "Source_TS/Update.ts", "Source_TS/Hotkeys.ts", "Source_TS/Special.ts", "Source_TS/Limit.ts", "Source_TS/Check.ts", "Source_TS/Player.ts", "Source_TS/Main.ts"],
  "sourcesContent": ["import { allowedToBeReset } from './Check';\nimport { cloneArray, playerStart } from './Main';\nimport { global, player } from './Player';\nimport { calculateMaxLevel, assignResearchCost, assignMilestoneInformation, assignBuildingsProduction, assignResetInformation, assignChallengeInformation } from './Stage';\nimport { stageUpdate, switchTab } from './Update';\n\nexport const reset = (type: 'discharge' | 'vaporization' | 'rank' | 'collapse' | 'galaxy', stageIndex: number[]) => {\n    const dischargeInfo = global.dischargeInfo;\n    const { energyStage, energyType } = dischargeInfo;\n\n    if (type === 'galaxy') {\n        const elements = player.elements;\n\n        for (let i = 1; i < global.elementsInfo.maxActive; i++) {\n            if (!allowedToBeReset(i, 4, 'elements')) { continue; }\n            elements[i] = 0;\n        }\n        global.automatization.element = 1;\n\n        global.collapseInfo.pointsLoop = 0;\n        player.collapse.mass = 0.01235;\n        player.collapse.stars = [0, 0, 0];\n        player.merge.since = 0;\n    }\n\n    let energyRefund = 0;\n    for (const s of stageIndex) {\n        if (s === 1) {\n            if (player.inflation.vacuum) {\n                if (player.tree[1][5] === 4) {\n                    player.buildings[2][0].current.setValue(0);\n                    player.buildings[2][0].total.setValue(0);\n                }\n            } else {\n                player.discharge.energy = 0;\n                dischargeInfo.energyTrue = 0;\n            }\n        } else if (s === 2) {\n            if (player.tree[1][5] === 4) { continue; }\n            assignBuildingsProduction.S2Levels(false);\n        } else if (s === 4) {\n            global.collapseInfo.trueStars = 0;\n            assignBuildingsProduction.S4Levels(false);\n        }\n        if (s === 6) {\n            player.darkness.energy = 0;\n        } else { energyRefund += energyStage[s]; }\n        energyStage[s] = 0;\n\n        const building = player.buildings[s];\n        building[0].current.setValue(playerStart.buildings[s][0].current);\n        building[0].total.setValue(playerStart.buildings[s][0].current);\n        for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n            if (!allowedToBeReset(i, s, 'structures')) {\n                if (!player.inflation.vacuum) { continue; }\n                const selfmade = building[i as 1].true;\n                if (s === 1) {\n                    building[1].current.setValue(selfmade);\n                    building[1].total.setValue(selfmade);\n                }\n                const energy = energyType[s][i] * selfmade;\n                dischargeInfo.energyTrue += energy;\n                energyStage[s] += energy;\n                continue;\n            }\n            building[i as 1].true = 0;\n            building[i].current.setValue(0);\n            building[i].total.setValue(0);\n        }\n\n        if (type === 'discharge') { continue; }\n        const upgrades = player.upgrades[s];\n\n        for (let i = 0; i < global.upgradesInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'upgrades')) { continue; }\n            upgrades[i] = 0;\n        }\n        global.automatization.autoU[s] = [];\n\n        if (type === 'vaporization') { continue; }\n        const researches = player.researches[s];\n\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'researches')) { continue; }\n            researches[i] = 0;\n            assignResearchCost(i, s, 'researches');\n        }\n        global.automatization.autoR[s] = [];\n\n        if (type === 'rank') { continue; }\n        const researchesExtra = player.researchesExtra[s];\n\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) {\n            if (!allowedToBeReset(i, s, 'researchesExtra')) { continue; }\n            researchesExtra[i] = 0;\n            assignResearchCost(i, s, 'researchesExtra');\n        }\n        global.automatization.autoE[s] = [];\n    }\n\n    if (player.inflation.vacuum && energyRefund !== 0) { //energyRefund should always be > 0\n        let deficit = dischargeInfo.energyTrue - player.discharge.energy - energyRefund;\n        for (let s = player.tree[1][5] === 4 ? 3 : 2; s < 6; s++) {\n            if (stageIndex.includes(s)) { continue; }\n            const building = player.buildings[s];\n            for (let i = global.buildingsInfo.maxActive[s] - 1; i >= 1; i--) {\n                if (!allowedToBeReset(i, s, 'structures')) { continue; }\n\n                if (deficit > 0) {\n                    const max = Math.min(Math.ceil(deficit / energyType[s][i]), building[i as 1].true);\n                    if (max > 0) {\n                        building[i as 1].true -= max;\n                        deficit -= max * energyType[s][i];\n                        energyStage[s] -= max * energyType[s][i];\n                        if (s === 4) { global.collapseInfo.trueStars -= max; }\n                    }\n                }\n                building[i].current.setValue(building[i as 1].true);\n                building[i].total.setValue(building[i as 1].true);\n            }\n            if (s !== 5) {\n                building[0].current.setValue(playerStart.buildings[s][0].current);\n                building[0].total.setValue(playerStart.buildings[s][0].current);\n            }\n            if (s === 2) {\n                assignBuildingsProduction.S2Levels(true);\n                assignBuildingsProduction.S2FreeBuilds();\n            } else if (s === 5) {\n                assignBuildingsProduction.S4Levels(true);\n            }\n        }\n\n        player.discharge.energy += deficit;\n        dischargeInfo.energyTrue = player.discharge.energy;\n    }\n\n    assignBuildingsProduction.globalCache();\n    if (player.inflation.vacuum) { assignResetInformation.solarHardcap(); }\n};\n\n/** Default value for update is true; Default value for full is true (and null value for update), should be set to false only if Stage is permanent from false Vacuum */\nexport const resetStage = (stageIndex: number[], update = true as null | boolean, full = true) => {\n    const strangeness = player.strangeness;\n    for (const s of stageIndex) {\n        const buildings = player.buildings[s];\n        const buildingResetValue = playerStart.buildings[s][0].current;\n        buildings[0].current.setValue(buildingResetValue);\n        buildings[0].total.setValue(buildingResetValue);\n        buildings[0].trueTotal.setValue(buildingResetValue);\n        for (let i = 1; i < playerStart.buildings[s].length; i++) {\n            buildings[i as 1].true = 0;\n            buildings[i].current.setValue(0);\n            buildings[i].total.setValue(0);\n            buildings[i].trueTotal.setValue(0);\n        }\n\n        player.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        player.researches[s] = cloneArray(playerStart.researches[s]);\n        player.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n        global.automatization.autoU[s] = [];\n        global.automatization.autoR[s] = [];\n        global.automatization.autoE[s] = [];\n\n        global.lastUpgrade[s][0] = null;\n        if (s === 1) {\n            player.discharge.energy = 0;\n            player.discharge.current = 0;\n            global.dischargeInfo.energyTrue = 0;\n        } else if (s === 2) {\n            player.vaporization.clouds = 0;\n            assignBuildingsProduction.S2Levels(false);\n        } else if (s === 3) {\n            if (player.inflation.vacuum) {\n                player.accretion.rank = 1;\n            } else {\n                player.accretion.rank = 0;\n                buildings[0].current.setValue(5.9722e27);\n            }\n            assignResetInformation.maxRank();\n        } else if (s === 4) {\n            global.collapseInfo.pointsLoop = 0;\n            global.collapseInfo.trueStars = 0;\n            player.collapse.mass = 0.01235;\n            player.collapse.stars = [0, 0, 0];\n            player.collapse.maxElement = 0;\n            assignBuildingsProduction.S4Levels(false);\n            player.elements = cloneArray(playerStart.elements);\n            player.elements[0] = strangeness[4][8] >= 1 ? 1 : 0;\n            global.automatization.element = 1;\n            global.lastElement = null;\n        } else if (s === 5) {\n            global.mergeInfo.galaxies = 0;\n            player.merge.rewards = [0, 0, 0, 0];\n            player.merge.resets = 0;\n            player.merge.since = 0;\n            player.merge.claimed = [0, 0];\n        } else if (s === 6) {\n            player.darkness.energy = 0;\n            player.darkness.fluid = 0;\n        }\n    }\n    if (full) {\n        player.time.stage = 0;\n        player.stage.time = 0;\n        player.stage.peak = [0, 0];\n        global.debug.timeLimit = false;\n        player.researchesAuto[0] = strangeness[3][6];\n        player.researchesAuto[1] = strangeness[4][6];\n        player.researchesAuto[2] = player.inflation.vacuum ? (strangeness[1][4] < 1 ? 0 : strangeness[3][4] < 1 ? 1 : strangeness[2][4] < 1 ? 2 : strangeness[4][4] < 1 ? 3 : 4) :\n            (strangeness[Math.min(player.stage.current, 4)][4] >= 1 ? 1 : 0);\n    }\n    if (player.inflation.vacuum || stageIndex.includes(1)) { assignResetInformation.trueEnergy(true); }\n\n    for (const s of stageIndex) { //Less errors if do it separatly\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        if (s === 6) {\n            player.ASR[s] = player.verses[0].lowest[0] <= 5 ? 1 : 0;\n        } else if (strangeness[s][5] < 1) { player.ASR[s] = 0; }\n    }\n    if (update !== null) {\n        switchTab();\n        stageUpdate(update);\n    }\n};\n\n/** Level 0 is Vacuum reset, level 1 is Universe reset, level 2 is End reset */\nexport const resetVacuum = (level = 0) => {\n    const vacuum = player.inflation.vacuum;\n    if (level >= 2) {\n        player.verses[0].true = 0;\n        player.verses[0].other = [0, 0, 0];\n        global.inflationInfo.trueUniverses = 0;\n        if (player.inflation.ends[0] >= 1) { player.verses[0].current = player.verses[0].highest; }\n        for (let i = 0; i < playerStart.tree[0].length; i++) {\n            player.tree[0][i] = 0;\n            assignResearchCost(i, 0, 'inflations');\n        }\n        const supervoid = player.challenges.supervoid;\n        let total = player.challenges.stability + supervoid[1] + supervoid[2] + supervoid[3] + supervoid[4] + supervoid[5];\n        if (player.inflation.vacuum) { total++; }\n        player.cosmon[0].current = total;\n        player.cosmon[0].total = total;\n        player.inflation.resets = 0;\n        player.inflation.peak = [0, 0];\n        player.time.end = 0;\n        player.challenges.supervoidMax = cloneArray(playerStart.challenges.supervoidMax);\n        global.inflationInfo.totalSuper = 0;\n        player.darkness.active = false;\n\n        for (let i = 0; i < global.challengesInfo.length; i++) { assignChallengeInformation(i); }\n    }\n    if (level >= 1) {\n        player.inflation.age = 0;\n        player.time.universe = 0;\n    }\n    const universes = player.verses[0].current;\n    for (let s = 1; s <= 6; s++) {\n        const buildings = player.buildings[s];\n        const buildingResetValue = playerStart.buildings[s][0].current;\n        buildings[0].current.setValue(buildingResetValue);\n        buildings[0].total.setValue(buildingResetValue);\n        buildings[0].trueTotal.setValue(buildingResetValue);\n        for (let i = 1; i < playerStart.buildings[s].length; i++) {\n            buildings[i as 1].true = 0;\n            buildings[i].current.setValue(0);\n            buildings[i].total.setValue(0);\n            buildings[i].trueTotal.setValue(0);\n        }\n        if (s < 6) {\n            player.milestones[s] = cloneArray(playerStart.milestones[s]);\n            global.milestonesInfo[s].recent = cloneArray(playerStart.milestones[s]);\n            for (let i = 0; i < playerStart.milestones[s].length; i++) { assignMilestoneInformation(i, s); }\n        }\n        player.upgrades[s] = cloneArray(playerStart.upgrades[s]);\n        player.researches[s] = cloneArray(playerStart.researches[s]);\n        player.researchesExtra[s] = cloneArray(playerStart.researchesExtra[s]);\n        player.strangeness[s] = cloneArray(playerStart.strangeness[s]);\n        global.lastUpgrade[s][0] = null;\n        global.automatization.autoU[s] = [];\n        global.automatization.autoR[s] = [];\n        global.automatization.autoE[s] = [];\n    }\n    player.researchesAuto[0] = universes >= 3 ? 3 : 0;\n    player.researchesAuto[1] = universes >= 3 ? 2 : 0;\n    player.researchesAuto[2] = universes >= 5 ? (vacuum ? 4 : 1) : 0;\n    player.stage.current = 1;\n    player.stage.resets = 0;\n    player.stage.peak = [0, 0];\n    player.stage.time = 0;\n    player.time.stage = 0;\n    player.time.vacuum = 0;\n    player.inflation.time = 0;\n    global.debug.timeLimit = false;\n    global.historyStorage.stage = [];\n    player.history.stage.best = cloneArray(playerStart.history.stage.best);\n    player.challenges.void = cloneArray(playerStart.challenges.void);\n\n    for (let i = 0; i < playerStart.strange.length; i++) {\n        player.strange[i].current = 0;\n        player.strange[i].total = 0;\n    }\n    player.discharge.energy = 0;\n    player.discharge.current = 0;\n    player.vaporization.clouds = 0;\n    assignBuildingsProduction.S2Levels(false);\n    if (vacuum) {\n        player.accretion.rank = 1;\n    } else {\n        player.accretion.rank = 0;\n        player.buildings[3][0].current.setValue(5.9722e27);\n    }\n    global.collapseInfo.pointsLoop = 0;\n    global.collapseInfo.trueStars = 0;\n    player.collapse.mass = 0.01235;\n    player.collapse.stars = [0, 0, 0];\n    player.collapse.maxElement = 0;\n    assignBuildingsProduction.S4Levels(false);\n    player.elements = cloneArray(playerStart.elements);\n    global.automatization.element = 1;\n    global.lastElement = null;\n    global.mergeInfo.galaxies = 0;\n    player.merge.since = 0;\n    player.merge.resets = 0;\n    player.merge.rewards = [0, 0, 0, 0];\n    player.merge.claimed = [0, 0];\n    global.automatization.autoS = [];\n    global.lastStrangeness = [null, 0];\n    global.lastMilestone = [null, 0];\n    player.darkness.energy = 0;\n    player.darkness.fluid = 0;\n\n    if (universes >= 1) {\n        player.strange[0].current += Math.ceil(global.inflationInfo.trueUniverses ** 1.5);\n        player.strange[0].total = player.strange[0].current;\n        if (vacuum) { player.strangeness[1][8] = 2; }\n    }\n    if (universes >= 3) {\n        player.strangeness[3][6] = 3;\n        player.strangeness[4][6] = 2;\n    }\n    if (vacuum) {\n        if (universes >= 5) { player.strangeness[5][9] = 1; }\n        if (universes >= 12) { player.strangeness[5][8] = 1; }\n    }\n    if (universes >= 8) { player.strangeness[5][6] = vacuum ? 1 : 2; }\n    if (player.darkness.active) {\n        player.strangeness[6][3] = 1;\n        player.ASR[6] = player.verses[0].lowest[0] <= 5 ? 1 : 0;\n    } else { player.ASR[6] = 0; }\n\n    for (let i = 0; i < playerStart.researchesAuto.length; i++) { calculateMaxLevel(i, 0, 'researchesAuto'); }\n    for (let s = 1; s <= 6; s++) {\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        calculateMaxLevel(0, s, 'ASR');\n        if (s === 6) { continue; }\n        if (universes >= 2) {\n            player.ASR[s] = global.ASRInfo.max[s];\n            player.strangeness[s][5] = 1;\n            if (universes >= 5) { player.strangeness[s][4] = 1; }\n        } else { player.ASR[s] = 0; }\n        for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'strangeness'); }\n    }\n\n    assignBuildingsProduction.strange1();\n    assignBuildingsProduction.strange0();\n    assignResetInformation.maxRank();\n    assignResetInformation.trueEnergy(true);\n\n    switchTab();\n    stageUpdate();\n};\n\nexport const cloneBeforeReset = (depth: 'stage' | 'vacuum') => {\n    const clone = player.clone;\n    clone.depth = depth;\n\n    clone.buildings = [[]];\n    clone.upgrades = [[]];\n    clone.researches = [[]];\n    clone.researchesExtra = [[]];\n    clone.ASR = [0];\n    if (depth !== 'stage') {\n        clone.strangeness = [[]];\n        clone.milestones = [[]];\n    }\n    for (let s = 1; s <= 6; s++) {\n        const buildings = player.buildings[s];\n        clone.buildings[s] = [{\n            current: buildings[0].current.toString(),\n            total: buildings[0].total.toString(),\n            trueTotal: buildings[0].trueTotal.toString()\n        }];\n        for (let i = 1; i < buildings.length; i++) {\n            clone.buildings[s][i] = {\n                true: buildings[i as 1].true,\n                current: buildings[i].current.toString(),\n                total: buildings[i].total.toString(),\n                trueTotal: buildings[i].trueTotal.toString()\n            };\n        }\n        clone.ASR[s] = player.ASR[s];\n        clone.upgrades[s] = cloneArray(player.upgrades[s]);\n        clone.researches[s] = cloneArray(player.researches[s]);\n        clone.researchesExtra[s] = cloneArray(player.researchesExtra[s]);\n        if (depth !== 'stage') {\n            clone.strangeness[s] = cloneArray(player.strangeness[s]);\n            if (s < 6) { clone.milestones[s] = cloneArray(player.milestones[s]); }\n        } else if (s < 6) { global.milestonesInfo[s].recent = cloneArray(playerStart.milestones[s]); }\n    }\n    clone.stage = {\n        current: player.stage.current,\n        time: player.stage.time,\n        peak: cloneArray(player.stage.peak)\n    };\n    clone.time = {\n        stage: player.time.stage\n    };\n    clone.researchesAuto = cloneArray(player.researchesAuto);\n\n    clone.discharge = {\n        energy: player.discharge.energy,\n        current: player.discharge.current\n    };\n    clone.vaporization = {\n        clouds: player.vaporization.clouds\n    };\n    clone.accretion = {\n        rank: player.accretion.rank\n    };\n    clone.collapse = {\n        mass: player.collapse.mass,\n        stars: cloneArray(player.collapse.stars),\n        maxElement: player.collapse.maxElement\n    };\n    clone.elements = cloneArray(player.elements);\n    clone.merge = {\n        rewards: cloneArray(player.merge.rewards),\n        claimed: cloneArray(player.merge.claimed),\n        resets: player.merge.resets,\n        since: player.merge.since\n    };\n    clone.darkness = {\n        energy: player.darkness.energy,\n        fluid: player.darkness.fluid\n    };\n    if (depth !== 'stage') {\n        clone.strange = [];\n        for (let i = 0; i < player.strange.length; i++) {\n            clone.strange[i] = {\n                current: player.strange[i].current,\n                total: player.strange[i].total\n            };\n        }\n        clone.history = {\n            stage: {\n                list: global.historyStorage.stage.slice(0, player.history.stage.input[0]),\n                best: cloneArray(player.history.stage.best)\n            }\n        };\n        clone.challenges = {\n            void: cloneArray(player.challenges.void)\n        };\n        clone.inflation = {\n            vacuum: player.inflation.vacuum,\n            time: player.inflation.time\n        };\n        clone.time.vacuum = player.time.vacuum;\n        clone.stage.resets = player.stage.resets;\n    }\n};\n\nexport const loadFromClone = () => {\n    const clone = player.clone;\n    const depth = clone.depth;\n\n    for (let s = 1; s <= 6; s++) {\n        const buildings = player.buildings[s];\n        const buildingsClone = clone.buildings[s];\n\n        buildings[0].current.setValue(buildingsClone[0].current);\n        buildings[0].total.setValue(buildingsClone[0].total);\n        buildings[0].trueTotal.setValue(buildingsClone[0].trueTotal);\n        for (let i = 1; i < buildingsClone.length; i++) {\n            buildings[i as 1].true = buildingsClone[i].true;\n            buildings[i].current.setValue(buildingsClone[i].current);\n            buildings[i].total.setValue(buildingsClone[i].total);\n            buildings[i].trueTotal.setValue(buildingsClone[i].trueTotal);\n        }\n        player.ASR[s] = clone.ASR[s];\n        player.upgrades[s] = clone.upgrades[s];\n        player.researches[s] = clone.researches[s];\n        player.researchesExtra[s] = clone.researchesExtra[s];\n        if (depth !== 'stage') {\n            player.strangeness[s] = clone.strangeness[s];\n            if (s < 6) {\n                player.milestones[s] = clone.milestones[s];\n                for (let i = 0; i < playerStart.milestones[s].length; i++) { assignMilestoneInformation(i, s); }\n            }\n        }\n        global.automatization.autoU[s] = [];\n        global.automatization.autoR[s] = [];\n        global.automatization.autoE[s] = [];\n        global.lastUpgrade[s][0] = null;\n    }\n    player.researchesAuto = clone.researchesAuto;\n    player.stage.current = clone.stage.current;\n    player.stage.time = clone.stage.time;\n    player.stage.peak = clone.stage.peak;\n    player.time.stage = clone.time.stage;\n    global.debug.timeLimit = false;\n\n    player.discharge.energy = clone.discharge.energy;\n    player.discharge.current = clone.discharge.current;\n    player.vaporization.clouds = clone.vaporization.clouds;\n    player.accretion.rank = clone.accretion.rank;\n    assignBuildingsProduction.S2Levels(true);\n    const trueStars = clone.buildings[4];\n    global.collapseInfo.trueStars = trueStars[1].true + trueStars[2].true + trueStars[3].true + trueStars[4].true + trueStars[5].true;\n    global.collapseInfo.pointsLoop = 0;\n    player.collapse.mass = clone.collapse.mass;\n    player.collapse.stars = clone.collapse.stars;\n    player.collapse.maxElement = clone.collapse.maxElement;\n    assignBuildingsProduction.S4Levels(true);\n    player.elements = clone.elements;\n    global.automatization.element = 1;\n    global.lastElement = null;\n    global.mergeInfo.galaxies = player.buildings[5][3].current.toNumber();\n    player.merge.rewards = clone.merge.rewards;\n    player.merge.claimed = clone.merge.claimed;\n    player.merge.resets = clone.merge.resets;\n    player.merge.since = clone.merge.since;\n    player.darkness.energy = clone.darkness.energy;\n    player.darkness.fluid = clone.darkness.fluid;\n\n    if (depth !== 'stage') {\n        for (let i = 0; i < clone.strange.length; i++) {\n            player.strange[i].current = clone.strange[i].current;\n            player.strange[i].total = clone.strange[i].total;\n        }\n        player.stage.resets = clone.stage.resets;\n        player.time.vacuum = clone.time.vacuum;\n        player.inflation.time = clone.inflation.time;\n        global.historyStorage.stage = clone.history.stage.list;\n        player.history.stage.best = clone.history.stage.best;\n        player.challenges.void = clone.challenges.void;\n        global.automatization.autoS = [];\n        global.lastStrangeness = [null, 0];\n        global.lastMilestone = [null, 0];\n    }\n\n    for (let i = 0; i < playerStart.researchesAuto.length; i++) { calculateMaxLevel(i, 0, 'researchesAuto'); }\n    for (let s = 1; s <= 6; s++) {\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researches'); }\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'researchesExtra'); }\n        calculateMaxLevel(0, s, 'ASR');\n        if (depth !== 'stage') {\n            for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) { calculateMaxLevel(i, s, 'strangeness'); }\n        }\n    }\n\n    assignResetInformation.trueEnergy();\n    assignResetInformation.maxRank();\n    if (depth !== 'stage') {\n        assignBuildingsProduction.strange1();\n        assignBuildingsProduction.strange0();\n    }\n\n    switchTab();\n    stageUpdate();\n    player.clone = {};\n};\n", "import { allowedToEnter, checkBuilding, checkUpgrade, checkVerse, milestoneCheck, getStageResetType, getVerseType } from './Check';\nimport Overlimit, { compareFunc } from './Limit';\nimport { cloneArray, getId, loadoutsFinal, playerStart, simulateOffline } from './Main';\nimport { effectsCache, global, player, prepareChallenge, prepareVacuum } from './Player';\nimport { cloneBeforeReset, loadFromClone, reset, resetStage, resetVacuum } from './Reset';\nimport { Confirm, Notify, errorNotify, globalSave, specialHTML } from './Special';\nimport type { calculateEffectsType } from './Types';\nimport { format, numbersUpdate, stageUpdate, switchTab, visualUpdate } from './Update';\n\n/** Normal game tick, everything calculated in milliseconds */\nexport const timeUpdate = (tick: number, timeWarp: null | number = null) => {\n    const { time, ASR } = player;\n    if (timeWarp !== null) {\n        timeWarp -= tick;\n    } else {\n        const currentTime = Date.now();\n        const passedTime = currentTime - time.updated;\n        time.updated = currentTime;\n        time.export[0] += passedTime;\n        global.lastSave += passedTime;\n        timeWarp = time.excess + passedTime;\n        if (timeWarp < tick) {\n            time.excess = timeWarp;\n            return;\n        } else { time.excess = 0; } //Must be before potential warp\n        if (timeWarp > tick * 600) { return void simulateOffline(timeWarp); }\n        timeWarp -= tick;\n        time.online += tick;\n    }\n    const { auto, buildings: autoBuy } = player.toggles;\n    const maxActive = global.buildingsInfo.maxActive;\n    const activeAll = global.stageInfo.activeAll;\n    const universes = player.verses[0];\n\n    const trueSeconds = tick / 1000;\n    if (player.inflation.vacuum || activeAll.includes(4)) { player.merge.since += trueSeconds; }\n    time.stage += trueSeconds;\n    time.vacuum += trueSeconds;\n    time.universe += trueSeconds;\n    time.end += trueSeconds;\n\n    effectsCache.T0Inflation3 = calculateEffects.T0Inflation3() ** player.tree[0][3];\n    const passedSeconds = trueSeconds * assignBuildingsProduction.globalSpeed();\n    player.stage.time += passedSeconds;\n    player.inflation.time += passedSeconds;\n    player.inflation.age += passedSeconds;\n\n    if (player.toggles.normal[3]) { exitChallengeAuto(); }\n    if (player.inflation.vacuum) {\n        endResetCheck(true);\n        stageResetCheck(5, trueSeconds);\n    } else {\n        if (activeAll.includes(4)) { stageResetCheck(5, trueSeconds); }\n        if (activeAll.includes(3)) { stageResetCheck(3, 0); }\n        if (activeAll.includes(2)) { stageResetCheck(2, 0); }\n        if (activeAll.includes(1)) { stageResetCheck(1, 0); }\n        if (player.challenges.active === 1 && time.stage > 600 && stageResetCheck(player.stage.current)) {\n            stageResetReward(player.stage.current);\n            Notify('Stage reset has been forced');\n        }\n    }\n    const vacuum = player.inflation.vacuum;\n\n    if (auto[11] && universes.current >= 12) { autoStrangeness(); }\n    assignBuildingsProduction.globalCache();\n    if (activeAll.includes(6)) {\n        if (universes.lowest[0] <= 6) {\n            if (universes.lowest[0] <= 4) { autoUpgrades(6); }\n            autoResearches('researches', 6);\n            if (universes.lowest[0] <= 2) { autoResearches('researchesExtra', 6); }\n        }\n        for (let i = maxActive[6] - 1; i >= 1; i--) {\n            if (autoBuy[6][i] && ASR[6] >= i) { buyBuilding(i, 6, 0, true); }\n        }\n        if (auto[10]) { nucleationResetCheck(true); }\n        assignBuildingsProduction.stage6Cache();\n        gainBuildings(0, 6, passedSeconds); //Dark matter\n    }\n    if (activeAll.includes(4)) {\n        if (auto[8]) { autoElements(); }\n        if (activeAll.includes(5)) {\n            if (player.strangeness[5][3] >= 1 || universes.current >= 3) {\n                autoUpgrades(5);\n                autoResearches('researches', 5);\n                autoResearches('researchesExtra', 5);\n            }\n            for (let i = maxActive[5] - 1; i >= 1; i--) {\n                if (autoBuy[5][i] && ASR[5] >= i) { buyBuilding(i, 5, 0, true); }\n            }\n            assignBuildingsProduction.stage5Cache();\n            gainBuildings(0, 5, passedSeconds); //Brown dwarfs\n            const research = player.researches[5][0];\n            if (research >= 1) { gainBuildings(1, 5, passedSeconds); } //Main sequence\n            if (research >= 2) { gainBuildings(2, 5, passedSeconds); } //Red supergiants\n            if (research >= 3) { gainBuildings(3, 5, passedSeconds); } //Blue hypergiants\n            if (research >= 4 && player.challenges.active !== 0) { gainBuildings(4, 5, passedSeconds); } //Quasi-stars\n        } else { assignBuildingsProduction.stage5Cache(); }\n        autoUpgrades(4);\n        autoResearches('researches', 4);\n        autoResearches('researchesExtra', 4);\n        assignBuildingsProduction.stage4Cache();\n        for (let i = maxActive[4] - 1; i >= 1; i--) {\n            if (autoBuy[4][i] && ASR[4] >= i) { buyBuilding(i, 4, 0, true); }\n            gainBuildings(i - 1, 4, passedSeconds); //Stardust\n        }\n        assignBuildingsProduction.S4Levels();\n        awardMilestone(0, 5);\n        awardMilestone(0, 4);\n        const failed = !collapseResetCheck(true);\n        awardMilestone(1, 4); //Must be before Merge\n        if (vacuum && failed) { mergeResetCheck(true); }\n    } else if (vacuum) {\n        effectsCache.star[2] = 1; //Lazy fix\n        assignResetInformation.solarHardcap();\n    }\n    if (activeAll.includes(3)) {\n        autoUpgrades(3);\n        autoResearches('researches', 3);\n        autoResearches('researchesExtra', 3);\n        rankResetCheck(true);\n        assignBuildingsProduction.stage3Cache();\n        global.accretionInfo.disableAuto = vacuum && player.researchesExtra[3][5] < 1 && player.strangeness[1][8] >= 2 && assignBuildingsProduction.S3Build1(true).moreOrEqual(calculateEffects.dustHardcap());\n        for (let i = 1; i < maxActive[3]; i++) {\n            if (autoBuy[3][i] && ASR[3] >= i) { buyBuilding(i, 3, 0, true); }\n        }\n        gainBuildings(2, 3, passedSeconds); //Planetesimals\n        gainBuildings(1, 3, passedSeconds); //Cosmic dust\n        if (!vacuum) { gainBuildings(0, 3, passedSeconds); } //Mass\n    }\n    if (activeAll.includes(2)) {\n        autoUpgrades(2);\n        autoResearches('researches', 2);\n        autoResearches('researchesExtra', 2);\n        vaporizationResetCheck(trueSeconds);\n        for (let i = maxActive[2] - 1; i >= 1; i--) {\n            if (autoBuy[2][i] && ASR[2] >= i) { buyBuilding(i, 2, 0, true); }\n        }\n        gainBuildings(1, 2, passedSeconds); //Drops\n        if (!vacuum) { gainBuildings(0, 2, passedSeconds); } //Moles\n        awardMilestone(1, 2);\n        awardMilestone(0, 2);\n    }\n    if (activeAll.includes(1)) {\n        autoUpgrades(1);\n        autoResearches('researches', 1);\n        autoResearches('researchesExtra', 1);\n        dischargeResetCheck(true);\n        assignBuildingsProduction.stage1Cache();\n        gainBuildings(5, 1, passedSeconds); //Molecules\n        for (let i = maxActive[1] - 1; i >= 1; i--) {\n            if (autoBuy[1][i] && ASR[1] >= i) { buyBuilding(i, 1, 0, true); }\n            gainBuildings(i - 1, 1, passedSeconds); //Rest of Microworld\n        }\n        awardMilestone(1, 1);\n        awardMilestone(0, 1);\n    }\n\n    if (timeWarp >= tick) {\n        timeUpdate(tick, timeWarp);\n    } else { time.excess += timeWarp; }\n};\n\nexport const logAny = (number: number, base: number) => Math.log(number) / Math.log(base);\n\nexport const calculateEffects: calculateEffectsType = {\n    effectiveEnergy: () => {\n        let energy = player.discharge.energy;\n        if (player.upgrades[1][10] === 1) { energy *= 2; }\n        if (player.inflation.vacuum && player.tree[0][4] >= 1) { energy *= global.milestonesInfo[1].reward[1]; }\n        return energy + 1;\n    },\n    effectiveGoals: () => {\n        let goals = player.discharge.current + (player.strangeness[1][3] / 2);\n        if (player.inflation.vacuum) {\n            goals += player.tree[1][4];\n            if (player.tree[1][6] >= 1) { goals += global.accretionInfo.effective / 2; }\n        }\n        return goals;\n    },\n    dischargeScaling: (research = player.researches[1][3], strangeness = player.strangeness[1][2]) => {\n        let scale = (2 * research) + (strangeness / 2);\n        if (player.inflation.vacuum) { scale += player.tree[1][4] / 2; }\n        return 10 - scale;\n    },\n    dischargeCost: (scaling = global.dischargeInfo.scaling) => {\n        let next = scaling ** player.discharge.current;\n        if (player.inflation.vacuum && player.strangeness[5][10] >= 1) { next /= global.mergeInfo.galaxies ** 2 + 1; }\n        if (player.strangeness[1][6] >= 2) { next /= global.strangeInfo.stageBoost[1]; }\n        return next;\n    },\n    dischargeBase: (research = player.researches[1][4]) => {\n        let base = (4 + research) / 2;\n        if (player.challenges.active === 0) { base **= 0.5; }\n        if (player.inflation.vacuum) { base += player.tree[1][4] / 10; }\n        return base;\n    },\n    S1Upgrade6: () => 0.1 + 0.03 * player.researches[1][0],\n    S1Upgrade7: (preons = false) => {\n        let base = 2 + player.researches[1][1];\n        const selfBoost = (base + 100) / 100;\n        if (!preons || player.buildings[1][1].true >= 1001) { return selfBoost; }\n\n        base = base * 0.016 + 1; //Formula is '(selfPreons * step ** ((true - 1) / 2)) ** true'; Step is '(selfBoost / selfPreons) ** (1 / 500)'\n        return (selfBoost / base) ** ((player.buildings[1][1].true - 1) / 1000) * base;\n    },\n    S1Upgrade9: () => {\n        let effect = calculateEffects.effectiveEnergy();\n        if (player.upgrades[1][10] !== 1) { effect **= 0.5; }\n        return effect;\n    },\n    S1Research2: (level = player.strangeness[1][1]) => 20 + (level * (player.inflation.vacuum ? (player.tree[1][5] >= 3 ? 2 : 1.5) : 1)),\n    S1Research5: () => {\n        const discharges = global.dischargeInfo.total;\n        if (!player.inflation.vacuum) { return discharges > 5 ? discharges + 15 : discharges * 4; }\n        return discharges > 7 ? discharges + 14 : discharges * 3;\n    },\n    S1Extra1: (level = player.researchesExtra[1][1]) => level >= 4 ? 1.1 : level >= 3 ? 1.2 : 2 - 0.3 * level,\n    S1Extra3: (level = player.researchesExtra[1][3]) => level / 20,\n    S1Extra4: (research = player.researchesExtra[1][5]) => (global.dischargeInfo.base + calculateEffects.effectiveEnergy() ** 0.1) * (research + 1) / 100 + 1,\n    preonsHardcap: (laterPreons = calculateEffects.effectiveEnergy() ** calculateEffects.S1Extra3()) => new Overlimit(assignBuildingsProduction.S3Build1()).multiply(1e14 * laterPreons * effectsCache.S1SolarDelay),\n    clouds: (post = false) => {\n        let effect = player.vaporization.clouds + 1;\n        if (post) { effect += global.vaporizationInfo.get; }\n\n        if (effect > 1e4) { effect = (effect - 1e4) ** 0.7 + 1e4; }\n        return effect;\n    },\n    cloudsGain: () => player.challenges.active === 0 ? 0.4 : player.inflation.vacuum ? 0.5 : 0.6,\n    S2Upgrade1: () => {\n        const puddles = player.buildings[2][2];\n        const maxTrue = Math.min(puddles.true, 200);\n        return (player.challenges.active === 0 && player.challenges.super ? 1.01 : 1.02) ** ((puddles.current.toNumber() - maxTrue) ** 0.7 + maxTrue);\n    },\n    S2Upgrade2: () => {\n        let effect = 1e10 / (player.inflation.vacuum ? 2.5 : 2) ** player.strangeness[2][3];\n        if (player.inflation.vacuum && player.tree[0][4] >= 1) { effect /= global.milestonesInfo[2].reward[1]; }\n        if (player.strangeness[2][6] >= 2) { effect /= global.strangeInfo.stageBoost[2]; }\n        return effect;\n    },\n    S2Upgrade3_power: (research = player.researches[2][2]) => (2 + research) / 200,\n    S2Upgrade3: (power = calculateEffects.S2Upgrade3_power()) => Math.max(player.buildings[2][0].current.toNumber(), 1) ** power,\n    S2Upgrade4_power: (research = player.researches[2][3]) => (2 + research) / 200,\n    S2Upgrade4: (power = calculateEffects.S2Upgrade4_power()) => Math.max(player.buildings[2][1].current.toNumber(), 1) ** power,\n    S2Extra1: (level, post = false) => { //+^0.05 per level; Drops up to +^(0.05 / 3) after softcap\n        if (level <= 0) { return 1; }\n        let effect = player.vaporization.clouds;\n        if (post) { effect += global.vaporizationInfo.get; }\n        return Math.max(effect ** (level / 60) * Math.min(effect, 1e6) ** (level / 30), 1);\n    },\n    S2Extra2: (rain, level = player.researchesExtra[2][2]) => level >= 1 ? (rain + 31) / 32 : 1,\n    submersion: () => {\n        const drops = player.buildings[2][1].current.toNumber() + 1;\n        return Math.log2(drops ** 0.6 / Math.min(drops, 1e10) ** 0.4 + 1); //^0.2 before softcap, ^0.6 after\n    },\n    rankCost: () => {\n        const rank = player.accretion.rank;\n        if (rank < 7) { return global.accretionInfo.rankCost[rank]; }\n        const requirement = new Overlimit(1e24).power(rank - 6).multiply(global.accretionInfo.rankCost[6]);\n        if (player.strangeness[3][7] >= 2) { requirement.divide(global.strangeInfo.stageBoost[3]); }\n        return requirement;\n    },\n    effectiveRank: () => {\n        let rank = player.challenges.active === 0 && player.challenges.super ? (player.accretion.rank < 5 ? 1 : 0) : player.accretion.rank;\n        if (player.inflation.vacuum) {\n            if (player.researchesExtra[1][2] < 1) { return 0; }\n            if (player.tree[0][4] >= 1) { rank += global.milestonesInfo[3].reward[1]; }\n        }\n        return rank;\n    },\n    S3Upgrade0: () => (101 + player.researches[3][1]) / 100,\n    S3Upgrade1_power: (research = player.researchesExtra[3][3]) => (11 + research) / 100,\n    S3Upgrade1: (power = calculateEffects.S3Upgrade1_power()) => Math.max((player.buildings[3][1].current.toNumber() * (player.buildings[3][1].true + 1)) ** power, 1),\n    S3Upgrade3: () => (204 + player.researches[3][4]) / 200, //1.02 + 0.005\n    S3Upgrade13: () => ((calculateEffects.S3Research6() - 1) / 2e5) ** 0.8 + 1,\n    S3Research6: (level = player.researches[3][6]) => { //+^0.025 per level; Drops up to +^(0.025 / 3) after softcap\n        if (level === 0) { return 1; }\n        const mass = new Overlimit(player.buildings[3][0].current);\n        return Math.max(Math.min(mass.toNumber(), 1e21) ** (level / 60) * mass.power(level / 120).toNumber(), 1);\n    },\n    S3Extra1: (level = player.researchesExtra[3][1]) => 1 + 0.11 * level,\n    S3Extra4: (level = player.researchesExtra[3][4]) => level > 0 ? 8 ** ((global.accretionInfo.effective + level) / 8) : 1,\n    dustDelay: () => {\n        let delay = effectsCache.S3SolarDelay * (1.4 ** player.strangeness[3][8]);\n        if (player.strangeness[5][10] >= 3) { delay *= global.mergeInfo.galaxies / 100 + 1; }\n        return delay;\n    },\n    dustHardcap: () => (player.accretion.rank >= 5 ? 1e48 : 8e46) * calculateEffects.dustDelay(),\n    mass: (post = false) => {\n        let effect = player.collapse.mass;\n        if (post && global.collapseInfo.newMass > effect) { effect = global.collapseInfo.newMass; }\n\n        if (effect > 1) {\n            if (player.elements[21] >= 1) { effect **= 1.1; }\n            if (player.challenges.active === 0) { effect **= 0.2; }\n        }\n        return effect;\n    },\n    star: [\n        (post = false) => {\n            let effect = player.collapse.stars[0];\n            if (post) { effect += global.collapseInfo.starCheck[0]; }\n            if (player.elements[28] >= 1) { effect *= 1.5; }\n            effect += 1;\n\n            if (player.elements[6] >= 1) { effect **= calculateEffects.element6(); }\n            return effect;\n        },\n        (post = false) => {\n            let stars = player.collapse.stars[1] * (1 + player.strangeness[4][8]);\n            if (post) {\n                stars += global.collapseInfo.starCheck[1] * (1 + player.strangeness[4][8]);\n                if (player.elements[22] >= 1) { stars += global.collapseInfo.starCheck[0]; }\n            }\n            if (player.elements[22] >= 1) { stars += player.collapse.stars[0]; }\n\n            let effect = (stars + 1) ** (0.5 + player.strangeness[4][8] / 8);\n            if (player.elements[12] >= 1) { effect *= logAny(stars + 4, 4); }\n            return effect;\n        },\n        (post = false) => {\n            let blackHoles = player.collapse.stars[2];\n            if (post) { blackHoles += global.collapseInfo.starCheck[2]; }\n            if (blackHoles <= 0) { return 1; }\n\n            const base = player.elements[18] >= 1 ? 3 : 2;\n            let effect = (blackHoles + 1) / logAny(blackHoles + base, base);\n            if (player.inflation.vacuum && player.tree[0][4] >= 1) { effect *= global.milestonesInfo[4].reward[1]; }\n            return effect;\n        }\n    ],\n    massGain: () => {\n        const elements = player.elements;\n\n        let massGain = 0.004;\n        if (elements[3] >= 1) { massGain += 0.002; }\n        if (elements[5] >= 1) { massGain += 0.0002 * player.buildings[4][1].true; }\n        massGain *= elements[15] >= 1 ? global.collapseInfo.trueStars : player.buildings[4][1].true;\n        if (player.inflation.vacuum) {\n            massGain = (massGain * (player.challenges.active === 0 ? 48 : 96)) + 1;\n        } else {\n            if (elements[10] >= 1) { massGain *= 2; }\n            if (player.researchesExtra[4][1] >= 1) { massGain *= calculateEffects.S4Extra1(); }\n            massGain *= effectsCache.star[2];\n            if (player.strangeness[5][7] >= 1) { massGain *= global.strangeInfo.stageBoost[5]; }\n        }\n        return massGain;\n    },\n    S4Shared: () => {\n        const multiplier = new Overlimit(calculateEffects.S4Research1()).power(global.collapseInfo.trueStars);\n        if (player.elements[24] >= 1) { multiplier.multiply(calculateEffects.element24()); }\n        if (player.inflation.vacuum) {\n            if (player.researchesExtra[1][4] >= 1) { multiplier.multiply(calculateEffects.S1Extra4() ** global.dischargeInfo.total); }\n        }\n        return multiplier;\n    },\n    S4Research0_base: (disc = player.researches[4][2]) => (14 + disc) / 10,\n    S4Research0: (base = calculateEffects.S4Research0_base()) => {\n        let levels = player.researches[4][0];\n        if (player.elements[19] >= 1) { levels++; }\n        return base ** levels;\n    },\n    S4Research1: (level = player.researches[4][1], transfer = player.researchesExtra[4][1]) => {\n        if (level <= 0) { return 1; }\n        return 1 + (transfer >= 1 ? 0.006 : 0.005) * (\n            level >= 11 ? (level + 92) / 16 :\n            level >= 8 ? (level + 41) / 8 :\n            level >= 6 ? (level + 17) / 4 :\n            level >= 5 ? 5.5 : 1 + level\n        );\n    },\n    S4Research4: (post = false, level = player.researches[4][4]) => {\n        if (level < 1) { return 1; }\n\n        let blackHoles = player.collapse.stars[2];\n        let mass = player.collapse.mass;\n        if (post) {\n            blackHoles += global.collapseInfo.starCheck[2];\n            if (global.collapseInfo.newMass > mass) { mass = global.collapseInfo.newMass; }\n        }\n\n        const base = level >= 2 ? 2 : 3;\n        let effect = logAny(blackHoles + base, base);\n        if (mass > 1 && player.elements[23] >= 1) { effect *= mass ** 0.1; }\n        return effect;\n    },\n    S4Extra1: () => (10 + player.researches[4][1]) / 10,\n    mergeMaxResets: () => {\n        if (player.upgrades[5][3] !== 1) { return 0; }\n        let max = 2 + player.researchesExtra[5][3];\n        if (player.elements[30] >= 1) { max += player.collapse.maxElement - 29; }\n        return max;\n    },\n    reward: [\n        (post = false) => {\n            let effect = player.merge.rewards[0] + 1;\n            if (post) { effect += global.mergeInfo.checkReward[0]; }\n            return effect * calculateEffects.S5Extra2(global.mergeInfo.S5Extra2, post); //Just in case doesn't count boost from Clusters\n        }, (post = false) => {\n            let level = player.researchesExtra[5][2] + player.merge.rewards[1];\n            if (post) { level += global.mergeInfo.checkReward[1]; }\n            return calculateEffects.S5Extra2(level, post) / calculateEffects.S5Extra2(player.researchesExtra[5][2], post);\n        }\n    ],\n    groupsCost: () => 50 - calculateEffects.S5Extra4(),\n    mergeScore: () => global.mergeInfo.galaxies + (player.merge.rewards[0] * 2) + (player.merge.rewards[1] * 4),\n    S5Upgrade0: () => 3 * ((player.inflation.vacuum ? 1.6 : 1.8) ** player.strangeness[5][1]),\n    S5Upgrade1: () => 2 * ((player.inflation.vacuum ? 1.6 : 1.8) ** player.strangeness[5][1]),\n    S5Upgrade2: (post = false, level = player.upgrades[5][2]) => {\n        if (level < 1) { return 0; }\n        let effect = player.collapse.mass;\n        if (post && global.collapseInfo.newMass > effect) { effect = global.collapseInfo.newMass; }\n\n        return Math.log10(Math.max(effect / 1e4, 10)) / (player.inflation.vacuum ? 4 : 2);\n    },\n    S5Research2: () => 1 + player.researches[5][2] / 160,\n    S5Research3: () => 1 + player.researches[5][3] / 160,\n    S5Extra2: (level, post = false) => {\n        let groups = player.merge.rewards[0];\n        if (post) { groups += global.mergeInfo.checkReward[0]; }\n        return (8 + level * groups) / 8;\n    },\n    S5Extra4: (level = player.researchesExtra[5][4]) => (19 - level) * level / 2, //Starts at 9 and -1 is the step\n    element6: () => player.researchesExtra[4][2] >= 1 ? 2 : 1.5,\n    element24_power: () => player.elements[27] >= 1 ? 0.02 : 0.01,\n    element24: () => new Overlimit(player.buildings[4][0].current).max(1).power(calculateEffects.element24_power()),\n    element26: () => {\n        let effect = new Overlimit(player.buildings[4][0].trueTotal).log(10).toNumber() - 48;\n        if (player.elements[29] >= 1) { effect = (199 + effect) * effect / 200; }\n        return Math.max(effect, 0);\n    },\n    darkSoftcap: (delayOnly = false) => {\n        const delay = global.buildingsInfo.producing[6][1] * (1 + player.researches[6][1]) * (calculateEffects.effectiveDarkEnergy() ** (player.researchesExtra[6][2] / 5));\n        return delayOnly ? delay : delay * 1e6;\n    },\n    effectiveDarkEnergy: (fluid = effectsCache.fluid) => player.darkness.energy * fluid + (fluid - 1) * player.researchesExtra[6][4] / 4 + 1,\n    darkFluid: (post = false) => {\n        let effect = player.darkness.fluid + 1;\n        if (post) { effect += global.inflationInfo.newFluid; }\n        return effect;\n    },\n    S6Upgrade0: () => (4 + player.researchesExtra[6][4]) / 20,\n    S2Strange9: (unlocked = player.strangeness[2][9] >= 1) => unlocked && player.tree[1][5] >= 1 ?\n        (player.vaporization.clouds + 1) ** 0.01 :\n        Math.log10(player.vaporization.clouds + 1) / 80 + 1,\n    trueUniverses: () => player.verses[0].true + player.verses[0].other[0],\n    T0Inflation0: () => player.challenges.stability >= 1 ? 2 : Math.max(2 ** (1 - player.time.stage / 3600), 1),\n    TOInflation1_softcap: () => (player.challenges.active === 0 && player.challenges.super ? 1 : 1e6) * ((1 + player.researchesExtra[6][1]) ** 2),\n    T0Inflation1: () => {\n        const mass = player.buildings[6][0].current.toNumber() + 1;\n        return mass ** 0.01 * Math.min(mass, calculateEffects.TOInflation1_softcap()) ** 0.03;\n    },\n    T0Inflation3: () => (10 + global.inflationInfo.totalSuper) / 10,\n    strangeGain: (interstellar, quarks = true) => {\n        let base = !quarks ? 0 : player.inflation.vacuum ?\n            (player.strangeness[5][3] >= 1 ? 5 : 4) :\n            (player.milestones[1][0] >= 6 ? 2 : 1);\n        if (interstellar) {\n            base = (base + effectsCache.element26) * effectsCache.strangeMiltipliers;\n        }\n        if (quarks) {\n            base *= (1.4 ** player.strangeness[5][2]) * (1.4 ** player.tree[0][2]) * (1.2 ** player.tree[1][1]);\n            if (player.challenges.active === 1) {\n                const completions = player.challenges.stability;\n                base /= 2 ** Math.max(player.stage.resets + completions - 7, 0) * 2 ** completions;\n                if (!interstellar) { base /= 2 ** completions * 4; }\n            } else if (player.challenges.active === 0 && player.challenges.super) { return 1; }\n        } else { base *= (1.4 ** player.strangeness[6][1]) * (1.4 ** player.tree[1][3]); }\n        return base * global.strangeInfo.strangeletsInfo[1] * effectsCache.T0Inflation3;\n    },\n    cosmonGain: () => {\n        const trueVerses = global.inflationInfo.trueUniverses;\n        let base = player.darkness.energy >= 1000 ? player.verses[0].current : trueVerses;\n        if (player.inflation.ends[1] >= 0) { base += (trueVerses - 1) * trueVerses / 10; } //10 is equal to 2 / step\n        if (player.clone.inflation?.vacuum as boolean ?? player.inflation.vacuum) { base++; }\n        return base * 1.4 ** player.tree[1][2];\n    }\n};\n\nexport const assignBuildingsProduction = {\n    globalSpeed: (): number => {\n        const tree = player.tree;\n        const challenge = player.challenges.active;\n        let speed = (1.1 ** player.researches[6][1]) * (1.4 ** player.strangeness[6][0]) * (calculateEffects.T0Inflation1() ** tree[0][1]) * effectsCache.T0Inflation3 * (1.4 ** tree[1][0]);\n        if (player.researchesExtra[4][4] >= 1) { speed *= calculateEffects.star[2](); }\n        if (tree[0][0] >= 1) { speed *= 2; }\n        if (tree[0][0] >= 2 && challenge === null && (player.inflation.vacuum || player.challenges.stability >= 1 || tree[0][4] >= 1)) { speed *= calculateEffects.T0Inflation0(); }\n        if (challenge !== null || (player.darkness.active && player.verses[0].lowest[0] <= 1)) {\n            speed *= 1.1 ** Math.min(tree[0][2], player.challenges.stability) * 5 / (5 - tree[0][5]);\n            if (challenge === null) {\n                speed /= 6 / (6 - player.tree[0][5]);\n            } else if (challenge === 1) {\n                speed /= 8 ** player.challenges.stability * 4;\n            }\n        }\n        return (global.inflationInfo.globalSpeed = speed);\n    },\n    /** Have to be after auto Strangeness, Inflation and interstellar Stage */\n    globalCache: () => {\n        global.dischargeInfo.total = calculateEffects.effectiveGoals();\n        global.dischargeInfo.base = calculateEffects.dischargeBase();\n        effectsCache.S2Upgrade3 = player.upgrades[2][3] === 1 ? calculateEffects.S2Upgrade3() : 1;\n        effectsCache.S2Upgrade4 = player.upgrades[2][4] === 1 ? calculateEffects.S2Upgrade4() : 1;\n        global.accretionInfo.effective = calculateEffects.effectiveRank();\n    },\n    /** Have to be after auto Upgrades */\n    stage1Cache: () => {\n        effectsCache.S1Upgrade6 = player.upgrades[1][6] === 1 ? calculateEffects.S1Upgrade6() : 0;\n        effectsCache.S1Upgrade7 = player.upgrades[1][7] === 1 ? calculateEffects.S1Upgrade7() : 1;\n        let multiplier = (player.inflation.vacuum ? 2 : 1.8) ** player.strangeness[1][0];\n        if (player.upgrades[1][5] === 1) { multiplier *= global.dischargeInfo.base ** global.dischargeInfo.total; }\n        if (player.strangeness[1][6] >= 1) { multiplier *= global.strangeInfo.stageBoost[1]; }\n        if (player.inflation.vacuum) {\n            if (player.tree[0][4] >= 1) { multiplier *= global.milestonesInfo[1].reward[0]; }\n            if (player.challenges.active === 0) { multiplier /= 4; }\n        }\n        effectsCache.microworld = multiplier;\n    },\n    /** Preons, true vacuum only */\n    S1Build1: (noHardcap = false): Overlimit => {\n        const structure = player.buildings[1][1];\n\n        const laterPreons = calculateEffects.effectiveEnergy() ** calculateEffects.S1Extra3();\n        let multiplierList;\n        let multiplier = 6e-4 * effectsCache.microworld * laterPreons;\n        const preonsExcess = new Overlimit(structure.current).minus(structure.true);\n        if (preonsExcess.moreThan(1)) {\n            multiplierList = preonsExcess.power(0.11).plus(structure.true);\n        } else { multiplierList = structure.current; }\n        if (player.upgrades[1][7] === 1) {\n            multiplier *= calculateEffects.S1Upgrade7(true) ** Math.min(structure.true, 1001);\n            if (player.challenges.supervoid[4] >= 4 && structure.true > 1001) { multiplier *= 1.04 ** (structure.true - 1001); }\n        }\n\n        if (noHardcap) { return new Overlimit(multiplier).multiply(multiplierList); }\n        return global.buildingsInfo.producing[1][1].setValue(multiplier).multiply(multiplierList).min(calculateEffects.preonsHardcap(laterPreons));\n    },\n    /** Quarks, true vacuum only */\n    S1Build2: (): Overlimit => global.buildingsInfo.producing[1][2].setValue(effectsCache.S1Upgrade7).power(player.buildings[1][2].true).allMultiply(0.4 * effectsCache.microworld, player.buildings[1][2].current),\n    /** Particles */\n    S1Build3: (): Overlimit => {\n        const index = player.inflation.vacuum ? 3 : 1;\n\n        let multiplier = (player.inflation.vacuum ? 0.2 : 1.6) * effectsCache.microworld;\n        if (player.upgrades[1][0] === 1) { multiplier *= 8; }\n        return global.buildingsInfo.producing[1][index].setValue(effectsCache.S1Upgrade7).power(player.buildings[1][index].true).allMultiply(multiplier, player.buildings[1][index].current);\n    },\n    /** Atoms */\n    S1Build4: (): Overlimit => {\n        const vacuum = player.inflation.vacuum;\n        const index = vacuum ? 4 : 2;\n\n        let multiplier = (vacuum ? 0.8 : 0.4) * effectsCache.microworld;\n        if (player.upgrades[1][3] === 1) { multiplier *= vacuum ? 6 : 4; }\n        return global.buildingsInfo.producing[1][index].setValue(effectsCache.S1Upgrade7).power(player.buildings[1][index].true).allMultiply(multiplier, player.buildings[1][index].current);\n    },\n    /** Molecules, visual will assign effect */\n    S1Build5: (visual = false): number => {\n        const index = player.inflation.vacuum ? 5 : 3;\n\n        let multiplier = 0.2 * effectsCache.microworld * player.buildings[1][index].current.toNumber() * (effectsCache.S1Upgrade7 ** player.buildings[1][index].true);\n        if (player.upgrades[1][4] === 1) { multiplier *= 4; }\n        if (visual) { global.buildingsInfo.producing[1][index].setValue(multiplier); }\n        return multiplier;\n    },\n    /* Tritium */\n    S1Build6: (): number => {\n        let multiplier = assignBuildingsProduction.S1Build5();\n        if (multiplier < 1) { multiplier = 1; }\n        multiplier = logAny(multiplier, calculateEffects.S1Extra1()) * (calculateEffects.S1Research2() ** player.researches[1][2]) * (calculateEffects.S1Research5() ** player.researches[1][5]);\n        if (player.upgrades[1][9] === 1) { multiplier *= calculateEffects.S1Upgrade9(); }\n        if (player.inflation.vacuum) { multiplier *= assignBuildingsProduction.S2Build1(); }\n        if (player.strangeness[1][6] >= 2) { multiplier *= global.strangeInfo.stageBoost[1]; }\n        return (effectsCache.tritium = multiplier);\n    },\n    /** Reset being false will set all levels to 0, true will recalculate them afterwards */\n    S2Levels: (reset = null as boolean | null) => {\n        const info = global.vaporizationInfo;\n        if (reset !== null) {\n            info.S2Extra1 = 0;\n            info.S2Research1 = 0;\n            info.S2Research0 = 0;\n            if (!reset) { return; }\n        }\n        const totalDrops = player.buildings[2][1].total.toNumber(); //Infinity is fine here\n        if (info.S2Extra1 !== player.researchesExtra[2][1]) { info.S2Extra1 = Math.min(player.researchesExtra[2][1], logAny(totalDrops * 9.99e-10 + 1, 1e3)); }\n        if (info.S2Research1 !== player.researches[2][1]) { info.S2Research1 = Math.min(player.researches[2][1], logAny(totalDrops / 100 + 1, 5)); } //Formula is: logAny(totalDrops * (scaling - 1) / startCost + 1, scaling)'\n        if (info.S2Research0 !== player.researches[2][0]) { info.S2Research0 = Math.min(player.researches[2][0], (totalDrops >= 10 ? logAny(totalDrops / 10, 1.366) + 1 : logAny(totalDrops * 0.0366 + 1, 1.366))); }\n    },\n    S2FreeBuilds: () => {\n        const buildings = player.buildings[2];\n        const upgrades = player.upgrades[2];\n\n        let water5 = buildings[5].true;\n        let water4 = buildings[4].true;\n        let water3 = buildings[3].true;\n        let water2 = buildings[2].true;\n        if (upgrades[8] === 1) { water5 += buildings[6].true; }\n        if (upgrades[7] === 1) { water4 += water5 * (1 + player.researches[2][6]); }\n        if (upgrades[6] === 1) { water3 += water4 * (1 + player.researches[2][5]); }\n        if (upgrades[5] === 1) { water2 += water3 * (1 + player.researches[2][4]); }\n        buildings[5].current.setValue(water5);\n        buildings[4].current.setValue(water4);\n        buildings[3].current.setValue(water3);\n        buildings[2].current.setValue(water2);\n    },\n    /** Drops */\n    S2Build1: (): number => {\n        const vacuum = player.inflation.vacuum;\n        const structure = player.buildings[2][1];\n\n        let multiplier = structure.current.toNumber();\n        if (player.challenges.active === 0) {\n            if (multiplier > 1) { multiplier = 1; }\n        } else if (vacuum) {\n            const excess = multiplier - structure.true;\n            if (excess > 1) { multiplier = excess ** 0.2 + structure.true; }\n        }\n        multiplier *= (vacuum ? 2 : 8e-4) * ((player.challenges.active === 0 && player.challenges.super ? 2 : 3) ** global.vaporizationInfo.S2Research0) * ((vacuum && player.tree[1][5] >= 3 ? 2.2 : 2) ** player.strangeness[2][0]);\n        if (player.upgrades[2][0] === 1) { multiplier *= (vacuum ? 1.02 : 1.04) ** structure.true; }\n        if (vacuum && multiplier < 1) { multiplier = 1; }\n        return (global.buildingsInfo.producing[2][1] = multiplier);\n    },\n    /** Puddles, visuals only assigns Structures past Puddles and has no return value */\n    S2Build2: (visual = false): number => {\n        const producings = global.buildingsInfo.producing[2];\n        const structures = player.buildings[2];\n        if (structures[2].true < 1 && !visual) {\n            const rain = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n            return (producings[2] = (rain - 1) * calculateEffects.S2Extra2(rain));\n        }\n        const rain = calculateEffects.S2Extra1(global.vaporizationInfo.S2Extra1);\n        const flow = (player.tree[1][5] >= 3 ? 1.28 : 1.24) ** player.strangeness[2][7]; //True vacuum\n\n        const inVoid = player.challenges.active === 0;\n        const start = inVoid && player.challenges.super ? 1 : 2;\n        producings[6] = structures[6].true < 1 ? 1 : (player.upgrades[2][8] === 1 ? 1.1 : 1.08) ** structures[6].true * flow;\n        producings[5] = Math.max(start * structures[5].current.toNumber() * calculateEffects.S2Extra2(rain) * flow, 1);\n        producings[4] = Math.max(start * structures[4].current.toNumber() * flow, 1);\n        producings[3] = Math.max(start * structures[3].current.toNumber() * flow, 1);\n        if (visual) { return 0; }\n\n        let multiplier = (inVoid ? 6e-4 : 4.8) * structures[2].current.toNumber() * calculateEffects.clouds() * producings[3] * producings[4] * producings[5] * producings[6] * effectsCache.S2Upgrade3 * effectsCache.S2Upgrade4 * ((inVoid && player.challenges.super ? 1.4 : 2) ** global.vaporizationInfo.S2Research1) * rain * ((player.inflation.vacuum ? (player.tree[1][5] >= 3 ? 2 : 1.8) : 1.6) ** player.strangeness[2][1]);\n        if (player.upgrades[2][1] === 1) { multiplier *= calculateEffects.S2Upgrade1(); }\n        if (player.inflation.vacuum) {\n            multiplier *= calculateEffects.S3Extra4();\n            if (player.elements[1] >= 1) { multiplier *= 2; }\n            if (player.tree[0][4] >= 1) { multiplier *= global.milestonesInfo[2].reward[0]; }\n            if (player.strangeness[5][10] >= 2) { multiplier *= global.mergeInfo.galaxies + 1; }\n        }\n        if (player.strangeness[2][6] >= 1) { multiplier *= global.strangeInfo.stageBoost[2]; }\n        return (producings[2] = multiplier);\n    },\n    /** Have to be after auto Upgrades */\n    stage3Cache: () => {\n        const producings = global.buildingsInfo.producing[3];\n        producings[5] = 1.1 ** player.buildings[3][5].true;\n        effectsCache.S3Strange1 = (player.inflation.vacuum ? 1.48 : 1.6) ** player.strangeness[3][1];\n\n        producings[4] = (player.upgrades[3][12] === 1 ? 1.14 : 1.1) ** player.buildings[3][4].true * producings[5];\n        if (player.strangeness[3][7] >= 2 && player.buildings[3][4].true >= 1) { producings[4] *= global.strangeInfo.stageBoost[3]; }\n        effectsCache.S3Strange3 = producings[4] ** (player.inflation.vacuum ? 0.1 : 0.2);\n    },\n    /** Cosmic dust and related softcap */\n    S3Build1: (noHardcap = false): Overlimit => {\n        const researchesS3 = player.researches[3];\n        const upgradesS3 = player.upgrades[3];\n        const vacuum = player.inflation.vacuum;\n\n        let multiplier = (vacuum ? 2 : 8e-20) * (3 ** researchesS3[0]) * (2 ** researchesS3[3]) * (3 ** researchesS3[5]) * (1.11 ** player.researchesExtra[3][0]) * (calculateEffects.S3Extra1() ** global.accretionInfo.effective) * (1.8 ** player.strangeness[3][0]);\n        if (vacuum) {\n            multiplier *= calculateEffects.submersion();\n            if (player.elements[4] >= 1) { multiplier *= 1.4; }\n            if (player.elements[14] >= 1) { multiplier *= 1.4; }\n            if (player.strangeness[5][10] >= 3) { multiplier *= global.mergeInfo.galaxies + 1; }\n            if (player.tree[0][4] >= 1) { multiplier *= global.milestonesInfo[3].reward[0]; }\n        }\n        if (upgradesS3[0] === 1) { multiplier *= calculateEffects.S3Upgrade0() ** player.buildings[3][1].true; }\n        if (upgradesS3[1] === 1) { multiplier *= calculateEffects.S3Upgrade1(); }\n        if (upgradesS3[2] === 1) { multiplier *= 2; }\n        if (upgradesS3[5] === 1) { multiplier *= 3; }\n        if (upgradesS3[6] === 1) { multiplier *= 2 * 1.5 ** researchesS3[7]; }\n        if (upgradesS3[9] === 1) { multiplier *= 2; }\n        if (upgradesS3[10] === 1) { multiplier *= 8 * 2 ** researchesS3[8]; }\n        if (player.strangeness[3][3] >= 1) { multiplier *= effectsCache.S3Strange3; }\n        if (player.challenges.active === 0) {\n            global.accretionInfo.dustSoft = player.accretion.rank >= 5 ? 0.8 : 0.9;\n        } else if (player.accretion.rank >= 5) {\n            global.accretionInfo.dustSoft = vacuum || multiplier > 1 ? 0.9 : 1.1;\n        } else { global.accretionInfo.dustSoft = 1; }\n        const producing = (noHardcap ? new Overlimit(multiplier) : global.buildingsInfo.producing[3][1].setValue(multiplier)).multiply(player.buildings[3][1].current).power(global.accretionInfo.dustSoft);\n        if (vacuum) {\n            if (player.researchesExtra[3][5] >= 2) {\n                producing.multiply(calculateEffects.dustDelay());\n            } else if (!noHardcap && player.researchesExtra[3][5] < 1) {\n                producing.min(calculateEffects.dustHardcap());\n            }\n            producing.max(1);\n        }\n        return producing;\n    },\n    /** Planetesimals */\n    S3Build2: (): number => {\n        let multiplier = player.buildings[3][2].current.toNumber() * (3 ** player.researches[3][2]) * calculateEffects.S3Research6() * effectsCache.S3Strange1;\n        if (player.upgrades[3][3] === 1) { multiplier *= calculateEffects.S3Upgrade3() ** player.buildings[3][2].true; }\n        if (player.upgrades[3][4] === 1) { multiplier *= 3; }\n        if (player.strangeness[3][3] >= 1) { multiplier *= effectsCache.S3Strange3; }\n        return (global.buildingsInfo.producing[3][2] = multiplier);\n    },\n    /** Protoplanets */\n    S3Build3: (): number => {\n        let multiplier = 0.4 * player.buildings[3][3].current.toNumber() * global.buildingsInfo.producing[3][4] * effectsCache.S3Strange1;\n        if (player.researchesExtra[3][2] >= 1) { multiplier *= 2; }\n        if (player.upgrades[3][7] === 1) { multiplier *= 1.02 ** player.buildings[3][3].true; }\n        return (global.buildingsInfo.producing[3][3] = multiplier);\n    },\n    /** Have to be after auto Upgrades */\n    stage4Cache: () => {\n        effectsCache.star[0] = calculateEffects.star[0]();\n        effectsCache.star[1] = calculateEffects.star[1]();\n        effectsCache.star[2] = calculateEffects.star[2]();\n\n        let multiplier = calculateEffects.S4Research0() * calculateEffects.mass() * effectsCache.star[1] * calculateEffects.S4Research4() * (1.6 ** player.strangeness[4][0]);\n        if (player.elements[4] >= 1) { multiplier *= 1.4; }\n        if (player.elements[14] >= 1) { multiplier *= 1.4; }\n        if (player.inflation.vacuum) {\n            if (player.researchesExtra[2][3] >= 1) { multiplier *= effectsCache.S2Upgrade3; }\n            if (player.researchesExtra[2][3] >= 3) {\n                multiplier *= effectsCache.S2Upgrade4;\n            } else if (player.researchesExtra[2][3] === 2) { multiplier *= effectsCache.S2Upgrade4 ** 0.5; }\n            if (player.tree[0][4] >= 1) { multiplier *= global.milestonesInfo[4].reward[0]; }\n            if (player.challenges.active === 0) { multiplier /= 8000; }\n        }\n        if (player.strangeness[4][7] >= 1) { multiplier *= global.strangeInfo.stageBoost[4]; }\n        effectsCache.interstellar = multiplier;\n    },\n    /** Reset being false will set all levels to 0, true will recalculate them afterwards */\n    S4Levels: (reset = null as boolean | null) => {\n        if (reset !== null) {\n            global.mergeInfo.S5Extra2 = 0;\n            if (!reset) { return; }\n        }\n        const S5Extra2Max = player.researchesExtra[5][2] + player.merge.rewards[1];\n        if (global.mergeInfo.S5Extra2 !== S5Extra2Max) { global.mergeInfo.S5Extra2 = Math.min(S5Extra2Max, new Overlimit(player.buildings[4][0].total).divide('1e330').plus(1).log(1e30).toNumber()); }\n    },\n    /** Brown dwarfs */\n    S4Build1: (): Overlimit => {\n        const multiplierList = [player.buildings[4][1].current, calculateEffects.S4Shared()];\n        let multiplier = 40 * effectsCache.interstellar;\n        if (player.elements[1] >= 1) { multiplier *= 2; }\n        if (player.elements[27] >= 1) { multiplier *= effectsCache.star[0]; }\n        const level = player.inflation.vacuum ? 4 : 3;\n        if (player.researches[5][1] >= level) {\n            multiplierList.push(global.buildingsInfo.producing[5][2]);\n            multiplier /= 2 ** level;\n        }\n        return global.buildingsInfo.producing[4][1].setValue(multiplier).allMultiply(...multiplierList);\n    },\n    /** Main sequence */\n    S4Build2: (): Overlimit => {\n        const multiplierList = [player.buildings[4][2].current, calculateEffects.S4Shared()];\n        let multiplier = 1200 * effectsCache.interstellar * effectsCache.star[0] * (2 ** player.researches[4][3]);\n        const level = player.inflation.vacuum ? 3 : 2;\n        if (player.researches[5][1] >= level) {\n            multiplierList.push(global.buildingsInfo.producing[5][2]);\n            multiplier /= 2 ** level;\n        }\n        return global.buildingsInfo.producing[4][2].setValue(multiplier).allMultiply(...multiplierList);\n    },\n    /** Red supergiants */\n    S4Build3: (): Overlimit => {\n        const multiplierList = [player.buildings[4][3].current, calculateEffects.S4Shared()];\n        let multiplier = 6e7 * effectsCache.interstellar;\n        const level = player.inflation.vacuum ? 2 : 1;\n        if (player.researches[5][1] >= level) {\n            multiplierList.push(global.buildingsInfo.producing[5][2]);\n            multiplier /= 2 ** level;\n        }\n        if (player.elements[33] >= 1) { multiplier *= effectsCache.star[0]; }\n        return global.buildingsInfo.producing[4][3].setValue(multiplier).allMultiply(...multiplierList);\n    },\n    /** Blue hypergiants */\n    S4Build4: (): Overlimit => {\n        const multiplierList = [player.buildings[4][4].current, calculateEffects.S4Shared()];\n        let multiplier = 6e9 * effectsCache.interstellar;\n        const level = player.inflation.vacuum ? 1 : 0;\n        if (player.researches[5][1] >= level) {\n            multiplierList.push(global.buildingsInfo.producing[5][2]);\n            multiplier /= 2 ** level;\n        }\n        return global.buildingsInfo.producing[4][4].setValue(multiplier).allMultiply(...multiplierList);\n    },\n    /** Quasi-stars */\n    S4Build5: (): Overlimit => {\n        return global.buildingsInfo.producing[4][5].setValue(2e11 * effectsCache.interstellar).allMultiply(player.buildings[4][5].current, calculateEffects.S4Shared(), global.buildingsInfo.producing[5][2]);\n    },\n    /** All Intergalactic Structures productions, have to be after auto Galaxies */\n    stage5Cache: () => {\n        const vacuum = player.inflation.vacuum;\n        const production = global.buildingsInfo.producing[5][3];\n        const moreStars = 10 ** player.researches[5][4];\n\n        let base = (vacuum ? 2 : 6) + calculateEffects.S5Upgrade2();\n        if (vacuum && player.tree[0][4] >= 1) { base += global.milestonesInfo[5].reward[1]; }\n        effectsCache.galaxyBase = base;\n\n        production.setValue(base).power(player.buildings[5][3].true);\n        if (global.mergeInfo.galaxies > 0) {\n            let multiplier3 = (global.mergeInfo.galaxies + 1) / (player.buildings[5][3].true + 1);\n            if (vacuum) { multiplier3 *= calculateEffects.reward[0](); }\n            if (player.upgrades[5][6] === 1) { multiplier3 *= 100 * moreStars; }\n            production.multiply(multiplier3);\n        }\n        let globalMult = (vacuum ? 1.4 : 1.6) ** player.strangeness[5][0];\n        if (player.strangeness[5][7] >= 2) { globalMult *= global.strangeInfo.stageBoost[5]; }\n        if (vacuum && player.tree[0][4] >= 1) { globalMult *= global.milestonesInfo[5].reward[0]; }\n\n        const min = 2 ** player.researches[5][1];\n        let multiplier2 = 2 * min * globalMult;\n        if (player.upgrades[5][1] === 1) { multiplier2 *= calculateEffects.S5Upgrade1(); }\n        if (player.upgrades[5][5] === 1) { multiplier2 *= 1000 * moreStars; }\n        if (vacuum && player.upgrades[3][13] === 1) { multiplier2 *= calculateEffects.S3Upgrade13(); }\n        global.buildingsInfo.producing[5][2].setValue(multiplier2).allMultiply(player.buildings[5][2].current, production, calculateEffects.S5Research3() ** player.buildings[5][2].true).max(min);\n\n        let multiplier1 = 6 * (2 ** player.researches[5][0]) * globalMult;\n        if (player.upgrades[5][0] === 1) { multiplier1 *= calculateEffects.S5Upgrade0(); }\n        if (player.upgrades[5][4] === 1) { multiplier1 *= 1000 * moreStars; }\n        if (vacuum) {\n            if (player.researchesExtra[2][4] >= 1) { multiplier1 *= effectsCache.S2Upgrade3; }\n            if (player.researchesExtra[2][4] >= 3) {\n                multiplier1 *= effectsCache.S2Upgrade4;\n            } else if (player.researchesExtra[2][4] === 2) { multiplier1 *= effectsCache.S2Upgrade4 ** 0.5; }\n        }\n        global.buildingsInfo.producing[5][1].setValue(multiplier1).allMultiply(player.buildings[5][1].current, production, calculateEffects.S5Research2() ** player.buildings[5][1].true);\n    },\n    stage6Cache: () => {\n        effectsCache.fluid = calculateEffects.darkFluid();\n    },\n    S6Build1: (): number => (global.buildingsInfo.producing[6][1] = (1 + player.buildings[6][1].true) * ((1 + player.researches[6][2] / 100) ** player.buildings[6][1].true)),\n    verse0: (): number => {\n        const first = 6 + player.researchesExtra[6][0];\n        let multiplier = (global.inflationInfo.trueUniverses < 1 ? player.verses[0].current : (global.inflationInfo.trueUniverses ** (global.inflationInfo.trueUniverses / 4) * (player.verses[0].current + 1) / (global.inflationInfo.trueUniverses + 1))) * effectsCache.fluid * (3 ** Math.min(player.researches[6][0], first)) * (calculateEffects.darkSoftcap(true) ** (player.researchesExtra[6][3] / 40));\n        if (player.researches[6][0] > first) { multiplier *= 2 ** (player.researches[6][0] - first); }\n        return multiplier;\n    },\n    /** Quarks */\n    strange0: (iron = player.elements[26] >= 1) => {\n        const vacuum = player.inflation.vacuum;\n        const stageBoost = global.strangeInfo.stageBoost;\n        const strangeQuarks = player.strange[0][player.verses[0].current >= 12 ? 'total' : 'current'] + 1;\n\n        stageBoost[1] = strangeQuarks ** (vacuum ? 0.26 : 0.22);\n        stageBoost[2] = strangeQuarks ** (vacuum ? 0.22 : 0.18);\n        stageBoost[3] = strangeQuarks ** (vacuum ? 0.68 : 0.76);\n        stageBoost[4] = strangeQuarks ** (iron ? 0.32 : 0.16);\n        stageBoost[5] = strangeQuarks ** 0.06;\n    },\n    /** Strangelets */\n    strange1: () => {\n        const information = global.strangeInfo.strangeletsInfo;\n        const strangelets = player.strange[1].current;\n\n        information[0] = (Math.log2(strangelets + 2) - 1) / 100;\n        information[1] = strangelets ** 0.4 / 80 + 1;\n    }\n};\n\nexport const assignResetInformation = {\n    /** And energyType, energyStage, darkEnergy */\n    trueEnergy: (reset = false) => {\n        const energyType = global.dischargeInfo.energyType;\n        if (player.inflation.vacuum) {\n            energyType[1] = [0, 1, 3, 5, 10, 20];\n            energyType[2] = [0, 20, 30, 40, 50, 60, 120];\n            energyType[3] = [0, 20, 40, 60, 120, 160];\n            energyType[4] = [0, 80, 160, 240, 320, 400];\n            energyType[5] = [0, 400, 400, 2000];\n\n            energyType[1][1] += player.strangeness[1][7] * 2;\n            if (player.strangeness[5][10] >= 1) { energyType[5][3] *= 5; }\n        } else { energyType[1] = [0, 1, 5, 20]; }\n\n        let energyTrue = 0;\n        for (let s = 1; s < (player.inflation.vacuum ? 6 : 2); s++) {\n            let add = 0;\n            for (let i = 1; i < energyType[s].length; i++) {\n                if (player.challenges.active === 0 && s !== 1) { energyType[s][i] /= (s >= 4 ? 4 : 2); }\n                if (!reset) { add += energyType[s][i] * player.buildings[s][i as 1].true; }\n            }\n            global.dischargeInfo.energyStage[s] = add;\n            if (!reset) { energyTrue += add; }\n        }\n        global.dischargeInfo.energyTrue = energyTrue;\n\n        //Dark energy\n        energyType[6] = [0, 1];\n        global.dischargeInfo.energyStage[6] = 0;\n        for (let i = 1; i < energyType[6].length; i++) {\n            energyType[6][i] *= 1 + player.researches[6][3];\n            if (!reset) { global.dischargeInfo.energyStage[6] += energyType[6][i] * player.buildings[6][i as 1].true; }\n        }\n    },\n    newClouds: (): number => {\n        const softcap = calculateEffects.cloudsGain();\n        return (global.vaporizationInfo.get = (player.vaporization.clouds ** (1 / softcap) + player.buildings[2][1][player.researchesExtra[2][0] >= 1 || (player.inflation.vacuum && player.tree[1][5] >= 2) ? 'total' : 'current'].toNumber() / calculateEffects.S2Upgrade2()) ** softcap - player.vaporization.clouds);\n    },\n    maxRank: () => {\n        global.accretionInfo.maxRank = player.inflation.vacuum ? (player.strangeness[3][9] >= 2 ? 1e15 : player.strangeness[3][9] >= 1 ? 7 : 6) : (player.proggress.main >= 6 ? 5 : 4);\n    },\n    solarHardcap: () => {\n        effectsCache.S3SolarDelay = calculateEffects.massGain();\n        let effectS1 = effectsCache.star[2];\n        if (player.elements[10] >= 1) { effectS1 *= 2; }\n        if (player.researchesExtra[4][1] >= 1) { effectS1 *= calculateEffects.S4Extra1(); }\n        effectsCache.S1SolarDelay = effectS1;\n\n        global.collapseInfo.solarCap = 0.01235 * effectsCache.S3SolarDelay * effectS1;\n        if (player.strangeness[5][7] >= 1) { global.collapseInfo.solarCap *= global.strangeInfo.stageBoost[5]; }\n        if (player.tree[1][6] >= 3) { global.collapseInfo.solarCap *= 1.01 ** global.accretionInfo.effective; }\n        if (player.strangeness[5][10] >= 4 && player.tree[1][7] >= 3) { global.collapseInfo.solarCap *= global.mergeInfo.galaxies / 1000 + 1; }\n    },\n    /** Doesn't assign, have to be after assignResetInformation.newMass() */\n    timeUntil: (): number => {\n        if (player.inflation.vacuum) {\n            assignBuildingsProduction.stage3Cache();\n            assignBuildingsProduction.stage1Cache();\n            return new Overlimit(global.collapseInfo.solarCap / 8.96499278339628e-67).minus(player.buildings[1][0].current).allDivide(assignBuildingsProduction.S1Build1(), global.inflationInfo.globalSpeed).replaceNaN(Infinity).toNumber();\n        } else { return 0; }\n    },\n    newMass: () => {\n        if (player.inflation.vacuum) {\n            assignResetInformation.solarHardcap();\n            global.collapseInfo.newMass = Math.min(player.buildings[1][0].current.toNumber() * 8.96499278339628e-67, global.collapseInfo.solarCap); //1.78266192e-33 / 1.98847e33\n        } else { global.collapseInfo.newMass = calculateEffects.massGain(); }\n    },\n    newStars: (reset = false) => {\n        const starCheck = global.collapseInfo.starCheck;\n        if (reset) {\n            starCheck[0] = 0;\n            starCheck[1] = 0;\n            starCheck[2] = 0;\n            return;\n        }\n        const building = player.buildings[4];\n        const stars = player.collapse.stars;\n        const mainStars = player.inflation.vacuum && player.challenges.supervoid[4] >= 3;\n        const conversion = mainStars ? (1 + player.strangeness[4][3]) * player.strangeness[4][3] / 20 : player.strangeness[4][3] / 10;\n        starCheck[0] = building[2].trueTotal.moreThan(0) ? building[2].true + building[1].true * conversion : 0;\n        starCheck[1] = building[3].true;\n        if (mainStars && building[3].trueTotal.moreThan(0)) { starCheck[1] += building[2].true * conversion; }\n        starCheck[2] = building[4].true + (building[5].true * player.researches[4][5]);\n        if (player.inflation.vacuum && player.tree[1][7] >= 1) {\n            starCheck[0] += Math.min(starCheck[0], stars[0]) / 4;\n            starCheck[1] += Math.min(starCheck[1], stars[1]) / 4;\n            starCheck[2] += Math.min(starCheck[2], stars[2]) / 4;\n        }\n        starCheck[0] = Math.max(Math.floor(starCheck[0]) - stars[0], 0);\n        starCheck[1] = Math.max(Math.floor(starCheck[1]) - stars[1], 0);\n        starCheck[2] = Math.max(Math.floor(starCheck[2]) - stars[2], 0);\n    },\n    mergeReward: (reset = false) => {\n        const rewardCheck = global.mergeInfo.checkReward;\n        if (reset) {\n            rewardCheck[0] = 0;\n            rewardCheck[1] = 0;\n            return;\n        }\n        const researchesExtra = player.researchesExtra[5];\n        const requirement = calculateEffects.groupsCost();\n\n        rewardCheck[0] = researchesExtra[1] >= 2 ?\n            Math.floor(global.mergeInfo.galaxies / requirement) - player.merge.rewards[0] :\n            researchesExtra[1] >= 1 ? Math.floor(player.buildings[5][3].true / requirement) - player.merge.claimed[0] : 0;\n        rewardCheck[1] = researchesExtra[5] >= 2 ?\n            Math.floor(global.mergeInfo.galaxies / 100) - player.merge.rewards[1] :\n            researchesExtra[5] >= 1 ? Math.floor(player.buildings[5][3].true / 100) - player.merge.claimed[1] : 0;\n    },\n    newFluid: (): number => {\n        const effective = player.darkness.fluid + 1;\n        const soft = calculateEffects.S6Upgrade0();\n        return (global.inflationInfo.newFluid = (Math.log2(Math.max(player.buildings[6][0].current.toNumber() / 1e8, 1)) + player.darkness.energy +\n            effective ** (1 / soft)) ** soft - effective);\n    },\n    /** Interstellar only, also assigns related cache */\n    quarksGain: () => {\n        let multiplier = global.mergeInfo.galaxies + 1;\n        if (player.inflation.vacuum) {\n            multiplier *= calculateEffects.S5Extra2(player.researchesExtra[5][2] + player.merge.rewards[1]);\n            if (player.strangeness[2][9] >= 1 || player.tree[1][5] >= 1) { multiplier *= calculateEffects.S2Strange9(); }\n            if (player.tree[1][6] >= 4) { multiplier *= 1.02 ** calculateEffects.effectiveRank(); }\n        }\n        effectsCache.strangeMiltipliers = multiplier;\n\n        effectsCache.element26 = calculateEffects.element26();\n        global.strangeInfo.strange0Gain = player.proggress.main >= 11 ? calculateEffects.strangeGain(true) : 1;\n        global.strangeInfo.strange1Gain = player.strangeness[5][8] >= 1 ? calculateEffects.strangeGain(true, false) : 0;\n    }\n};\n\nexport const buyBuilding = (index: number, stageIndex: number, howMany = player.toggles.shop.input, auto = false) => {\n    if (!checkBuilding(index, stageIndex)) { return; }\n    const building = player.buildings[stageIndex][index as 1];\n\n    let currency; //Readonly\n    let minus;\n    let free = false;\n    let multi = true;\n    if (stageIndex === 1) {\n        currency = player.buildings[1][index - 1].current;\n        if (player.tree[1][8] >= 1) {\n            free = true;\n        } else if (index === 1 && player.inflation.vacuum) {\n            free = player.strangeness[1][8] >= 1 && (player.challenges.supervoid[3] >= 5 || player.researchesExtra[1][2] >= 1);\n        }\n    } else if (stageIndex === 2) {\n        currency = player.buildings[2][index === 1 ? 0 : 1].current;\n        free = player.tree[1][8] >= 2;\n    } else if (stageIndex === 3) {\n        currency = player.buildings[3][0].current;\n        free = player.tree[1][8] >= 3;\n        if (global.accretionInfo.disableAuto) {\n            if (player.accretion.rank >= 6) {\n                minus = global.collapseInfo.solarCap * 1.98847e33;\n            } else if (player.strangeness[3][4] < 2 && player.challenges.supervoid[3] >= 5) {\n                minus = global.accretionInfo.rankCost[player.accretion.rank];\n            }\n        }\n    } else if (stageIndex === 5 && index === 3) {\n        currency = player.collapse.mass;\n        multi = false;\n    } else if (stageIndex === 6) {\n        currency = player.buildings[6][0].current;\n    } else {\n        currency = player.buildings[4][0].current;\n        free = player.tree[1][8] >= 4;\n    }\n\n    const budget = new Overlimit(currency);\n    if (auto && !free && multi && building.true >= 1) {\n        if (minus !== undefined) { budget.minus(minus); }\n        const divide = player.toggles.shop.wait[stageIndex];\n        if (divide > 1) { budget.divide(player.toggles.shop.wait[stageIndex]); }\n    }\n\n    const total = calculateBuildingsCost(index, stageIndex);\n    if (total.moreThan(budget)) { return; }\n\n    let afford = 1;\n    if (howMany !== 1 && multi) {\n        const scaling = global.buildingsInfo.increase[stageIndex][index]; //Must be >1\n        if (free) {\n            afford = Math.floor(budget.divide(total).log(scaling).toNumber()) + 1;\n\n            if (howMany > 0) {\n                if (afford < howMany) { return; }\n                afford = howMany;\n            }\n        } else {\n            afford = Math.floor(budget.multiply(scaling - 1).divide(total).plus(1).log(scaling).toNumber());\n\n            if (howMany > 0) {\n                if (afford < howMany) { return; }\n                afford = howMany;\n            }\n            if (afford > 1) { total.multiply(new Overlimit(scaling).power(afford).minus(1).divide(scaling - 1)); }\n        }\n\n        if (!isFinite(afford)) {\n            errorNotify(`Error encountered, couldn't create ${afford} of ${global.buildingsInfo.name[stageIndex][index]}`);\n            return;\n        }\n    }\n    building.true += afford;\n    building.current.plus(afford);\n    building.total.plus(afford);\n    building.trueTotal.plus(afford);\n\n    if (typeof currency === 'object') {\n        if (!free) {\n            currency.minus(total);\n            if (player.inflation.vacuum) {\n                if (stageIndex === 1) {\n                    if (index === 1) { player.buildings[3][0].current.setValue(currency).multiply(1.78266192e-33); }\n                } else if (stageIndex === 2) {\n                    if (index === 1) { player.buildings[1][5].current.setValue(currency).multiply(6.02214076e23); }\n                } else if (stageIndex === 3) {\n                    player.buildings[1][0].current.setValue(currency).divide(1.78266192e-33);\n                }\n            }\n        }\n\n        if (player.inflation.vacuum || stageIndex === 1) { addEnergy(afford, index, stageIndex); }\n        if (stageIndex === 1) { //True vacuum only\n            if (index === 5 && player.upgrades[1][8] === 0) { player.buildings[2][0].current.setValue(building.current).divide(6.02214076e23); }\n        } else if (stageIndex === 2) {\n            if (index === 1) {\n                if (player.buildings[2][2].true < 1) { assignBuildingsProduction.S2Levels(); }\n            } else { assignBuildingsProduction.S2FreeBuilds(); }\n        } else if (stageIndex === 3) {\n            if (index >= 4) {\n                assignBuildingsProduction.stage3Cache();\n                awardMilestone(1, 3);\n            }\n        } else if (stageIndex === 4) {\n            global.collapseInfo.trueStars += afford;\n        }\n\n        if (!auto) {\n            numbersUpdate();\n            if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Made ${format(afford)} '${global.buildingsInfo.name[stageIndex][index]}'`; }\n        }\n    } else if (stageIndex === 5 && index === 3) {\n        global.mergeInfo.galaxies += afford;\n        reset('galaxy', player.inflation.vacuum ? [1, 2, 3, 4, 5] : [4, 5]);\n        calculateMaxLevel(0, 4, 'researches');\n        calculateMaxLevel(1, 4, 'researches');\n        calculateMaxLevel(2, 4, 'researches');\n        calculateMaxLevel(5, 4, 'researches');\n        awardVoidReward(5);\n        awardMilestone(1, 5);\n        if (!auto) {\n            numbersUpdate();\n            if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Caused Galaxy reset'; }\n        }\n    }\n};\n\n/** Increase is how many new Structures have been gained */\nexport const addEnergy = (increase: number, index: number, stage: number) => {\n    const info = global.dischargeInfo;\n\n    const add = info.energyType[stage][index] * increase;\n    info.energyStage[stage] += add;\n    if (stage === 6) {\n        if (player.upgrades[6][0] !== 1) { return; }\n        player.darkness.energy += add;\n        return;\n    }\n    info.energyTrue += add;\n    player.discharge.energy += add;\n};\n\nexport const calculateBuildingsCost = (index: number, stageIndex: number): Overlimit => {\n    let increase = global.buildingsInfo.increaseStart[stageIndex][index];\n    let firstCost = global.buildingsInfo.firstCost[stageIndex][index];\n    if (stageIndex === 1) {\n        increase -= effectsCache.S1Upgrade6;\n        if (index === 1) {\n            if (!player.inflation.vacuum && player.upgrades[1][2] === 1) { firstCost /= 8; }\n        } else if (index === 3) {\n            if (player.upgrades[1][1] === 1) { firstCost /= 16; }\n        } else if (index === 4) {\n            if (player.upgrades[1][2] === 1) { firstCost /= 8; }\n            if (player.researchesExtra[1][0] >= 1) { firstCost /= 16; }\n        }\n    } else if (stageIndex === 3) {\n        if (player.strangeness[3][7] >= 1) { firstCost /= global.strangeInfo.stageBoost[3]; }\n        if (index === 4) {\n            if (player.upgrades[3][11] === 1) { increase /= 2; }\n        }\n    } else if (stageIndex === 4) {\n        if (player.elements[2] >= 1) { increase -= 0.1; }\n        if (player.elements[8] >= 1) { increase -= 0.05; }\n        firstCost /= 2 ** player.strangeness[4][1];\n        if (player.researchesExtra[4][3] >= 1) { firstCost /= effectsCache.star[1]; }\n        if (player.elements[13] >= 1) { firstCost /= 100; }\n        if (index === 1) {\n            if (player.strangeness[4][7] >= 2) { firstCost /= global.strangeInfo.stageBoost[4]; }\n        } else if (player.challenges.active === 0 && player.challenges.super) { firstCost *= 100; }\n    } else if (stageIndex === 5) {\n        if (index === 3) {\n            if (player.elements[32] >= 1) { increase -= 0.01; }\n            if (player.challenges.active === 0) {\n                increase += 0.05;\n            } else if (player.challenges.active === 1) {\n                increase += 0.01;\n            }\n            if (player.elements[36] >= 1) { firstCost /= 1.21; }\n        } else if (player.challenges.active === 0 && player.challenges.super) {\n            firstCost *= 100;\n        }\n    } else if (stageIndex === 6) {\n        if (index === 1) {\n            increase -= player.researches[6][2] / 20;\n        }\n    }\n\n    global.buildingsInfo.increase[stageIndex][index] = increase;\n    return new Overlimit(increase).power(player.buildings[stageIndex][index as 1].true).multiply(firstCost);\n};\n\nexport const buyVerse = (index: number, auto = false) => {\n    if (!checkVerse(index) || calculateVerseCost(index) > calculateEffects.mergeScore()) { return; }\n    const challenge = player.challenges.active;\n\n    const verse = player.verses[index as 0];\n    if (index !== 0 || challenge === null) {\n        if (index !== 0) { return Notify('Not implemented'); }\n        verse.true++;\n    } else if (challenge === 0 && !player.challenges.super) {\n        verse.other[0]++;\n    } else { return Notify('Not implemented'); }\n    verse.current++;\n    verse.total++;\n    if (index === 0) {\n        if (player.stage.active < 6) { setActiveStage(1); }\n        global.inflationInfo.trueUniverses = calculateEffects.trueUniverses();\n        const income = global.inflationInfo.trueUniverses;\n        player.cosmon[0].current += income;\n        player.cosmon[0].total += income;\n        player.inflation.resets++;\n        player.time.export[1] = 0;\n        player.time.export[2] = 0;\n        player.inflation.vacuum = false;\n        prepareVacuum(false);\n        if (challenge !== null) {\n            player.challenges.active = null;\n            player.clone = {};\n            prepareChallenge();\n        }\n        resetVacuum(1);\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Caused Universe reset'; }\n    }\n};\n\nexport const calculateVerseCost = (index: number): number => {\n    if (index !== 0) { return 2 + player.verses[1].true; }\n    const challenge = player.challenges.active;\n    return 120 * 1.5 ** (challenge === null ? player.verses[0].true : player.verses[0].other[challenge === 0 && !player.challenges.super ? 0 : challenge + 1]);\n};\n\nconst gainBuildings = (get: number, stageIndex: number, time: number) => {\n    let stageGet = stageIndex;\n    const add = new Overlimit(time);\n    if (stageIndex === 1) {\n        if (!player.inflation.vacuum && get < 5) { get += 2; }\n        add.multiply(assignBuildingsProduction[`S1Build${get + 1}` as 'S1Build1']());\n        if (get === 5 && player.upgrades[1][8] !== 1) { return; }\n        if (!player.inflation.vacuum) { get -= 2; }\n    } else if (stageIndex === 5) {\n        add.multiply(global.buildingsInfo.producing[5][1]).divide(4 ** get);\n        stageGet = 4;\n        get++;\n    } else if (stageIndex === 6) {\n        assignBuildingsProduction.S6Build1(); //Sets hardcap delay\n        add.multiply(assignBuildingsProduction.verse0());\n\n        /* //Non simplified formula is:\n        const s = 4 / 3;\n        const cur = (((1 - s / 2) ** 2 + 2 * s * true / soft) ** 0.5 + s / 2 - 1) / s * soft;\n        const true = cur * (2 * cur / soft + 1) / 3;*/\n        const current = player.buildings[6][0].current.toNumber();\n        const softcap = calculateEffects.darkSoftcap();\n        if (current > softcap) {\n            add.setValue(((softcap * (softcap + 24 * add.toNumber()) + 8 * current * (2 * current + softcap)) ** 0.5 - softcap) / 4 - current);\n        } else {\n            const trueValue = current + add.toNumber();\n            if (trueValue > softcap) { add.setValue(((softcap * (softcap + 24 * trueValue)) ** 0.5 - softcap) / 4 - current); }\n        }\n    } else {\n        add.multiply(assignBuildingsProduction[`S${stageIndex}Build${get + 1}` as 'S2Build1']());\n        if (stageIndex === 4) { get = 0; }\n    }\n    if (add.equal(0)) { return; }\n    if (!add.isFinite()) {\n        errorNotify(`Error encountered, couldn't gain ${add} of ${global.buildingsInfo.name[stageGet][get]}`);\n        return;\n    }\n\n    const building = player.buildings[stageGet][get];\n    building.current.plus(add);\n    building.total.plus(add);\n    building.trueTotal.plus(add);\n\n    if (stageIndex === 1) {\n        if (player.inflation.vacuum) {\n            if (get === 0) {\n                player.buildings[3][0].current.setValue(building.current).multiply(1.78266192e-33);\n                player.buildings[3][0].total.setValue(building.total).multiply(1.78266192e-33);\n                awardMilestone(0, 3);\n            } else if (get === 5) {\n                player.buildings[2][0].current.setValue(building.current).divide(6.02214076e23);\n            }\n        }\n    } else if (stageIndex === 2) {\n        if (get === 1) {\n            assignBuildingsProduction.S2Levels();\n        }\n    } else if (stageIndex === 3) {\n        if (get === 0) { //False vacuum only\n            if (player.accretion.rank < 5 && building.current.moreThan(1e30)) { building.current.setValue(1e30); }\n            awardMilestone(0, 3);\n        }\n    }\n};\n\nconst gainStrange = (get: 0 | 1, time: number) => {\n    const strange = player.strange[get];\n    const add = global.strangeInfo.strangeletsInfo[0] * (global.strangeInfo[`strange${get}Gain`] / player.time.stage) * time;\n    if (add === 0) { return; }\n    if (!isFinite(add)) {\n        errorNotify(`Error encountered, couldn't gain ${add} of ${global.strangeInfo.name[get]}`);\n        return;\n    }\n    strange.current += add;\n    strange.total += add;\n    assignBuildingsProduction[`strange${get}`]();\n};\n\nexport const buyUpgrades = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements', auto = false): boolean => {\n    if (!auto && !checkUpgrade(upgrade, stageIndex, type)) { return false; } //Auto should had already checked\n\n    let free = false;\n    let currency: Overlimit; //Readonly\n    if (stageIndex === 1) {\n        currency = new Overlimit(player.discharge.energy);\n        if (player.inflation.vacuum) { free = (player.challenges.supervoid[3] >= 5 || player.accretion.rank >= 6) && player.strangeness[1][9] >= 1; }\n    } else if (stageIndex === 2) {\n        currency = player.buildings[2][1].current;\n    } else if (stageIndex === 3) {\n        currency = player.buildings[3][0].current;\n    } else if (stageIndex === 6) {\n        currency = type === 'researchesExtra' ? new Overlimit(player.darkness.energy) : player.buildings[6][0].current;\n    } else {\n        currency = player.buildings[4][0].current;\n    }\n    if (currency.isNaN()) {\n        errorNotify(`Error encountered, prevented spending of NaN ${global.stageInfo.costName[stageIndex]}`);\n        return false;\n    }\n\n    if (type === 'upgrades') {\n        const pointer = global.upgradesInfo[stageIndex];\n\n        if (player.upgrades[stageIndex][upgrade] >= 1 || currency.lessThan(pointer.cost[upgrade])) { return false; }\n        player.upgrades[stageIndex][upgrade]++;\n        if (!free) { currency.minus(pointer.cost[upgrade]); }\n\n        /* Special cases */\n        if (stageIndex === 2) {\n            if (upgrade === 3) {\n                effectsCache.S2Upgrade3 = calculateEffects.S2Upgrade3();\n            } else if (upgrade === 4) {\n                effectsCache.S2Upgrade4 = calculateEffects.S2Upgrade4();\n            } else if (upgrade >= 5) { assignBuildingsProduction.S2FreeBuilds(); }\n        } else if (stageIndex === 4 && upgrade === 1 && global.tabs.current === 'upgrade') { switchTab(); }\n        if (!auto) {\n            global.automatization.autoU[stageIndex] = [];\n            if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `New Upgrade '${pointer.name[upgrade]}', has been created`; }\n        }\n    } else if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n        const level = player[type][stageIndex];\n\n        const tillMax = pointer.max[upgrade] - level[upgrade];\n        if (tillMax <= 0) { return false; }\n        let cost = pointer.cost[upgrade];\n        if (currency.lessThan(cost)) { return false; }\n\n        let newLevels = 1;\n        if (tillMax > 1 && (auto || (player.toggles.max[0] !== global.hotkeys.shift))) {\n            const scaling = pointer.scaling[upgrade]; //Must be >1 (>0 for Stage 1)\n            if (typeof cost === 'number') {\n                if (free) {\n                    newLevels = Math.min(Math.floor((currency.toNumber() - cost) / scaling + 1), tillMax);\n                } else {\n                    const simplify = cost - scaling / 2;\n                    newLevels = Math.min(Math.floor(((simplify ** 2 + 2 * scaling * currency.toNumber()) ** 0.5 - simplify) / scaling), tillMax);\n                    if (newLevels > 1) { cost = newLevels * (newLevels * scaling / 2 + simplify); }\n                }\n            } else {\n                newLevels = Math.min(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus(1).log(scaling).toNumber()), tillMax);\n                if (newLevels > 1) { cost = new Overlimit(scaling).power(newLevels).minus(1).divide(scaling - 1).multiply(cost); }\n            }\n        }\n\n        level[upgrade] += newLevels;\n        if (!free) { currency.minus(cost); }\n\n        /* Special cases */\n        if (type === 'researches') {\n            if (stageIndex === 1) {\n                if (upgrade === 4) {\n                    global.dischargeInfo.base = calculateEffects.dischargeBase();\n                }\n            } else if (stageIndex === 2) {\n                if (upgrade === 0 || upgrade === 1) {\n                    assignBuildingsProduction.S2Levels();\n                } else if (upgrade === 2) {\n                    if (player.upgrades[2][3] === 1) { effectsCache.S2Upgrade3 = calculateEffects.S2Upgrade3(); }\n                } else if (upgrade === 3) {\n                    if (player.upgrades[2][4] === 1) { effectsCache.S2Upgrade4 = calculateEffects.S2Upgrade4(); }\n                } else if (upgrade >= 4) {\n                    assignBuildingsProduction.S2FreeBuilds();\n                }\n            } else if (stageIndex === 4) {\n                if (upgrade === 2 || upgrade === 3) {\n                    calculateMaxLevel(0, 4, 'researches', true);\n                }\n            } else if (stageIndex === 6) {\n                if (upgrade === 3) {\n                    assignResetInformation.trueEnergy();\n                }\n            }\n        } else if (type === 'researchesExtra') {\n            if (stageIndex === 1) {\n                if (upgrade === 2) {\n                    global.accretionInfo.effective = calculateEffects.effectiveRank();\n                    let update = false;\n                    if (player.stage.current < 4) {\n                        player.stage.current = level[2] > 1 ? 2 : 3;\n                        if (player.toggles.normal[0]) {\n                            if (player.stage.active < 4) {\n                                setActiveStage(player.stage.current);\n                                update = true;\n                            } else if (global.trueActive < 4) {\n                                global.trueActive = player.stage.current;\n                            }\n                        }\n                    }\n                    stageUpdate(update);\n                    awardVoidReward(1);\n                }\n            } else if (stageIndex === 2) {\n                if (upgrade === 1) {\n                    assignBuildingsProduction.S2Levels();\n                }\n            } else if (stageIndex === 4) {\n                if (upgrade === 2 || upgrade === 3) {\n                    calculateMaxLevel(1, 4, 'researches', true);\n                }\n            } else if (stageIndex === 6) {\n                if (upgrade === 0) {\n                    calculateMaxLevel(0, 6, 'researches', true);\n                } else if (upgrade === 1) {\n                    calculateMaxLevel(1, 6, 'researches', true);\n                }\n            }\n        }\n        assignResearchCost(upgrade, stageIndex, type);\n        if (!auto) {\n            global.automatization[type === 'researches' ? 'autoR' : 'autoE'][stageIndex] = [];\n            if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Level increased ${level[upgrade] >= pointer.max[upgrade] ? 'and maxed at' : 'to'} ${format(level[upgrade])} for the '${pointer.name[upgrade]}' ${type === 'researches' ? 'Stage' : specialHTML.researchExtraDivHTML[player.stage.active]} Research`; }\n        }\n    } else if (type === 'researchesAuto' || type === 'ASR') {\n        if (type === 'ASR') { upgrade = stageIndex; }\n        const pointer = global[`${type}Info`];\n        const level = player[type];\n\n        let effective = level[upgrade];\n        if (effective >= pointer.max[upgrade]) { return false; }\n        if (type === 'researchesAuto') {\n            if (upgrade === 1) {\n                if (player.strangeness[4][6] >= 1) { effective--; }\n            } else if (upgrade === 2) {\n                if (player.strangeness[1][4] >= 1) { effective--; }\n                if (player.strangeness[2][4] >= 1) { effective--; }\n                if (player.strangeness[3][4] >= 1) { effective--; }\n                if (player.strangeness[4][4] >= 1) { effective--; }\n                if (player.inflation.vacuum) { effective++; }\n            }\n        }\n        const cost = pointer.costRange[upgrade][Math.max(effective, 0)];\n        if (currency.lessThan(cost)) { return false; }\n\n        level[upgrade]++;\n        if (!free) { currency.minus(cost); }\n\n        /* Special cases */\n        if (type === 'researchesAuto') {\n            if (upgrade === 1) {\n                for (let i = 1; i < global.elementsInfo.maxActive; i++) {\n                    i = player.elements.indexOf(0.5, i);\n                    if (i < 1) { break; }\n                    buyUpgrades(i, 4, 'elements', true);\n                }\n            } else if (upgrade === 2) {\n                if (player.inflation.vacuum) {\n                    if (level[2] === 1 && player.strangeness[3][4] >= 1) { level[2] = 2; }\n                    if (level[2] === 2 && player.strangeness[2][4] >= 1) { level[2] = 3; }\n                    if (level[2] === 3 && player.strangeness[4][4] >= 1) { level[2] = 4; }\n                }\n            }\n        }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `Level increased ${level[upgrade] >= pointer.max[upgrade] ? 'and maxed at' : 'to'} ${format(level[upgrade])} for the '${type === 'ASR' ? pointer.name : pointer.name[upgrade]}' automatization Research`; }\n    } else if (type === 'elements') {\n        let level = player.elements[upgrade];\n        if (level >= 1) { return false; }\n\n        if (level === 0) {\n            if (currency.lessThan(global.elementsInfo.cost[upgrade])) { return false; }\n            currency.minus(global.elementsInfo.cost[upgrade]);\n        } else if (!auto) { return false; }\n        level = player.researchesAuto[1] >= 1 || level > 0 ? 1 : 0.5;\n        player.elements[upgrade] = level;\n\n        /* Special cases */\n        if (player.collapse.show < upgrade) { player.collapse.show = upgrade; }\n        if (level === 1) {\n            if (player.collapse.maxElement < upgrade) { player.collapse.maxElement = upgrade; }\n\n            if ([7, 16, 20, 25, 28, 31, 34].includes(upgrade)) {\n                calculateMaxLevel(1, 4, 'researches', true);\n            } else if (upgrade === 9 || upgrade === 17) {\n                calculateMaxLevel(0, 4, 'researches', true);\n            } else if (upgrade === 11) {\n                calculateMaxLevel(2, 4, 'researches', true);\n            } else if (upgrade === 26) {\n                player.stage.current = 5;\n                let update = false;\n                if (player.toggles.normal[0] && (player.strangeness[5][3] >= 1 || !player.inflation.vacuum)) {\n                    if (player.stage.active === 4) {\n                        setActiveStage(5);\n                        update = true;\n                    } else if (global.trueActive === 4) {\n                        global.trueActive = 5;\n                    }\n                }\n                stageUpdate(update);\n                assignBuildingsProduction.strange0();\n                awardVoidReward(4);\n            } else if (upgrade === 35) {\n                calculateMaxLevel(5, 4, 'researches', true);\n            }\n        }\n        if (!auto && globalSave.SRSettings[0]) { getId('SRMain').textContent = `New Element '${global.elementsInfo.name[upgrade]}' ${player.elements[upgrade] >= 1 ? 'obtained' : 'awaiting activation'}`; }\n    }\n\n    if (!free) {\n        if (stageIndex === 1) {\n            player.discharge.energy = Math.round(currency.toNumber());\n        } else if (stageIndex === 2) {\n            const drops = player.buildings[2][1];\n            const old = drops.true;\n            if (player.buildings[2][2].true < 1 && currency.lessThan(old)) {\n                drops.true = Math.floor(currency.toNumber());\n                if (player.inflation.vacuum) {\n                    addEnergy(drops.true - old, 1, 2);\n                } else if (currency.lessOrEqual(0)) {\n                    player.buildings[2][0].current.max(2.7753108348135e-3);\n                }\n            }\n        } else if (stageIndex === 3) {\n            if (player.inflation.vacuum) { player.buildings[1][0].current.setValue(currency).divide(1.78266192e-33); }\n        } else if (stageIndex === 6) {\n            if (type === 'researchesExtra') { player.darkness.energy = Math.round(currency.toNumber()); }\n        }\n    }\n\n    if (!auto) { numbersUpdate(); }\n    return true;\n};\n\nexport const buyStrangeness = (upgrade: number, stageIndex: number, type: 'strangeness' | 'inflations', auto = false): boolean => {\n    if (!auto && !checkUpgrade(upgrade, stageIndex, type)) { return false; }\n\n    if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n        const strangeness = player.strangeness[stageIndex];\n        const currency = player.strange[0];\n\n        if (strangeness[upgrade] >= pointer.max[upgrade] || currency.current < pointer.cost[upgrade]) { return false; }\n        strangeness[upgrade]++;\n        currency.current -= pointer.cost[upgrade];\n\n        /* Special cases */\n        if (stageIndex === 1) {\n            if (upgrade === 4) {\n                if (player.inflation.vacuum) {\n                    const maxLevel = player.strangeness[3][4] < 1 ? 1 : player.strangeness[2][4] < 1 ? 2 : player.strangeness[4][4] < 1 ? 3 : 4;\n                    if (player.clone.depth === 'stage' && player.clone.researchesAuto[2] === 0) { player.clone.researchesAuto[2] = maxLevel; }\n                    if (player.researchesAuto[2] < 1) { player.researchesAuto[2] = maxLevel; }\n                } else if (player.stage.current === 1 && player.researchesAuto[2] < 1) { player.researchesAuto[2] = 1; }\n            } else if (upgrade === 5) {\n                if (player.clone.depth === 'stage') { player.clone.ASR[1] = global.ASRInfo.max[1]; }\n                player.ASR[1] = global.ASRInfo.max[1];\n            } else if (upgrade === 6) {\n                if (player.verses[0].current >= 12) { assignBuildingsProduction.strange0(); }\n            } else if (upgrade === 7) {\n                assignResetInformation.trueEnergy();\n            }\n        } else if (stageIndex === 2) {\n            if (upgrade === 2) {\n                calculateMaxLevel(4, 2, 'researches', true);\n                calculateMaxLevel(5, 2, 'researches', true);\n            } else if (upgrade === 4) {\n                if (player.inflation.vacuum) {\n                    const maxLevel = player.strangeness[4][4] < 1 ? 3 : 4;\n                    if (player.clone.depth === 'stage' && player.clone.researchesAuto[2] === 2) { player.clone.researchesAuto[2] = maxLevel; }\n                    if (player.researchesAuto[2] === 2) { player.researchesAuto[2] = maxLevel; }\n                } else if (player.stage.current === 2 && player.researchesAuto[2] < 1) { player.researchesAuto[2] = 1; }\n            } else if (upgrade === 5) {\n                if (player.clone.depth === 'stage') { player.clone.ASR[2] = global.ASRInfo.max[2]; }\n                player.ASR[2] = global.ASRInfo.max[2];\n            } else if (upgrade === 8) {\n                calculateMaxLevel(2, 2, 'researches', true);\n                calculateMaxLevel(3, 2, 'researches', true);\n            }\n        } else if (stageIndex === 3) {\n            if (upgrade === 2) {\n                calculateMaxLevel(0, 3, 'researchesExtra', true);\n                calculateMaxLevel(1, 3, 'researchesExtra', true);\n            } else if (upgrade === 4) {\n                if (player.inflation.vacuum) {\n                    const maxLevel = player.strangeness[2][4] < 1 ? 2 : player.strangeness[4][4] < 1 ? 3 : 4;\n                    if (player.clone.depth === 'stage' && player.clone.researchesAuto[2] === 1) { player.clone.researchesAuto[2] = maxLevel; }\n                    if (player.researchesAuto[2] === 1) { player.researchesAuto[2] = maxLevel; }\n                } else if (player.stage.current === 3 && player.researchesAuto[2] < 1) { player.researchesAuto[2] = 1; }\n            } else if (upgrade === 5) {\n                if (player.clone.depth === 'stage') { player.clone.ASR[3] = global.ASRInfo.max[3]; }\n                player.ASR[3] = global.ASRInfo.max[3];\n            } else if (upgrade === 6) {\n                if (player.clone.depth === 'stage') { player.clone.researchesAuto[0] = Math.max(strangeness[6], player.clone.researchesAuto[0]); }\n                player.researchesAuto[0] = Math.max(strangeness[6], player.researchesAuto[0]);\n            } else if (upgrade === 9) {\n                global.debug.rankUpdated = null;\n                assignResetInformation.maxRank();\n            }\n        } else if (stageIndex === 4) {\n            if (upgrade === 4) {\n                if (player.inflation.vacuum) {\n                    if (player.clone.depth === 'stage' && player.clone.researchesAuto[2] === 3) { player.clone.researchesAuto[2] = 4; }\n                    if (player.researchesAuto[2] === 3) { player.researchesAuto[2] = 4; }\n                } else if (player.stage.current === 4 && player.researchesAuto[2] < 1) { player.researchesAuto[2] = 1; }\n            } else if (upgrade === 5) {\n                if (player.clone.depth === 'stage') { player.clone.ASR[4] = global.ASRInfo.max[4]; }\n                player.ASR[4] = global.ASRInfo.max[4];\n            } else if (upgrade === 6) {\n                if (player.clone.depth === 'stage') { player.clone.researchesAuto[1] = Math.max(strangeness[6], player.clone.researchesAuto[1]); }\n                player.researchesAuto[1] = Math.max(strangeness[6], player.researchesAuto[1]);\n                for (let i = 1; i < global.elementsInfo.maxActive; i++) {\n                    i = player.elements.indexOf(0.5, i);\n                    if (i < 1) { break; }\n                    buyUpgrades(i, 4, 'elements', true);\n                }\n            } else if (upgrade === 7) {\n                if (player.verses[0].current >= 12) { assignBuildingsProduction.strange0(); }\n            } else if (upgrade === 8) {\n                if (player.clone.depth === 'stage') { player.clone.elements[0] = 1; }\n                if (player.elements[0] < 1) { player.elements[0] = 1; }\n            }\n        } else if (stageIndex === 5) {\n            if (upgrade === 3) {\n                if (player.inflation.vacuum) {\n                    stageUpdate(false);\n                    if (player.elements[26] >= 1) { awardVoidReward(4); }\n                }\n            } else if (upgrade === 4) {\n                if (strangeness[5] >= 1) {\n                    if (player.clone.depth === 'stage') { player.clone.ASR[5] = global.ASRInfo.max[5]; }\n                    player.ASR[5] = global.ASRInfo.max[5];\n                }\n            } else if (upgrade === 5) {\n                const newLevel = strangeness[4] >= 1 ? global.ASRInfo.max[5] : 2;\n                if (player.clone.depth === 'stage') { player.clone.ASR[5] = newLevel; }\n                player.ASR[5] = newLevel;\n            } else if (upgrade === 10) {\n                assignResetInformation.trueEnergy();\n            }\n        } else if (stageIndex === 6) {\n            if (upgrade === 2) {\n                calculateMaxLevel(0, 1, 'strangeness', true);\n                calculateMaxLevel(1, 2, 'strangeness', true);\n                calculateMaxLevel(0, 3, 'strangeness', true);\n                calculateMaxLevel(0, 4, 'strangeness', true);\n                calculateMaxLevel(0, 5, 'strangeness', true);\n            }\n        }\n        assignResearchCost(upgrade, stageIndex, 'strangeness');\n        if (player.verses[0].current < 12) { assignBuildingsProduction.strange0(); }\n        if (!auto) {\n            global.automatization.autoS = [];\n            if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Level increased ${strangeness[upgrade] >= pointer.max[upgrade] ? 'and maxed at' : 'to'} ${format(strangeness[upgrade])} for the '${pointer.name[upgrade]}' ${global.stageInfo.word[stageIndex]} Strangeness`; }\n        }\n    } else if (type === 'inflations') {\n        const pointer = global.treeInfo[stageIndex];\n        const tree = player.tree[stageIndex];\n        const currency = player.cosmon[stageIndex];\n\n        if (tree[upgrade] >= pointer.max[upgrade] || currency.current < pointer.cost[upgrade]) { return false; }\n        tree[upgrade]++;\n        currency.current -= pointer.cost[upgrade];\n\n        /* Special cases */\n        if (stageIndex === 1) {\n            calculateMaxLevel(2, 1, 'inflations', !auto || upgrade !== 1);\n        } else if (!auto && global.loadouts.open) {\n            global.loadouts.input.push(upgrade);\n            loadoutsFinal(global.loadouts.input);\n        }\n        if (stageIndex === 0) {\n            if (upgrade === 0) {\n                for (let i = 0; i < global.challengesInfo.length; i++) {\n                    assignChallengeInformation(i);\n                }\n                for (let s = 1; s < playerStart.milestones.length; s++) {\n                    for (let i = 0; i < playerStart.milestones[s].length; i++) {\n                        assignMilestoneInformation(i, s);\n                    }\n                }\n            } else if (upgrade === 4) {\n                if (player.challenges.active === 1) {\n                    for (let i = 0; i < global.challengesInfo.length; i++) {\n                        assignChallengeInformation(i);\n                    }\n                }\n            } else if (upgrade === 5) {\n                for (let i = 0; i < global.challengesInfo.length; i++) {\n                    assignChallengeInformation(i);\n                }\n            }\n        } else if (stageIndex === 1) {\n            if (upgrade === 3) {\n                calculateMaxLevel(2, 0, 'inflations', true);\n            } else if (upgrade === 5) {\n                calculateMaxLevel(0, 2, 'researchesExtra', true);\n                calculateMaxLevel(1, 1, 'strangeness', true);\n                calculateMaxLevel(0, 2, 'strangeness', true);\n            } else if (upgrade === 6) {\n                calculateMaxLevel(0, 4, 'researches', true);\n            } else if (upgrade === 7) {\n                calculateMaxLevel(10, 5, 'strangeness', true);\n                assignMilestoneInformation(1, 4);\n            }\n        }\n        assignResearchCost(upgrade, stageIndex, 'inflations');\n        if (!auto) {\n            if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Level increased ${tree[upgrade] >= pointer.max[upgrade] ? 'and maxed at' : 'to'} ${format(tree[upgrade])} for the '${pointer.name[upgrade]}' Inflation`; }\n        }\n    }\n\n    if (!auto) { numbersUpdate(); }\n    return true;\n};\n\n/** User only, lazy way to remove extra checks from auto */\nexport const buyStrangenessMax = (upgrade: number, stageIndex: number, type: 'strangeness' | 'inflations') => {\n    const max = player.toggles.max[type === 'strangeness' ? 1 : 2] !== global.hotkeys.shift;\n    while (buyStrangeness(upgrade, stageIndex, type) && max) { continue; }\n};\n\n/** Returns true if refund successfull or nothing to refund */\nexport const inflationRefund = async(noConfirmation = false, loadout = false): Promise<boolean> => {\n    const inflaton = player.cosmon[0];\n    if (inflaton.current === inflaton.total && player.tree[0][0] < 1) { return true; }\n    const challenge = player.challenges.active;\n    if (!noConfirmation && !await Confirm(`This will force a Stage reset${challenge !== null ? ' and restart current Challenge' : ''} to refund Inflations${loadout ? ' and load this loadout' : ''}, continue?\\n(Holding shift will automatically accept this)`)) { return false; }\n\n    if (challenge !== null) { challengeReset(); }\n    stageFullReset();\n    if (challenge !== null) { challengeReset(challenge); }\n\n    inflaton.current = inflaton.total;\n    for (let i = 0; i < playerStart.tree[0].length; i++) {\n        player.tree[0][i] = 0;\n        assignResearchCost(i, 0, 'inflations');\n    }\n\n    /* Special cases */\n    for (let i = 0; i < global.challengesInfo.length; i++) {\n        assignChallengeInformation(i);\n    }\n    for (let s = 1; s < playerStart.milestones.length; s++) {\n        for (let i = 0; i < playerStart.milestones[s].length; i++) {\n            assignMilestoneInformation(i, s);\n        }\n    }\n    if (!loadout) {\n        numbersUpdate();\n        loadoutsFinal([]);\n        if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Inflations have been refunded'; }\n    }\n    return true;\n};\n\nexport const assignResearchCost = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'strangeness' | 'inflations') => {\n    if (type === 'researches' || type === 'researchesExtra') {\n        const pointer = global[`${type}Info`][stageIndex];\n\n        if (typeof pointer.cost[research] === 'number') {\n            pointer.cost[research] = (pointer.firstCost[research] as number) + pointer.scaling[research] * player[type][stageIndex][research];\n        } else {\n            (pointer.cost[research] as Overlimit).setValue(pointer.scaling[research]).power(player[type][stageIndex][research]).multiply(pointer.firstCost[research]);\n        }\n    } else if (type === 'strangeness') {\n        const pointer = global.strangenessInfo[stageIndex];\n\n        pointer.cost[research] = player.inflation.vacuum ?\n            Math.floor(Math.round((pointer.firstCost[research] * pointer.scaling[research] ** player.strangeness[stageIndex][research]) * 100) / 100) :\n            Math.floor(Math.round((pointer.firstCost[research] + pointer.scaling[research] * player.strangeness[stageIndex][research]) * 100) / 100);\n    } else if (type === 'inflations') {\n        global.treeInfo[stageIndex].cost[research] = calculateTreeCost(research, stageIndex);\n    }\n};\n\nexport const calculateTreeCost = (index: number, stageIndex: number, level = player.tree[stageIndex][index]): number => {\n    let scaling = global.treeInfo[stageIndex].scaling[index];\n    let firstCost = global.treeInfo[stageIndex].firstCost[index];\n    if (stageIndex === 1) {\n        if (index === 0 || index === 1) {\n            const steps = Math.floor(level / 4);\n            firstCost += index === 0 ? steps : -steps;\n            scaling *= steps + 1;\n        } else if (index === 2) {\n            return Math.floor(Math.round((firstCost * scaling ** level) * 100) / 100);\n        }\n    }\n\n    return Math.floor(Math.round((firstCost + scaling * level) * 100) / 100);\n};\n\nexport const calculateMaxLevel = (research: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'strangeness' | 'inflations', addAuto = false) => {\n    let max = null as number | null;\n    if (type === 'researches') {\n        if (stageIndex === 2) {\n            if (research === 2) {\n                max = player.strangeness[2][8] >= 1 ? 7 : 4;\n            } else if (research === 3) {\n                max = player.strangeness[2][8] >= 2 ? 5 : 4;\n            } else if (research === 4) {\n                max = player.strangeness[2][2] >= 1 ? 3 : 2;\n            } else if (research === 5) {\n                max = player.strangeness[2][2] >= 2 ? 2 : 1;\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                max = (player.elements[9] >= 1 ? 15 : 3) + (3 * player.researches[4][2]) + (3 * player.researches[4][3]);\n                if (player.elements[17] >= 1) { max += 24; }\n                if (player.inflation.vacuum && player.tree[1][6] >= 2) { max += Math.floor(calculateEffects.effectiveRank()); }\n            } else if (research === 1) {\n                max = (player.elements[7] >= 1 ? 4 : 2) + player.researchesExtra[4][2] + player.researchesExtra[4][3];\n                if (player.elements[16] >= 1) { max++; }\n                if (player.elements[20] >= 1) { max++; }\n                if (player.elements[25] >= 1) { max++; }\n                if (player.elements[28] >= 1) { max++; }\n                if (player.elements[31] >= 1) { max++; }\n                if (player.elements[34] >= 1) { max++; }\n            } else if (research === 2) {\n                max = player.elements[11] >= 1 ? 2 : 1;\n            } else if (research === 5) {\n                max = player.elements[35] >= 1 ? 2 : 1;\n            }\n        } else if (stageIndex === 5) {\n            if (research === 0 || research === 1) {\n                max = player.inflation.vacuum ? 4 : 3;\n            } else if (research === 2 || research === 3) {\n                const universes = getVerseType();\n                max = universes >= 60 ? 8 : universes >= 5 ? 4 : universes >= 4 ? 2 : 1;\n            } else if (research === 4) {\n                max = getVerseType() >= 70 ? 6 : 1;\n            }\n        } else if (stageIndex === 6) {\n            if (research === 0) {\n                max = 20 + player.researchesExtra[6][0];\n            } else if (research === 1) {\n                max = 8 + 2 * player.researchesExtra[6][1];\n            }\n        }\n    } else if (type === 'researchesExtra') {\n        if (stageIndex === 2) {\n            if (research === 0) {\n                max = player.inflation.vacuum && player.tree[1][5] >= 2 ? 5 : 1;\n            }\n        } else if (stageIndex === 3) {\n            if (research === 0) {\n                max = (player.strangeness[3][2] >= 1 ? 20 : 14) + Math.floor(2 * calculateEffects.effectiveRank());\n            } else if (research === 1) {\n                max = player.strangeness[3][2] >= 2 ? 8 : 6;\n            } else if (research === 4) {\n                max = Math.min(player.accretion.rank - 2, 5);\n            }\n        } else if (stageIndex === 5) {\n            if (research === 1) {\n                max = getVerseType() >= 4 ? 2 : 1;\n            } else if (research === 2) {\n                const universes = getVerseType();\n                max = Math.max((universes - 4) * 2, 1);\n            } else if (research === 3) {\n                max = Math.max(getVerseType() - 3, 1);\n            } else if (research === 4) {\n                const universes = getVerseType();\n                max = universes >= 100 ? 4 : universes >= 80 ? 3 : 1;\n            } else if (research === 5) {\n                max = getVerseType() >= 100 ? 2 : 1;\n            }\n        }\n    } else if (type === 'researchesAuto') {\n        if (research === 2) {\n            max = player.inflation.vacuum ? 4 : 1;\n        }\n    } else if (type === 'ASR') {\n        if (stageIndex === 1) {\n            max = player.inflation.vacuum ? 5 : 3;\n        } else if (stageIndex === 2) {\n            max = player.inflation.vacuum ? 6 : 5;\n        } else if (stageIndex === 3) {\n            max = player.inflation.vacuum ? 5 : 4;\n        } else if (stageIndex === 4) {\n            max = player.inflation.vacuum ? 5 : 4;\n        } else if (stageIndex === 6) {\n            max = player.darkness.active ? 1 : 0;\n        }\n    } else if (type === 'strangeness') {\n        if (stageIndex === 1) {\n            if (research === 0) {\n                max = 6 + player.strangeness[6][2];\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 1) {\n                max = 4;\n                if (player.inflation.vacuum && player.tree[1][5] >= 3) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 3) {\n                max = 2;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 4) {\n                max = player.inflation.vacuum && player.challenges.void[4] >= 1 ? 2 : 1;\n            } else if (research === 6) {\n                max = player.inflation.vacuum && player.challenges.void[5] >= 2 ? 2 : 1;\n            }\n        } else if (stageIndex === 2) {\n            if (research === 0) {\n                max = 4;\n                if (player.inflation.vacuum && player.tree[1][5] >= 3) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 1) {\n                max = 8 + player.strangeness[6][2];\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 3) {\n                max = 2;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 4) {\n                max = player.inflation.vacuum && player.challenges.void[4] >= 1 ? 2 : 1;\n            } else if (research === 6) {\n                max = player.inflation.vacuum && player.challenges.void[5] >= 2 ? 2 : 1;\n            }\n        } else if (stageIndex === 3) {\n            if (research === 0) {\n                max = 8 + player.strangeness[6][2];\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 1) {\n                max = 4;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 4) {\n                max = player.inflation.vacuum && player.challenges.void[4] >= 1 ? 2 : 1;\n            } else if (research === 7) {\n                max = player.inflation.vacuum && player.challenges.void[5] >= 2 ? 2 : 1;\n            } else if (research === 9) {\n                max = player.inflation.vacuum && player.challenges.void[5] >= 2 ? 2 : 1;\n            }\n        } else if (stageIndex === 4) {\n            if (research === 0) {\n                max = 8 + player.strangeness[6][2];\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 1) {\n                max = 4;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 3) {\n                max = player.inflation.vacuum && player.challenges.supervoid[4] >= 3 ? 4 : 2;\n            } else if (research === 4) {\n                max = 1;\n                if (player.inflation.vacuum) {\n                    if (player.challenges.void[4] >= 1) { max++; }\n                    if (player.tree[1][7] >= 4) { max++; }\n                }\n            } else if (research === 6) {\n                max = player.inflation.vacuum || player.milestones[4][0] >= 8 || player.verses[0].current >= 3 ? 2 : 1;\n            } else if (research === 7) {\n                max = player.inflation.vacuum && player.challenges.void[5] >= 2 ? 2 : 1;\n            }\n        } else if (stageIndex === 5) {\n            if (research === 0) {\n                max = 8 + player.strangeness[6][2];\n            } else if (research === 2) {\n                max = 2;\n                if (player.inflation.vacuum) { max += Math.min(player.challenges.void[3], 4); }\n            } else if (research === 6) {\n                max = !player.inflation.vacuum && (player.milestones[5][0] >= 8 || player.verses[0].current >= 8) ? 2 : 1;\n            } else if (research === 7) {\n                max = player.inflation.vacuum && player.challenges.void[5] >= 2 ? 2 : 1;\n            } else if (research === 8) {\n                max = player.inflation.vacuum && player.challenges.void[5] >= 2 ? 2 : 1;\n            } else if (research === 10) {\n                max = player.tree[1][7] >= 2 ? 4 : 3;\n            }\n        }\n    } else if (type === 'inflations') {\n        if (stageIndex === 0) {\n            if (research === 2) {\n                max = 8 + player.tree[1][3];\n            }\n        } else if (stageIndex === 1) {\n            if (research === 2) {\n                max = Math.floor(logAny(3 * (player.cosmon[1].total - player.cosmon[1].current) / 4 + 1, 4));\n            }\n        }\n    }\n    if (max !== null) {\n        if (max < 0) {\n            max = 0;\n        } else if (max > 1e6) {\n            max = 1e6;\n        }\n        if (type === 'inflations') {\n            global.treeInfo[stageIndex].max[research] = max;\n        } else if (type === 'researchesAuto' || type === 'ASR') {\n            global[`${type}Info`].max[type === 'ASR' ? stageIndex : research] = max;\n        } else {\n            global[`${type}Info`][stageIndex].max[research] = max;\n        }\n    }\n\n    if (type !== 'researchesAuto' && type !== 'ASR') { assignResearchCost(research, stageIndex, type); }\n    if (addAuto) {\n        if (type === 'researches' || type === 'researchesExtra') {\n            autoResearchesAdd(type, stageIndex, research);\n        } else if (type === 'strangeness') {\n            autoStrangenessAdd(stageIndex, research);\n        }\n    }\n};\n\nconst autoUpgrades = (stageIndex: number) => {\n    const auto = global.automatization.autoU[stageIndex];\n    if (auto[0] === -1 || player.researchesAuto[0] < 1 || !player.toggles.auto[5]) { return; }\n\n    const level = player.upgrades[stageIndex];\n    if (auto.length === 0) {\n        for (let i = 0; i < global.upgradesInfo[stageIndex].maxActive; i++) {\n            if (level[i] < 1) { auto.push(i); }\n        }\n\n        const startCost = global.upgradesInfo[stageIndex].cost;\n        auto.sort(typeof startCost[0] === 'number' ?\n            (a, b) => (startCost[a] as number) - (startCost[b] as number) :\n            (a, b) => compareFunc(startCost[a] as Overlimit, startCost[b])\n        );\n    }\n\n    for (let i = 0; i < auto.length; i++) {\n        const index = auto[i];\n        if (!checkUpgrade(index, stageIndex, 'upgrades')) { continue; }\n        if (!buyUpgrades(index, stageIndex, 'upgrades', true)) { return; }\n        auto.splice(i, 1);\n        i--;\n    }\n    if (auto.length === 0) { auto[0] = -1; }\n};\n\nconst autoResearchesAdd = (type: 'researches' | 'researchesExtra', stageIndex: number, which: number) => {\n    const auto = global.automatization[type === 'researches' ? 'autoR' : 'autoE'][stageIndex];\n    const pointer = global[`${type}Info`][stageIndex];\n    if (pointer.max[which] <= player[type][stageIndex][which] || auto.includes(which) || auto.length === 0) { return; }\n    if (auto[0] === -1) {\n        auto[0] = which;\n        return;\n    }\n\n    const current = pointer.cost[which];\n    let index = 0;\n    if (typeof current === 'number') {\n        while (current > (pointer.cost[auto[index]] as number)) { index++; }\n    } else {\n        while (current.moreThan(pointer.cost[auto[index]])) { index++; }\n    }\n    auto.splice(index, 0, which);\n};\n\nconst autoResearches = (type: 'researches' | 'researchesExtra', stageIndex: number) => {\n    const auto = global.automatization[type === 'researches' ? 'autoR' : 'autoE'][stageIndex];\n    if (auto[0] === -1 || player.researchesAuto[0] < (type === 'researches' ? 2 : 3) || !player.toggles.auto[type === 'researches' ? 6 : 7]) { return; }\n    const pointer = global[`${type}Info`][stageIndex];\n    const cost = pointer.cost;\n\n    const level = player[type][stageIndex];\n    if (auto.length === 0) {\n        for (let i = 0; i < pointer.maxActive; i++) {\n            if (level[i] < pointer.max[i]) { auto.push(i); }\n        }\n\n        auto.sort(typeof cost[0] === 'number' ?\n            (a, b) => (cost[a] as number) - (cost[b] as number) :\n            (a, b) => compareFunc(cost[a] as Overlimit, cost[b])\n        );\n    }\n\n    for (let i = 0; i < auto.length; i++) {\n        const index = auto[i];\n        if (!checkUpgrade(index, stageIndex, type)) { continue; }\n        if (!buyUpgrades(index, stageIndex, type, true)) { return; }\n\n        const nextIndex = i - 1;\n        while (index !== auto[i]) { i++; }\n        if (level[index] >= pointer.max[index]) {\n            auto.splice(i, 1);\n        } else {\n            const old = i;\n            const current = cost[index];\n            i++;\n            if (typeof current === 'number') {\n                while (current > (cost[auto[i]] as number)) { i++; }\n            } else {\n                while (current.moreThan(cost[auto[i]])) { i++; }\n            }\n            if (old !== i - 1) {\n                auto.splice(i - 1, 0, auto.splice(old, 1)[0]);\n            } else if (old === nextIndex + 1) { return; }\n        }\n        i = nextIndex;\n    }\n    if (auto.length === 0) { auto[0] = -1; }\n};\n\nconst autoElements = () => {\n    if (player.researchesAuto[1] < 2) { return; }\n\n    let next = global.automatization.element;\n    while (next < global.elementsInfo.maxActive) {\n        if (!checkUpgrade(next, 4, 'elements')) { break; }\n        buyUpgrades(next, 4, 'elements', true);\n\n        if (player.elements[next] >= 1) {\n            global.automatization.element++;\n            next = global.automatization.element;\n        } else { break; }\n    }\n};\n\nconst autoStrangenessAdd = (stageIndex: number, which: number) => {\n    const auto = global.automatization.autoS;\n    const pointer = global.strangenessInfo;\n    if (pointer[stageIndex].max[which] <= player.strangeness[stageIndex][which] || auto.length === 0) { return; }\n    if (auto[0][0] === -1) {\n        auto[0] = [which, stageIndex];\n        return;\n    }\n    let index = 0;\n    const current = pointer[stageIndex].cost[which];\n    while (index < auto.length && current > pointer[auto[index][1]].cost[auto[index][0]]) { index++; }\n    while (index < auto.length) {\n        const check = auto[index];\n        if (current !== pointer[check[1]].cost[check[0]] || (stageIndex <= check[1] && index < check[0])) { break; }\n        index++;\n    }\n\n    if (index !== 0 && auto[index - 1][1] === stageIndex && auto[index - 1][0] === which) { return; }\n    auto.splice(index, 0, [which, stageIndex]);\n};\n\nconst autoStrangeness = () => {\n    const auto = global.automatization.autoS;\n    if (auto.length !== 0 && auto[0][0] === -1) { return; }\n    const pointer = global.strangenessInfo;\n\n    const level = player.strangeness;\n    if (auto.length === 0) {\n        for (let s = 1; s < pointer.length; s++) {\n            for (let i = 0; i < pointer[s].maxActive; i++) {\n                if (level[s][i] < pointer[s].max[i]) { auto.push([i, s]); }\n            }\n        }\n\n        auto.sort((a, b) => pointer[a[1]].cost[a[0]] - pointer[b[1]].cost[b[0]]);\n    }\n\n    for (let i = 0; i < auto.length; i++) {\n        const main = auto[i];\n        const index = main[0];\n        const stageIndex = main[1];\n        if (!checkUpgrade(index, stageIndex, 'strangeness')) { continue; }\n        if (!buyStrangeness(index, stageIndex, 'strangeness', true)) { return; }\n\n        const nextIndex = i - 1;\n        while (main !== auto[i]) { i++; }\n        if (level[stageIndex][index] >= pointer[stageIndex].max[index]) {\n            auto.splice(i, 1);\n        } else {\n            const old = i;\n            const current = pointer[stageIndex].cost[index];\n            i++;\n            while (i < auto.length && current > pointer[auto[i][1]].cost[auto[i][0]]) { i++; }\n            if (old !== i - 1) {\n                while (i < auto.length) {\n                    const check = auto[i];\n                    if (current !== pointer[check[1]].cost[check[0]] || (stageIndex <= check[1] && index < check[0])) { break; }\n                    i++;\n                }\n                auto.splice(i - 1, 0, auto.splice(old, 1)[0]);\n            } else if (old === nextIndex + 1) { return; }\n        }\n        i = nextIndex;\n    }\n    if (auto.length === 0) { auto[0] = [-1, 0]; }\n};\n\nconst endResetCheck = (peak = false): boolean => {\n    if (global.inflationInfo.trueUniverses < 1 && player.darkness.energy < 1000) { return false; }\n\n    if (peak) {\n        const peakCheck = calculateEffects.cosmonGain() / player.time.end;\n        if (player.inflation.peak[0] < peakCheck) {\n            player.inflation.peak[0] = peakCheck;\n            player.inflation.peak[1] = player.time.end;\n        }\n    }\n    return true;\n};\nexport const endResetUser = async() => {\n    if (!endResetCheck() || player.proggress.main < 20) { return; }\n\n    if (player.toggles.confirm[6] !== 'None') {\n        const array = [];\n        if ((player.inflation.vacuum || player.challenges.active !== null) && calculateVerseCost(0) <= calculateEffects.mergeScore()) {\n            array.push('can create an Universe');\n        }\n        if (!(player.clone.inflation?.vacuum as boolean ?? player.inflation.vacuum)) {\n            array.push(`current Vacuum state ${player.challenges.active !== null ? ' outside of the Challenge' : ''} is false`);\n        }\n        if (player.darkness.energy < 1000 && player.darkness.active) {\n            array.push(`need at least ${format(1000)} Dark energy for better End reset`);\n        }\n        if (player.toggles.confirm[6] === 'All' && array.length === 0) {\n            array.push('confirmation is enabled');\n        }\n        if (array.length !== 0) {\n            if (!await Confirm(`Prevented End reset because ${array.join(',\\nAlso ')}\\nReset anyway?`)) { return; }\n            if (!endResetCheck()) { return Notify('End reset canceled, requirements are no longer met'); }\n        }\n    }\n\n    endReset();\n    numbersUpdate();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Caused End reset'; }\n};\n\nconst endReset = () => {\n    if (player.stage.active < 6) { setActiveStage(1); }\n    const income = calculateEffects.cosmonGain();\n    player.cosmon[1].current += income;\n    player.cosmon[1].total += income;\n\n    const history = player.history.end;\n    const storage = global.historyStorage.end;\n    const type = player.darkness.energy >= 1000 ? 1 : 0;\n    storage.unshift([player.time.end, income, type, player.inflation.peak[0], player.inflation.peak[1]]);\n    if (income / player.time.end > history.best[1] / history.best[0]) { history.best = cloneArray(storage[0]); }\n    if (storage.length > 100) { storage.length = 100; }\n\n    if (type === 1) {\n        player.inflation.ends[1]++;\n        if (global.inflationInfo.trueUniverses < player.verses[0].lowest[0]) { player.verses[0].lowest[0] = global.inflationInfo.trueUniverses; }\n    } else if (!player.darkness.active) {\n        player.inflation.ends[0]++;\n        if (global.inflationInfo.trueUniverses > player.verses[0].highest) { player.verses[0].highest = global.inflationInfo.trueUniverses; }\n    }\n    player.time.export[1] = 0;\n    player.time.export[2] = 0;\n    if (player.time.export[3] < income) { player.time.export[3] = income; }\n    if (player.inflation.vacuum) {\n        player.inflation.vacuum = false;\n        prepareVacuum(false);\n    }\n    if (player.challenges.active !== null) {\n        player.challenges.active = null;\n        player.clone = {};\n        prepareChallenge();\n    }\n    resetVacuum(2);\n};\n\n/** Returns true for Auto, only if reset happened */\nexport const stageResetCheck = (stageIndex: number, quarks = null as number | null): boolean => {\n    if (stageIndex === 5) {\n        if (quarks !== null) {\n            if (player.elements[26] < 0.5) { return false; }\n            assignResetInformation.quarksGain();\n\n            const stage = player.stage;\n            const peakCheck = global.strangeInfo.strange0Gain / player.time.stage;\n            if (stage.peak[0] < peakCheck) {\n                stage.peak[0] = peakCheck;\n                stage.peak[1] = player.time.stage;\n            }\n\n            if (player.elements[26] < 1) { return false; }\n            gainStrange(0, quarks);\n\n            if (!player.toggles.auto[0] || player.strangeness[5][6] < (player.inflation.vacuum ? 1 : 2) || player.challenges.active !== null ||\n                (player.inflation.vacuum && player.toggles.normal[2] && player.toggles.auto[9] && player.strangeness[5][9] >= 1 && player.merge.resets < calculateEffects.mergeMaxResets())) { return false; }\n            const which = getStageResetType();\n            if (stage.input[which] <= 0 || stage.input[which] > (which === 3 ? player.time.stage - stage.peak[1] : which === 2 ? player.time.stage : global.strangeInfo.strange0Gain)) { return false; }\n            stageResetReward(stageIndex);\n            return true;\n        }\n        assignResetInformation.quarksGain();\n        return player.elements[26] >= 1 && (player.challenges.active !== 0 || !player.challenges.super);\n    } else if (player.inflation.vacuum) { return false; }\n    if (stageIndex === 3) {\n        if (player.buildings[3][0].current.lessThan(2.45576045e31)) { return false; }\n    } else if (stageIndex === 2) {\n        if (player.buildings[2][1].current.lessThan(1.19444e29)) { return false; }\n    } else if (stageIndex === 1) {\n        if (player.buildings[1][3].current.lessThan(1.67133125e21)) { return false; }\n    } else { return false; }\n\n    if (quarks !== null) { //Just checks if auto\n        const stage = player.stage;\n        if (stageIndex === stage.current) {\n            const peakCheck = calculateEffects.strangeGain(false) / player.time.stage;\n            if (stage.peak[0] < peakCheck) {\n                stage.peak[0] = peakCheck;\n                stage.peak[1] = player.time.stage;\n            }\n        }\n\n        if (!player.toggles.auto[0] || player.strangeness[5][6] < 1) { return false; }\n        if (player.toggles.normal[2]) {\n            const info = global.milestonesInfo[stageIndex];\n            const unlimitedTime = player.tree[0][4] >= 1;\n            for (let i = 0; i < info.scaling.length; i++) {\n                if (player.milestones[stageIndex][i] < info.scaling[i].length && (unlimitedTime || info.reward[i] >= player.time.stage)) { return false; }\n            }\n        }\n        stageResetReward(stageIndex);\n    }\n    return true;\n};\nexport const stageResetUser = async() => {\n    const active = player.inflation.vacuum || (player.stage.active === 4 && player.proggress.main >= 10) ? 5 : player.stage.active;\n    if (!stageResetCheck(active)) { return; }\n\n    if (player.toggles.confirm[0] !== 'None') {\n        const array = [];\n        if (active === 5) {\n            if (player.inflation.vacuum) {\n                if (calculateVerseCost(0) <= calculateEffects.mergeScore()) {\n                    array.push('can create an Universe');\n                }\n                if (player.merge.resets < calculateEffects.mergeMaxResets()) {\n                    array.push('still capable to do more Merge resets');\n                }\n            } else if (player.upgrades[5][3] === 1 && player.buildings[5][3].true >= 22) {\n                array.push('can Collapse Vacuum into its true state');\n            }\n            if (player.researchesExtra[5][0] >= 1) {\n                const galaxyCost = calculateBuildingsCost(3, 5).toNumber();\n                if (galaxyCost <= Math.max(player.collapse.mass, global.collapseInfo.newMass)) {\n                    array.push(`can afford a Galaxy${galaxyCost > player.collapse.mass ? ' after Collapse' : ''}`);\n                }\n            }\n            if (player.challenges.active === 0) {\n                array.push('currently inside the Void');\n            }\n        }\n        if (player.toggles.confirm[0] === 'All' && array.length === 0) {\n            array.push('confirmation is enabled');\n        }\n        if (array.length !== 0) {\n            if (!await Confirm(`Prevented ${!player.inflation.vacuum ? `${global.stageInfo.word[active === 5 ? 4 : active]} ` : ''}Stage reset because ${array.join(',\\nAlso ')}\\nReset anyway?`)) { return; }\n            if (!stageResetCheck(active)) { return Notify('Stage reset canceled, requirements are no longer met'); }\n        }\n    }\n    stageResetReward(active);\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Caused Stage reset'; }\n};\n\n/** Requires call of stageResetCheck or assignResetInformation.quarksGain */\nconst stageResetReward = (stageIndex: number) => {\n    const stage = player.stage;\n\n    let fullReset = true;\n    let update: null | boolean = true;\n    const resetThese = player.inflation.vacuum ? [1, 2, 3, 4, 5] : [stageIndex];\n    if (player.inflation.vacuum) {\n        if (stage.active === 1 || stage.active >= 6) {\n            update = false;\n        } else { setActiveStage(1); }\n        stage.current = 1;\n        if (player.proggress.main >= 18) { resetThese.push(6); }\n    } else if (stageIndex === stage.current) {\n        if (stageIndex < 4) {\n            const check = stage.current === stage.active;\n            stage.current++;\n            if (stage.current === 2 && player.milestones[2][1] >= 7) { stage.current++; }\n            if (stage.current === 3 && player.milestones[3][1] >= 7) { stage.current++; }\n            if (check) {\n                setActiveStage(stage.current);\n            } else { update = false; }\n        } else {\n            stage.current = player.milestones[1][1] < 6 ? 1 : player.milestones[2][1] < 7 ? 2 : player.milestones[3][1] < 7 ? 3 : 4;\n            if ((stage.active === 4 && stage.current !== 4) || stage.active === 5) {\n                setActiveStage(stage.current);\n            } else { update = false; }\n            resetThese.unshift(4);\n        }\n        global.milestonesInfo[stage.current].recent = cloneArray(playerStart.milestones[stage.current]);\n        if (stage.current === 4) { global.milestonesInfo[5].recent = cloneArray(playerStart.milestones[5]); }\n        if (player.proggress.main >= 18) { resetThese.push(6); }\n    } else {\n        global.milestonesInfo[stageIndex].recent = cloneArray(playerStart.milestones[stageIndex]);\n        update = stageIndex === stage.active ? false : null;\n        fullReset = false;\n    }\n\n    if (player.proggress.main >= 9) {\n        const exportReward = player.time.export;\n        const conversion = (1 + player.tree[0][5]) * player.tree[0][5] / 50;\n        const quarks = stageIndex >= 4 ? global.strangeInfo.strange0Gain : calculateEffects.strangeGain(false);\n        const strangelets = stageIndex >= 4 ? global.strangeInfo.strange1Gain : 0;\n        player.strange[0].current += quarks;\n        player.strange[0].total += quarks;\n        if (strangelets > 0) {\n            player.strange[1].current += strangelets;\n            player.strange[1].total += strangelets;\n            assignBuildingsProduction.strange1();\n            exportReward[2] = Math.max(exportReward[2], strangelets) + strangelets * conversion;\n        }\n        assignBuildingsProduction.strange0(stageIndex >= 4 ? false : undefined);\n        exportReward[1] = Math.max(exportReward[1], quarks) + quarks * conversion;\n        if (stageIndex >= 4) {\n            const history = player.history.stage;\n            const storage = global.historyStorage.stage;\n            storage.unshift([player.time.stage, quarks, strangelets, stage.peak[0], stage.peak[1]]);\n            if (quarks / player.time.stage > history.best[1] / history.best[0]) { history.best = cloneArray(storage[0]); }\n            if (storage.length > 100) { storage.length = 100; }\n        }\n    }\n\n    stage.resets++;\n    resetStage(resetThese, update, fullReset);\n};\nconst stageFullReset = (noReward = false) => {\n    const vacuum = player.inflation.vacuum;\n    const current = vacuum ? 5 : player.stage.current;\n    if (!vacuum) {\n        if (current !== 1 && player.milestones[1][1] >= 6) {\n            if (!noReward && stageResetCheck(1)) {\n                stageResetReward(1);\n            } else {\n                resetStage([1], false, false);\n            }\n        }\n        if (current !== 2 && player.milestones[2][1] >= 7) {\n            if (!noReward && stageResetCheck(2)) {\n                stageResetReward(2);\n            } else {\n                resetStage([2], false, false);\n            }\n        }\n        if (current !== 3 && player.milestones[3][1] >= 7) {\n            if (!noReward && stageResetCheck(3)) {\n                stageResetReward(3);\n            } else {\n                resetStage([3], false, false);\n            }\n        }\n    }\n\n    if (!noReward && stageResetCheck(current)) {\n        stageResetReward(current);\n    } else {\n        const resetThese = vacuum ? [1, 2, 3, 4, 5] : [current];\n        if (player.proggress.main >= 18) { resetThese.push(6); }\n        let update = false;\n        if (vacuum) {\n            if (player.stage.active !== 1 && player.stage.active < 6) {\n                setActiveStage(1);\n                update = true;\n            }\n            player.stage.current = 1;\n        }\n        resetStage(resetThese, update);\n    }\n};\n\nexport const switchStage = (stage: number, active = stage) => {\n    if (!global.stageInfo.activeAll.includes(stage) || player.stage.active === stage) {\n        if (player.stage.active === stage && global.trueActive !== stage) {\n            global.trueActive = stage;\n            getId(`stageSwitch${stage}`).style.textDecoration = 'underline';\n        }\n        visualUpdate();\n        numbersUpdate();\n        return;\n    }\n\n    setActiveStage(stage, active);\n    stageUpdate();\n};\n\n/** Doesn't check for Stage being unlocked, requires stageUpdate() call afterwards */\nexport const setActiveStage = (stage: number, active = stage) => {\n    if (!global.offline.active) { getId(`stageSwitch${player.stage.active}`).style.textDecoration = ''; }\n    player.stage.active = stage;\n    global.trueActive = active;\n    if (global.offline.active) {\n        global.offline.stage[0] = stage;\n        return;\n    }\n    getId(`stageSwitch${stage}`).style.textDecoration = 'underline' + (global.trueActive !== stage ? ' dashed' : '');\n\n    if (global.tabs.current === 'upgrade') {\n        if (global.tabs.upgrade.current === 'Elements' && stage !== 4 && stage !== 5) { switchTab('upgrade', 'Upgrades'); }\n    } else if (global.tabs.current === 'Elements') {\n        if (stage !== 4 && stage !== 5) { switchTab('upgrade'); }\n    }\n};\n\n/** Returns true for Auto, only if reset happened */\nconst dischargeResetCheck = (goals = false): boolean => {\n    if (player.upgrades[1][5] !== 1) { return false; }\n    const info = global.dischargeInfo;\n    const energy = player.discharge.energy;\n    const level = player.strangeness[1][4];\n\n    info.scaling = calculateEffects.dischargeScaling();\n    info.next = calculateEffects.dischargeCost();\n    if (goals) {\n        if (level >= 2) {\n            if (info.energyTrue >= info.next) {\n                const increase = Math.floor(logAny(info.energyTrue / info.next, info.scaling)) + 1;\n                player.discharge.current += increase;\n                info.total = calculateEffects.effectiveGoals();\n                awardVoidReward(1);\n            }\n        } else if (level < 1 && (player.researchesAuto[2] < 1 || (!player.inflation.vacuum && player.stage.current !== 1))) { return false; }\n        if (!player.toggles.auto[1] || (energy >= info.energyTrue && (level >= 2 || energy < info.next))) { return false; }\n        dischargeReset();\n        return true;\n    }\n    return energy < info.energyTrue || (level < 2 && energy >= info.next);\n};\nexport const dischargeResetUser = async() => {\n    if (!dischargeResetCheck()) { return; }\n\n    if (player.toggles.confirm[1] !== 'None') {\n        const array = [];\n        if (player.stage.active !== 1) {\n            array.push(\"current active Stage isn't Microworld\");\n        }\n        if (player.toggles.confirm[1] === 'All' && array.length === 0) {\n            array.push('confirmation is enabled');\n        }\n        if (array.length !== 0) {\n            if (!await Confirm(`Prevented Discharge because ${array.join(',\\nAlso ')}\\nReset anyway?`)) { return; }\n            if (!dischargeResetCheck()) { return Notify('Discharge canceled, requirements are no longer met'); }\n        }\n    }\n\n    dischargeReset();\n    numbersUpdate();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Caused Discharge reset'; }\n};\n\nconst dischargeReset = () => {\n    if (player.strangeness[1][4] < 2 && player.discharge.energy >= global.dischargeInfo.next && player.discharge.energy >= global.dischargeInfo.energyTrue) {\n        player.discharge.energy -= Math.ceil(global.dischargeInfo.next);\n        player.discharge.current++;\n    }\n    awardVoidReward(1);\n    reset('discharge', player.challenges.active === 0 ? [1, 2, 3, 4, 5] : [1]);\n};\n\n/** Returns true for Auto, only if reset happened */\nconst vaporizationResetCheck = (clouds = null as number | null): boolean => {\n    if (player.upgrades[2][2] !== 1 || assignResetInformation.newClouds() <= 0) { return false; }\n\n    if (clouds !== null) {\n        const level = player.strangeness[2][4];\n        if (level >= 2 || (player.inflation.vacuum && player.researchesExtra[2][0] >= 1 && player.tree[1][5] >= 2)) {\n            vaporizationReset(clouds);\n            if (player.toggles.normal[1] || !player.toggles.auto[2]) { return false; }\n            assignResetInformation.newClouds();\n        } else if (!player.toggles.auto[2]) { return false; }\n        if (level < 1 && (player.inflation.vacuum ? player.researchesAuto[2] < 3 : (player.researchesAuto[2] < 1 || player.stage.current !== 2))) { return false; }\n\n        const vaporization = player.vaporization;\n        if (player.inflation.vacuum && vaporization.input[1] > 0 && vaporization.clouds >= vaporization.input[1]) { return false; }\n        const rainNow = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n        const rainAfter = calculateEffects.S2Extra1(player.researchesExtra[2][1], true);\n        if ((calculateEffects.clouds(true) / calculateEffects.clouds()) * (rainAfter / rainNow) * (calculateEffects.S2Extra2(rainAfter) / calculateEffects.S2Extra2(rainNow)) < vaporization.input[0]) { return false; }\n        vaporizationReset();\n    }\n    return true;\n};\nexport const vaporizationResetUser = async() => {\n    if (!vaporizationResetCheck()) { return; }\n\n    if (player.toggles.confirm[2] !== 'None') {\n        const array = [];\n        if (player.strangeness[2][4] >= 2 || (player.inflation.vacuum && player.researchesExtra[2][0] >= 1 && player.tree[1][5] >= 2)) {\n            array.push('already gaining Clouds without needing to reset');\n        }\n        const rainNow = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n        const rainAfter = calculateEffects.S2Extra1(player.researchesExtra[2][1], true);\n        if ((calculateEffects.clouds(true) / calculateEffects.clouds()) * (rainAfter / rainNow) * (calculateEffects.S2Extra2(rainAfter) / calculateEffects.S2Extra2(rainNow)) < 2) {\n            array.push('boost from doing it is below 2x');\n        }\n        if (player.stage.active !== 2) {\n            array.push(\"current active Stage isn't Submerged\");\n        }\n        if (player.toggles.confirm[2] === 'All' && array.length === 0) {\n            array.push('confirmation is enabled');\n        }\n        if (array.length !== 0) {\n            if (!await Confirm(`Prevented Vaporization because ${array.join(',\\nAlso ')}\\nReset anyway?`)) { return; }\n            if (!vaporizationResetCheck()) { return Notify('Vaporization canceled, requirements are no longer met'); }\n        }\n    }\n\n    vaporizationReset();\n    numbersUpdate();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Caused Vaporization reset'; }\n};\n\nconst vaporizationReset = (autoClouds = null as number | null) => {\n    const vaporization = player.vaporization;\n\n    if (autoClouds !== null) {\n        const level = player.researchesExtra[2][0];\n        if (level >= 1 && player.tree[1][5] >= 2) {\n            autoClouds /= (player.strangeness[2][4] >= 2 ? 40 : 400) / ((level + 3) * level);\n        } else { autoClouds /= 40; }\n        vaporization.clouds += global.vaporizationInfo.get * autoClouds;\n    } else {\n        vaporization.clouds += global.vaporizationInfo.get;\n        reset('vaporization', player.challenges.active === 0 && player.tree[1][5] < 4 ? [1, 2, 3, 4, 5] : player.inflation.vacuum ? [1, 2] : [2]);\n    }\n    awardVoidReward(2);\n};\n\n/** Returns true for Auto, only if reset happened */\nconst rankResetCheck = (ranks = false): boolean => {\n    if (player.accretion.rank >= global.accretionInfo.maxRank || player.buildings[3][0][player.strangeness[3][4] >= 2 ? 'total' : 'current'].lessThan(calculateEffects.rankCost())) { return false; }\n\n    const improved = player.strangeness[3][4] >= 2 && player.challenges.supervoid[3] >= 2;\n    if (ranks) {\n        if (improved) {\n            rankReset(true);\n            return true;\n        } else if (!player.toggles.auto[3] || (player.strangeness[3][4] < 1 && (player.inflation.vacuum ? player.researchesAuto[2] < 2 : (player.researchesAuto[2] < 1 || player.stage.current !== 3)))) { return false; }\n        rankReset();\n        return true;\n    }\n    return !improved;\n};\nexport const rankResetUser = async() => {\n    if (!rankResetCheck()) { return; }\n\n    if (player.toggles.confirm[3] !== 'None' && player.accretion.rank !== 0) {\n        const array = [];\n        if (player.inflation.vacuum && (player.researchesExtra[2][1] <= 0 || player.vaporization.clouds <= 0) && player.accretion.rank >= 4) {\n            array.push(`current ${player.researchesExtra[2][1] <= 0 ? \"level for Clouds Research 'Rain Clouds'\" : 'Cloud amount'} is 0, which could make next Rank slow`);\n        }\n        if (player.stage.active !== 3) {\n            array.push(\"current active Stage isn't Accretion\");\n        }\n        if (player.toggles.confirm[3] === 'All' && array.length === 0) {\n            array.push('confirmation is enabled');\n        }\n        if (array.length !== 0) {\n            if (!await Confirm(`Prevented Rank increase because ${array.join(',\\nAlso ')}\\nReset anyway?`)) { return; }\n            if (!rankResetCheck()) { return Notify('Rank increase canceled, requirements are no longer met'); }\n        }\n    }\n\n    rankReset();\n    numbersUpdate();\n    if (player.stage.active === 3) { visualUpdate(); }\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = `Increased Rank to '${global.accretionInfo.rankName[player.accretion.rank]}'`; }\n};\n\nconst rankReset = (noReset = false) => {\n    player.accretion.rank++;\n    awardVoidReward(3);\n    assignResetInformation.maxRank();\n    if (!noReset) {\n        reset('rank', player.challenges.active === 0 ? [1, 2, 3, 4, 5] : player.inflation.vacuum ? [1, 2, 3] : [3]);\n    } else {\n        global.accretionInfo.effective = calculateEffects.effectiveRank();\n        global.dischargeInfo.total = calculateEffects.effectiveGoals();\n    }\n    calculateMaxLevel(0, 3, 'researchesExtra', true);\n    calculateMaxLevel(4, 3, 'researchesExtra', true);\n    calculateMaxLevel(0, 4, 'researches', true);\n    if (player.accretion.rank === 5) {\n        if (player.researchesExtra[3][0] > global.researchesExtraInfo[3].max[0]) { player.researchesExtra[3][0] = global.researchesExtraInfo[3].max[0]; }\n    } else if (player.accretion.rank === 6) {\n        player.stage.current = 4;\n        let update = false;\n        if (player.toggles.normal[0]) {\n            if (player.stage.active < 4) {\n                setActiveStage(4);\n                update = true;\n            } else if (global.trueActive < 4) {\n                global.trueActive = 4;\n            }\n        }\n        stageUpdate(update);\n    }\n};\n\n/** Returns true for Auto, only if reset happened */\nconst collapseResetCheck = (remnants = false): boolean => {\n    assignResetInformation.newMass(); //Required\n    if (player.upgrades[4][0] !== 1) { return false; }\n    assignResetInformation.newStars();\n    const info = global.collapseInfo;\n    const collapse = player.collapse;\n    const level = player.strangeness[4][4];\n\n    if (remnants) {\n        if (level >= 2) {\n            if (info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0) {\n                collapse.stars[0] += info.starCheck[0];\n                collapse.stars[1] += info.starCheck[1];\n                collapse.stars[2] += info.starCheck[2];\n                effectsCache.star[0] = calculateEffects.star[0]();\n                effectsCache.star[1] = calculateEffects.star[1]();\n                effectsCache.star[2] = calculateEffects.star[2]();\n                assignResetInformation.newStars(true);\n                assignResetInformation.newMass();\n                awardVoidReward(4);\n            }\n            if (level >= 3) {\n                if (info.newMass > collapse.mass) {\n                    collapse.mass = info.newMass;\n                    awardVoidReward(4);\n                }\n                return false;\n            }\n        } else if (level < 1 && (player.inflation.vacuum ? player.researchesAuto[2] < 4 : (player.researchesAuto[2] < 1 || player.stage.current < 4))) { return false; }\n        if (!player.toggles.auto[4]) { return false; }\n\n        if (player.strangeness[5][4] >= 1 && player.toggles.buildings[5][3] && player.researchesExtra[5][0] >= 1) {\n            let newMass = info.newMass;\n            if (level < 2 && player.verses[0].current >= 2) { newMass *= calculateEffects.star[2](true) / effectsCache.star[2]; }\n            if (calculateBuildingsCost(3, 5).toNumber() <= newMass) {\n                collapseReset();\n                return true;\n            }\n        }\n        const timeUntil = assignResetInformation.timeUntil();\n        if (timeUntil > 0 && timeUntil < collapse.input[1]) { return false; }\n        while (info.pointsLoop < collapse.points.length) {\n            const point = collapse.points[info.pointsLoop];\n            if (point > info.newMass || (point > 40 && player.strangeness[5][4] < 1)) { break; }\n            info.pointsLoop++;\n            if (point > collapse.mass) {\n                collapseReset();\n                return true;\n            }\n        }\n        const massBoost = (calculateEffects.mass(true) / calculateEffects.mass()) * (calculateEffects.S4Research4(true) / calculateEffects.S4Research4()) * ((1 + (calculateEffects.S5Upgrade2(true) - calculateEffects.S5Upgrade2()) / effectsCache.galaxyBase) ** (player.buildings[5][3].true * 2));\n        if (massBoost >= collapse.input[0]) {\n            collapseReset();\n            return true;\n        } else if (level >= 2) { return false; }\n        const starProd = global.buildingsInfo.producing[4];\n        const restProd = new Overlimit(starProd[1]).allPlus(starProd[3], starProd[4], starProd[5]);\n        if (!(massBoost * new Overlimit(starProd[2]).multiply(calculateEffects.star[0](true) / effectsCache.star[0]).plus(restProd).divide(restProd.plus(starProd[2])).toNumber() * (calculateEffects.star[1](true) / effectsCache.star[1]) * (calculateEffects.star[2](true) / effectsCache.star[2]) >= collapse.input[0])) { return false; } //Done this way to remove NaN\n        collapseReset();\n        return true;\n    }\n    return (level < 3 && info.newMass > collapse.mass) || (level < 2 && (info.starCheck[0] > 0 || info.starCheck[1] > 0 || info.starCheck[2] > 0)) || player.elements.includes(0.5, 1);\n};\nexport const collapseResetUser = async() => {\n    if (!collapseResetCheck()) { return; }\n\n    if (player.toggles.confirm[4] !== 'None') {\n        const array = [];\n        if (player.inflation.vacuum) {\n            const timeUntil = assignResetInformation.timeUntil();\n            const unlockedG = player.researchesExtra[5][0] >= 1;\n            const cantAffordG = !unlockedG || calculateBuildingsCost(3, 5).toNumber() > global.collapseInfo.newMass;\n            if (timeUntil > 0 && timeUntil < 1e6 && cantAffordG) {\n                array.push(`${unlockedG ? 'will not be able to afford new Galaxy and ' : ''}Solar mass isn't hardcapped, but can be hardcapped soon`);\n            }\n            if (player.researchesExtra[2][1] <= 0 || player.vaporization.clouds <= 0) {\n                array.push(`current ${player.researchesExtra[2][1] <= 0 ? \"level for Clouds Research 'Rain Clouds'\" : 'Cloud amount'} is 0, which could make recovering from Collapse really slow`);\n            }\n        }\n        if (player.stage.active !== 4 && player.stage.active !== 5) {\n            array.push(\"current active Stage isn't Interstellar\");\n        }\n        if (player.toggles.confirm[4] === 'All' && array.length === 0) {\n            array.push('confirmation is enabled');\n        }\n        if (array.length !== 0) {\n            if (!await Confirm(`Prevented Collapse because ${array.join(',\\nAlso ')}\\nReset anyway?`)) { return; }\n            if (!collapseResetCheck()) { return Notify('Collapse canceled, requirements are no longer met'); }\n        }\n    }\n\n    collapseReset();\n    numbersUpdate();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Caused Collapse reset'; }\n};\n\nconst collapseReset = () => {\n    const collapseInfo = global.collapseInfo;\n    const collapse = player.collapse;\n\n    collapse.stars[0] += collapseInfo.starCheck[0];\n    collapse.stars[1] += collapseInfo.starCheck[1];\n    collapse.stars[2] += collapseInfo.starCheck[2];\n    if (collapseInfo.newMass > collapse.mass) {\n        collapse.mass = collapseInfo.newMass;\n    }\n    for (let i = 1; i < global.elementsInfo.maxActive; i++) { //Must be below mass and star checks\n        i = player.elements.indexOf(0.5, i);\n        if (i < 1) { break; }\n        buyUpgrades(i, 4, 'elements', true);\n    }\n\n    reset('collapse', player.challenges.active === 0 ? [1, 2, 3, 4, 5] : player.inflation.vacuum ? [1, 2, 3, 4] : (player.strangeness[5][3] < 1 ? [4, 5] : [4]));\n    calculateMaxLevel(0, 4, 'researches');\n    calculateMaxLevel(1, 4, 'researches');\n    awardVoidReward(4);\n};\n\n/** Returns true for Auto, only if reset happened */\nconst mergeResetCheck = (rewards = false): boolean => {\n    if (player.upgrades[5][3] !== 1) { return false; }\n    const galaxies = player.buildings[5][3].true;\n    if (!player.inflation.vacuum) {\n        if (galaxies < 22) { return false; }\n        if (rewards) {\n            if (player.strangeness[5][9] < 1) { return false; }\n            mergeReset();\n        }\n        return true;\n    }\n    assignResetInformation.mergeReward();\n    const merge = player.merge;\n\n    if (rewards) {\n        const info = global.mergeInfo;\n        if (player.strangeness[5][9] >= 2 && (info.checkReward[0] > 0 || info.checkReward[1] > 0)) {\n            merge.claimed[0] += info.checkReward[0];\n            merge.claimed[1] += info.checkReward[1];\n            merge.rewards[0] += info.checkReward[0];\n            merge.rewards[1] += info.checkReward[1];\n            assignResetInformation.mergeReward(true);\n            awardVoidReward(5);\n        }\n        if (!player.toggles.auto[9] || merge.resets >= calculateEffects.mergeMaxResets() || player.strangeness[5][9] < 1 || (merge.input[1] !== 0 ? merge.since < merge.input[1] : assignResetInformation.timeUntil() > 0) || galaxies < Math.max(merge.input[0], 1)) { return false; }\n        mergeReset();\n    }\n    return galaxies >= 1 && merge.resets < calculateEffects.mergeMaxResets();\n};\nexport const mergeResetUser = async() => {\n    if (!mergeResetCheck()) { return; }\n\n    if (player.toggles.confirm[5] !== 'None' && player.inflation.vacuum) {\n        const array = [];\n        const galaxyCost = calculateBuildingsCost(3, 5).toNumber();\n        if (galaxyCost <= Math.max(player.collapse.mass, global.collapseInfo.newMass)) {\n            array.push(`can afford a Galaxy${galaxyCost > player.collapse.mass ? ' after Collapse' : ''}`);\n        }\n        if (player.stage.active !== 5 && player.stage.active !== 6) {\n            array.push(\"current active Stage isn't Intergalactic\");\n        }\n        if (player.toggles.confirm[5] === 'All' && array.length === 0) {\n            array.push('confirmation is enabled');\n        }\n        if (array.length !== 0) {\n            if (!await Confirm(`Prevented Merging because ${array.join(',\\nAlso ')}\\nReset anyway?`)) { return; }\n            if (!mergeResetCheck()) { return Notify('Merge canceled, requirements are no longer met'); }\n        }\n    }\n\n    mergeReset();\n    numbersUpdate();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = player.inflation.vacuum ? 'Merged Galaxies' : 'Decayed Vacuum'; }\n};\n\nconst mergeReset = () => {\n    if (!player.inflation.vacuum) {\n        if (awardStabilityReward()) { return; }\n        if (player.proggress.main >= 15) {\n            player.cosmon[0].current++;\n            player.cosmon[0].total++;\n            if (player.challenges.supervoid[1] < 1 && player.cosmon[0].total >= 2) {\n                Notify(\"Click the 'Void' button in the 'Advanced' subtab to toggle into Supervoid\");\n            }\n        }\n        if (player.stage.active < 6) { setActiveStage(1); }\n        player.inflation.vacuum = true;\n        player.inflation.resets++;\n        player.time.export[1] = 0;\n        player.time.export[2] = 0;\n        prepareVacuum(true);\n        resetVacuum();\n        return;\n    }\n\n    player.merge.resets++;\n    player.merge.rewards[0] += global.mergeInfo.checkReward[0];\n    player.merge.rewards[1] += global.mergeInfo.checkReward[1];\n    player.buildings[5][3].true = 0;\n    player.merge.claimed = [0, 0];\n    reset('galaxy', [1, 2, 3, 4, 5]);\n    calculateMaxLevel(0, 4, 'researches');\n    calculateMaxLevel(1, 4, 'researches');\n    calculateMaxLevel(2, 4, 'researches');\n    calculateMaxLevel(5, 4, 'researches');\n    if (player.stage.current < 6) {\n        player.stage.current = 6;\n        stageUpdate(false);\n    }\n    awardVoidReward(5);\n};\n\n/** Returns true for Auto, only if reset happened */\nconst nucleationResetCheck = (auto = false): boolean => {\n    if (player.upgrades[6][0] !== 1) { return false; }\n    assignResetInformation.newFluid();\n    if (auto) {\n        if (player.verses[0].lowest[0] > 3) { return false; }\n        if (global.dischargeInfo.energyStage[6] <= player.darkness.energy) {\n            const post = calculateEffects.darkFluid(true);\n            if ((post / effectsCache.fluid) * (calculateEffects.effectiveDarkEnergy(post) / calculateEffects.effectiveDarkEnergy()) ** (player.researchesExtra[6][3] / 40) < player.darkness.input) { return false; }\n        }\n        nucleationReset();\n        return true;\n    }\n    return global.dischargeInfo.energyStage[6] > player.darkness.energy || global.inflationInfo.newFluid > 0;\n};\nexport const nucleationResetUser = async() => {\n    if (!nucleationResetCheck()) { return; }\n\n    if (player.toggles.confirm[7] !== 'None') {\n        const array = [];\n        const post = calculateEffects.darkFluid(true);\n        if (player.darkness.energy >= global.dischargeInfo.energyStage[6] && (post / effectsCache.fluid) * (calculateEffects.effectiveDarkEnergy(post) / calculateEffects.effectiveDarkEnergy()) ** (player.researchesExtra[6][3] / 40) < 1.1) {\n            array.push(`boost from doing it is below ${format(1.1)}x`);\n        }\n        if (player.stage.active !== 6) {\n            array.push(\"current active Stage isn't Abyss\");\n        }\n        if (player.toggles.confirm[7] === 'All' && array.length === 0) {\n            array.push('confirmation is enabled');\n        }\n        if (array.length !== 0) {\n            if (!await Confirm(`Prevented Nucleation because ${array.join(',\\nAlso ')}\\nReset anyway?`)) { return; }\n            if (!nucleationResetCheck()) { return Notify('Nucleation canceled, requirements are no longer met'); }\n        }\n    }\n\n    nucleationReset();\n    numbersUpdate();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Caused Nucleation reset'; }\n};\n\nconst nucleationReset = () => {\n    if (global.inflationInfo.newFluid > 0) { player.darkness.fluid += global.inflationInfo.newFluid; }\n    reset('collapse', player.challenges.active === 0 ? [1, 2, 3, 4, 5, 6] : [6]);\n};\n\nexport const assignMilestoneInformation = (index: number, stageIndex: number) => {\n    const pointer = global.milestonesInfo[stageIndex];\n    const level = player.milestones[stageIndex][index];\n    if (player.inflation.vacuum) {\n        if (stageIndex === 1) {\n            if (index === 0) {\n                pointer.need[0].setValue(1e24).power(level).multiply(1e24);\n                pointer.reward[0] = 1.05 ** level;\n            } else if (index === 1) {\n                pointer.need[1].setValue(24000 + 24000 * level);\n                pointer.reward[1] = 1.03 ** level;\n            }\n        } else if (stageIndex === 2) {\n            if (index === 0) {\n                pointer.need[0].setValue(1e3).power(level).multiply(1e3);\n                pointer.reward[0] = 1.08 ** level;\n            } else if (index === 1) {\n                pointer.need[1].setValue(1e1).power(level).multiply(1e1);\n                pointer.reward[1] = 1.12 ** level;\n            }\n        } else if (stageIndex === 3) {\n            if (index === 0) {\n                pointer.need[0].setValue(1e-12 * 1e4 ** level);\n                pointer.reward[0] = 1.08 ** level;\n            } else if (index === 1) {\n                pointer.need[1].setValue(8 + 8 * level);\n                pointer.reward[1] = level / 4;\n            }\n        } else if (stageIndex === 4) {\n            if (index === 0) {\n                pointer.need[0].setValue(1e6).power(level).multiply(1e6);\n                pointer.reward[0] = 1.06 ** level;\n            } else if (index === 1) {\n                const base = player.tree[1][7] >= 1 ? 35 : 28;\n                pointer.need[1].setValue(base + base * level);\n                pointer.reward[1] = 1.01 ** level;\n            }\n        } else if (stageIndex === 5) {\n            if (index === 0) {\n                pointer.need[0].setValue(1e1).power(level).multiply(1e1);\n                pointer.reward[0] = 1.04 ** level;\n            } else if (index === 1) {\n                pointer.need[1].setValue(1 + level);\n                pointer.reward[1] = level / 100;\n            }\n        }\n    } else {\n        let time = 0;\n        if (player.challenges.active !== 1) {\n            const percentage = level / (pointer.scaling[index].length - 1);\n            if (stageIndex === 1) {\n                time = 14400 / (percentage * (index === 1 ? 11 : 3) + 1) ** percentage;\n            } else if (stageIndex === 2) {\n                time = 28800 / (percentage * (index === 1 ? 23 : 7) + 1) ** percentage;\n            } else if (stageIndex === 3) {\n                time = 43200 / (percentage * (index === 1 ? 35 : 11) + 1) ** percentage;\n            } else if (stageIndex === 4) {\n                time = 57600 / (percentage * (index === 1 ? 47 : 15) + 1) ** percentage;\n            } else if (stageIndex === 5) {\n                time = index === 0 ? (3600 / (percentage * 2 + 1)) : 1200;\n            }\n            if (player.tree[0][0] === 1) { time /= 4; }\n        } else if (player.tree[0][4] >= 1) { time = 600; }\n        pointer.reward[index] = time;\n        pointer.need[index].setValue(pointer.scaling[index][level]);\n    }\n};\n\nconst awardMilestone = (index: number, stageIndex: number) => {\n    if (!milestoneCheck(index, stageIndex)) { return; }\n    const pointer = global.milestonesInfo[stageIndex];\n\n    pointer.recent[index]++;\n    player.milestones[stageIndex][index]++;\n    assignMilestoneInformation(index, stageIndex);\n\n    const maxed = !player.inflation.vacuum && player.milestones[stageIndex][index] >= pointer.scaling[index].length;\n    if (globalSave.toggles[6]) { Notify(`Milestone '${pointer.name[index]}' new tier completed${maxed ? ', Maxed' : ''}`); }\n    if (!player.inflation.vacuum) {\n        player.strange[0].current++;\n        player.strange[0].total++;\n        assignBuildingsProduction.strange0();\n        if (maxed && (stageIndex === 4 || stageIndex === 5) && index === 0) { calculateMaxLevel(6, stageIndex, 'strangeness', true); }\n    } else if (stageIndex === 3 && index === 1) {\n        global.accretionInfo.effective = calculateEffects.effectiveRank();\n        global.dischargeInfo.total = calculateEffects.effectiveGoals();\n        calculateMaxLevel(0, 3, 'researchesExtra', true);\n        calculateMaxLevel(0, 4, 'researches', true);\n    }\n    awardMilestone(index, stageIndex);\n};\n\n/** Also updates related information */\nexport const toggleSupervoid = (change = false) => {\n    const info = global.challengesInfo[0];\n    if (change) {\n        if (player.challenges.active === 0) { return Notify(`Can't be toggled while inside the '${info.name}'`); }\n        player.challenges.super = !player.challenges.super && player.proggress.main >= 20;\n    }\n\n    if (player.challenges.super) {\n        info.name = 'Supervoid';\n        info.resetType = 'vacuum';\n        global.sessionToggles[0] = true;\n    } else {\n        info.name = 'Void';\n        info.resetType = 'stage';\n        global.sessionToggles[0] = false;\n    }\n    if (change) {\n        assignChallengeInformation(0);\n        numbersUpdate();\n    }\n};\n\nexport const assignChallengeInformation = (index: number) => {\n    if (index === 2) { return; }\n    let time = (index === 1 ? 7200 : //[1]\n        player.challenges.super ? 1200 : 3600) / (6 / (6 - player.tree[0][5])); //[0]\n    if (player.tree[0][0] === 1) { time /= 4; }\n    global.challengesInfo[index].time = time;\n};\n\nconst awardVoidReward = (index: number): void => {\n    const challenges = player.challenges;\n    if (challenges.active !== 0) { return; }\n    const info = global.challengesInfo[0];\n\n    let progress = 1;\n    if (index === 1) {\n        progress += player.researchesExtra[1][2];\n    } else if (index === 2) {\n        if (player.vaporization.clouds > 1e4) { progress++; }\n        if (player.vaporization.clouds > 1e12 && ((player.challenges.supervoid[3] >= 2 && player.strangeness[3][4] >= 2) || player.accretion.rank === 1)) { progress++; }\n    } else if (index === 3) {\n        progress = Math.min(player.accretion.rank - 1, 6);\n    } else if (index === 4) {\n        if (player.collapse.stars[0] >= 1) { progress++; }\n        if (player.collapse.stars[1] >= 1) { progress++; }\n        if (player.collapse.stars[2] >= 1) { progress++; }\n        if (player.elements[26] >= 1 && player.strangeness[5][3] >= 1) { progress++; }\n    } else if (index === 5) {\n        if (player.merge.resets >= 1) { progress++; }\n        if (player.merge.rewards[0] >= 1) { progress++; }\n        if (player.merge.rewards[1] >= 1) { progress++; }\n    }\n\n    const pointer = challenges.void;\n    if (pointer[index] < progress && player.time.stage <= info.time) {\n        pointer[index]++;\n        const excess = progress !== pointer[index];\n        if (excess) { progress = pointer[index]; }\n        if (challenges.voidCheck[index] < progress) { challenges.voidCheck[index] = progress; }\n        const totalProgress = pointer[1] + pointer[2] + pointer[3] + pointer[4] + pointer[5];\n        player.strange[0].current += totalProgress;\n        player.strange[0].total += totalProgress;\n        assignBuildingsProduction.strange0();\n\n        Notify(`New Void reward unlocked:\\n${info.rewardText[0][index][progress - 1]}`);\n        if (index === 3) {\n            if (progress <= 4) {\n                calculateMaxLevel(0, 1, 'strangeness', true);\n                calculateMaxLevel(1, 1, 'strangeness', true);\n                calculateMaxLevel(3, 1, 'strangeness', true);\n                calculateMaxLevel(0, 2, 'strangeness', true);\n                calculateMaxLevel(1, 2, 'strangeness', true);\n                calculateMaxLevel(3, 2, 'strangeness', true);\n                calculateMaxLevel(0, 3, 'strangeness', true);\n                calculateMaxLevel(1, 3, 'strangeness', true);\n                calculateMaxLevel(0, 4, 'strangeness', true);\n                calculateMaxLevel(1, 4, 'strangeness', true);\n                calculateMaxLevel(2, 5, 'strangeness', true);\n            }\n        } else if (index === 4) {\n            if (progress === 1) {\n                calculateMaxLevel(4, 1, 'strangeness', true);\n                calculateMaxLevel(4, 2, 'strangeness', true);\n                calculateMaxLevel(4, 3, 'strangeness', true);\n                calculateMaxLevel(4, 4, 'strangeness', true);\n            }\n        } else if (index === 5) {\n            if (progress === 2) {\n                calculateMaxLevel(6, 1, 'strangeness', true);\n                calculateMaxLevel(6, 2, 'strangeness', true);\n                calculateMaxLevel(7, 3, 'strangeness', true);\n                calculateMaxLevel(9, 3, 'strangeness', true);\n                calculateMaxLevel(7, 4, 'strangeness', true);\n                calculateMaxLevel(7, 5, 'strangeness', true);\n                calculateMaxLevel(8, 5, 'strangeness', true);\n            }\n        }\n        if (excess) { return awardVoidReward(index); }\n    }\n\n    if (!challenges.super) { return; }\n    const pointer2 = challenges.supervoidMax;\n    if (pointer2[index] < progress && player.time.vacuum <= info.time) {\n        pointer2[index]++;\n        const excess = progress !== pointer2[index];\n        if (excess) { progress = pointer2[index]; }\n        if (challenges.supervoid[index] < progress) {\n            challenges.supervoid[index]++;\n            player.cosmon[0].current++;\n            player.cosmon[0].total++;\n            Notify(`New Supervoid reward unlocked:\\n${info.rewardText[1][index][progress - 1]}`);\n        } else { Notify(\"Strength of the 'Instability' increased\"); }\n        global.inflationInfo.totalSuper = pointer2[1] + pointer2[2] + pointer2[3] + pointer2[4] + pointer2[5];\n\n        if (index === 4) {\n            if (progress === 3) {\n                calculateMaxLevel(3, 4, 'strangeness', true);\n            }\n        }\n        if (excess) { return awardVoidReward(index); }\n    }\n};\nconst awardStabilityReward = (): boolean => {\n    const challenges = player.challenges;\n    if (challenges.active !== 1) { return false; }\n\n    const info = global.challengesInfo[1];\n    if (player.time.vacuum <= info.time) {\n        challenges.stability++;\n        player.cosmon[0].current++;\n        player.cosmon[0].total++;\n\n        const rewardText = info.rewardText[challenges.stability - 1];\n        Notify(`New Vacuum stability completion${rewardText !== undefined ? ` and a new reward:\\n${rewardText}` : ''}`);\n\n        if (player.stage.active < 6) { setActiveStage(1); }\n        resetVacuum();\n    }\n    return true;\n};\n\n/** Null means exit if possible, nothing if isn't. Entering same challenge will exit out of it */\nexport const enterExitChallengeUser = (index: number | null) => {\n    const old = player.challenges.active;\n    if (old === index || index === null) {\n        if (old === null) { return; }\n\n        challengeReset();\n        Notify(`Exited the ${global.challengesInfo[old].name}`);\n    } else {\n        if (!allowedToEnter(index)) { return; }\n        Notify(`Entered the ${global.challengesInfo[index].name}`);\n        if (index === 2) {\n            player.darkness.active = true;\n            calculateMaxLevel(0, 6, 'ASR', true);\n            if (player.verses[0].lowest[0] <= 5 && player.inflation.vacuum) {\n                player.ASR[6] = 1;\n            }\n            numbersUpdate();\n            visualUpdate();\n        } else { challengeReset(index); }\n    }\n};\nconst exitChallengeAuto = () => {\n    const old = player.challenges.active;\n    if (old === null) { return; }\n    const info = global.challengesInfo[old];\n    if (player.time[info.resetType] <= info.time || player.strangeness[5][6] < (player.inflation.vacuum ? 1 : 2)) { return; }\n\n    challengeReset();\n    Notify(`Automatically exited the ${info.name}`);\n};\n/** Automatically exits out of challenge and then enters new one if specified */\nconst challengeReset = (next = null as number | null) => {\n    const old = player.challenges.active;\n    if (old !== null) {\n        if (old === 0) {\n            if (!player.challenges.super && stageResetCheck(5)) { stageResetReward(5); }\n        }\n        player.challenges.active = null;\n        if (player.stage.active < 6) { setActiveStage(Math.min(player.clone.stage.current, (player.clone.depth !== 'stage' ? player.clone : player).strangeness[5][3] >= 1 ? 5 : 4)); }\n        const currentState = player.clone.inflation?.vacuum as boolean | undefined;\n        if (currentState !== undefined && currentState !== player.inflation.vacuum) {\n            player.inflation.vacuum = currentState;\n            prepareVacuum(currentState);\n        }\n        prepareChallenge();\n        loadFromClone();\n    }\n\n    if (next !== null) {\n        player.challenges.active = next;\n        const resetType = global.challengesInfo[next].resetType;\n        cloneBeforeReset(resetType as Exclude<typeof resetType, 'universe'>);\n        if (resetType !== 'stage') {\n            if (player.stage.active < 6) { setActiveStage(1); }\n            const requiredState = next !== 1;\n            if (player.inflation.vacuum !== requiredState) {\n                player.inflation.vacuum = requiredState;\n                prepareVacuum(requiredState);\n            }\n        }\n\n        prepareChallenge();\n        if (resetType === 'vacuum') {\n            resetVacuum();\n        } else { stageFullReset(true); }\n    }\n};\n", "import { checkTab, getStageResetType, getVerseType, milestoneGetValue } from './Check';\nimport { changeSubtab } from './Hotkeys';\nimport Overlimit from './Limit';\nimport { assignInnerHTML, getClass, getId, getQuery, toggleSwap } from './Main';\nimport { effectsCache, global, player } from './Player';\nimport { MDStrangenessPage, Notify, checkProggress, globalSave, resetMinSizes, setTheme, specialHTML } from './Special';\nimport { calculateBuildingsCost, stageResetCheck, setActiveStage, calculateEffects, assignBuildingsProduction, assignResetInformation, calculateVerseCost, calculateTreeCost } from './Stage';\nimport type { gameSubtab, gameTab } from './Types';\n\n/** Tab being null will test current tab/subtab being unlocked and updates subtab list */\nexport const switchTab = (tab = null as null | gameTab, subtab = null as null | gameSubtab): void => {\n    const oldTab = global.tabs.current;\n    if (tab === null) {\n        if (!checkTab(oldTab)) { return switchTab('stage'); }\n\n        let subtabAmount = 0;\n        for (const inside of global.tabs[oldTab].list) {\n            const unlocked = checkTab(oldTab, inside);\n            getId(`${oldTab}SubtabBtn${inside}`).style.display = unlocked ? '' : 'none';\n            if (unlocked) {\n                subtabAmount++;\n            } else if (global.tabs[oldTab].current === inside) {\n                switchTab(oldTab, global.tabs[oldTab].list[0]);\n            }\n        }\n        getId('subtabs').style.visibility = subtabAmount > 1 ? '' : 'hidden';\n        return;\n    } else if (subtab === null) {\n        if (oldTab === tab) { return changeSubtab('up'); }\n        getId(`${oldTab}Tab`).style.display = 'none';\n        getId(`${oldTab}TabBtn`).classList.remove('tabActive');\n\n        global.tabs.current = tab;\n        getId(`${tab}Tab`).style.display = '';\n        getId(`${tab}TabBtn`).classList.add('tabActive');\n\n        let subtabAmount = 0;\n        for (const inside of global.tabs[oldTab].list) {\n            getId(`${oldTab}SubtabBtn${inside}`).style.display = 'none';\n        }\n        for (const inside of global.tabs[tab].list) {\n            if (checkTab(tab, inside)) {\n                getId(`${tab}SubtabBtn${inside}`).style.display = '';\n                subtabAmount++;\n            } else if (global.tabs[tab].current === inside) {\n                switchTab(tab, global.tabs[tab].list[0]);\n            }\n        }\n        getId('subtabs').style.visibility = subtabAmount > 1 ? '' : 'hidden';\n        if (globalSave.SRSettings[0]) { getId('SRTab').textContent = `Current tab is '${tab}'${subtabAmount > 1 ? ` and subtab is '${global.tabs[tab].current}'` : ''}`; }\n    } else {\n        const oldSubtab = global.tabs[tab].current;\n        getId(`${tab}Subtab${oldSubtab}`).style.display = 'none';\n        getId(`${tab}SubtabBtn${oldSubtab}`).classList.remove('tabActive');\n\n        global.tabs[tab].current = subtab;\n        getId(`${tab}Subtab${subtab}`).style.display = '';\n        getId(`${tab}SubtabBtn${subtab}`).classList.add('tabActive');\n        if (oldTab !== tab) { return; }\n        if (globalSave.SRSettings[0]) { getId('SRTab').textContent = `Current subtab is '${subtab}', part of '${tab}' tab`; }\n    }\n\n    const active = player.stage.active;\n    if ((tab === 'upgrade' && global.tabs.upgrade.current === 'Elements') || tab === 'Elements') {\n        if (active !== 4 && active !== 5) {\n            if (tab === 'upgrade' && subtab === null) {\n                switchTab('upgrade', 'Upgrades');\n            } else {\n                setActiveStage(global.trueActive === 5 ? 5 : 4, global.trueActive);\n                stageUpdate();\n            }\n            return;\n        }\n    } else if (global.trueActive !== active) {\n        setActiveStage(global.stageInfo.activeAll.includes(global.trueActive) ? global.trueActive : Math.min(player.stage.current, 5));\n        stageUpdate();\n        return;\n    }\n    visualUpdate();\n    numbersUpdate();\n};\n\nexport const numbersUpdate = (ignoreOffline = false) => {\n    if (global.offline.active && !ignoreOffline) { return; }\n    const tab = global.tabs.current;\n    const subtab = global.tabs[tab].current;\n    const active = player.stage.active;\n    const buildings = player.buildings[active];\n    const challenge = player.challenges.active;\n    const vacuum = player.inflation.vacuum;\n\n    if (!global.debug.timeLimit) {\n        let noTime = null as boolean | null;\n        if (challenge !== null) {\n            noTime = player.time[global.challengesInfo[challenge].resetType] > global.challengesInfo[challenge].time;\n        } else if (!vacuum && player.tree[0][4] < 1 && player.proggress.main >= 11) {\n            const s = Math.min(player.stage.current, 4);\n            const info = global.milestonesInfo;\n            let maxTime = 0;\n            for (let i = 0; i < info[s].need.length; i++) {\n                if (player.milestones[s][i] >= info[s].scaling[i].length) {\n                    if (s === 4 && player.milestones[5][i] < info[5].scaling[i].length) {\n                        maxTime = Math.max(info[5].reward[i], maxTime);\n                    }\n                    continue;\n                }\n                maxTime = Math.max(info[s].reward[i], maxTime);\n            }\n            if (maxTime > 0) { noTime = player.time.stage > maxTime; }\n        }\n\n        if (noTime) {\n            Notify(`Time limit has been reached for ${challenge !== null ? `the '${global.challengesInfo[challenge].name}'` : 'all Milestones'}`);\n            global.debug.timeLimit = true;\n        } else if (noTime === null) { global.debug.timeLimit = true; }\n    }\n\n    {\n        if (!globalSave.toggles[4]) {\n            getId('globalStat1Span').textContent = format(player.discharge.energy, { padding: 'exponent' });\n            getId('globalStat2Span').textContent = format(player.buildings[2][1].current, { padding: true });\n            getId('globalStat3Span').textContent = format(player.buildings[3][0].current, { padding: true });\n            getId('globalStat4Span').textContent = format(player.buildings[4][0].current, { padding: true });\n            getId('globalStat5Span').textContent = format(player.buildings[6][0].current, { padding: true });\n        }\n        if (active === 1) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n            getId('footerStat2Span').textContent = format(player.discharge.energy, { padding: 'exponent' });\n        } else if (active === 2) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n            getId('footerStat2Span').textContent = format(buildings[1].current, { padding: true });\n            getId('footerStat3Span').textContent = format(player.vaporization.clouds, { padding: true });\n        } else if (active === 3) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n        } else if (active === 4 || active === 5) {\n            const stars = player.buildings[4];\n\n            getId('footerStat1Span').textContent = format(stars[0].current, { padding: true });\n            getId('footerStat2Span').textContent = format(player.collapse.mass, { padding: true });\n            if (active === 5) {\n                getId('footerStat3Span').textContent = format(new Overlimit(stars[1].current).allPlus(stars[2].current, stars[3].current, stars[4].current, stars[5].current), { padding: true });\n            }\n        } else if (active === 6) {\n            getId('footerStat1Span').textContent = format(buildings[0].current, { padding: true });\n            getId('footerStat2Span').textContent = format(player.darkness.energy, { padding: 'exponent' });\n            getId('footerStat3Span').textContent = format(player.darkness.fluid, { padding: true });\n        }\n        const value = global.hotkeys.shift;\n        const shiftButton = getId('shiftFooter');\n        if (specialHTML.cache.innerHTML.get(shiftButton) !== value) {\n            specialHTML.cache.innerHTML.set(shiftButton, value);\n            shiftButton.style.borderColor = value ? 'forestgreen' : '';\n            shiftButton.style.color = value ? 'var(--green-text)' : '';\n        }\n    }\n\n    if (tab === 'stage') {\n        if (subtab === 'Structures') {\n            const buildingsInfo = global.buildingsInfo;\n            const howMany = global.hotkeys.shift ? (global.hotkeys.ctrl ? 100 : 1) : global.hotkeys.ctrl ? 10 : player.toggles.shop.input;\n            const speed = global.inflationInfo.globalSpeed;\n\n            //Visual fixes for stuff that makes no sense to assign (yet)\n            if (active === 1) {\n                assignBuildingsProduction.S1Build5(true);\n            } else if (active === 2) {\n                assignBuildingsProduction.S2Build2(true);\n            }\n            for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n                const trueCountID = getId(`building${i}True`);\n                getId(`building${i}Cur`).textContent = format(buildings[i].current, { padding: trueCountID.style.display !== 'none' });\n                getId(`building${i}Prod`).textContent = format(buildingsInfo.type[active][i - 1] === 'producing' ? new Overlimit(buildingsInfo.producing[active][i]).multiply(speed) : buildingsInfo.producing[active][i], { padding: true });\n                trueCountID.textContent = `[${format(buildings[i as 1].true, { padding: 'exponent' })}]`;\n\n                let lockText;\n                if (active === 3) {\n                    if (i > 1 && player.upgrades[3][global.accretionInfo.unlockA[i - 2]] !== 1) {\n                        lockText = 'Unlocked with Upgrade';\n                    }\n                } else if (active === 4) {\n                    if (player.researchesExtra[5][0] < 1 && player.collapse.mass < global.collapseInfo.unlockB[i]) {\n                        lockText = `Unlocked at ${format(global.collapseInfo.unlockB[i])} Mass`;\n                    }\n                }\n                if (lockText !== undefined) {\n                    getId(`building${i}`).classList.remove('availableB');\n                    getId(`building${i}Btn`).textContent = lockText;\n                    getId(`building${i}BuyX`).textContent = 'Locked';\n                    continue;\n                }\n\n                let costName: string;\n                let currency: number | Overlimit;\n                let free = false;\n                let multi = true;\n                if (active === 5 && i === 3) { //Galaxy\n                    costName = 'Mass';\n                    currency = player.collapse.mass;\n                    multi = false;\n                } else {\n                    let e = i - 1;\n                    let extra = active;\n                    if (active === 1) {\n                        if (player.tree[1][8] >= 1) {\n                            free = true;\n                        } else if (i === 1 && vacuum) {\n                            free = (player.challenges.supervoid[3] >= 5 || player.researchesExtra[1][2] >= 1) && player.strangeness[1][8] >= 1;\n                        }\n                    } else if (active === 2) {\n                        if (i !== 1) { e = 1; }\n                        free = player.tree[1][8] >= 2;\n                    } else if (active >= 3) {\n                        e = 0;\n                        if (active === 5) { extra = 4; }\n                        if (active < 6) { free = player.tree[1][8] >= (active === 3 ? 3 : 4); }\n                    }\n\n                    costName = buildingsInfo.name[extra][e];\n                    currency = player.buildings[extra][e].current;\n                }\n\n                let buy = 1;\n                const cost = calculateBuildingsCost(i, active);\n                if (howMany !== 1 && multi) {\n                    const scaling = buildingsInfo.increase[active][i];\n                    if (free) {\n                        buy = howMany <= 0 ? Math.max(Math.floor(new Overlimit(currency).divide(cost).log(scaling).toNumber()) + 1, 1) : howMany;\n                        if (buy > 1) { cost.multiply(new Overlimit(scaling).power(buy - 1)); }\n                    } else {\n                        buy = howMany <= 0 ? Math.max(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus(1).log(scaling).toNumber()), 1) : howMany;\n                        if (buy > 1) { cost.multiply(new Overlimit(scaling).power(buy).minus(1).divide(scaling - 1)); }\n                    }\n                }\n\n                getId(`building${i}`).classList[cost.lessOrEqual(currency) ? 'add' : 'remove']('availableB');\n                getId(`building${i}Btn`).textContent = `Need: ${format(cost, { padding: true })} ${costName}`;\n                getId(`building${i}BuyX`).textContent = format(buy, { padding: 'exponent' });\n            }\n            if (active === 1) {\n                const dischargeInfo = global.dischargeInfo;\n                getId('reset0Button').textContent = dischargeInfo.energyTrue > player.discharge.energy ? 'Reset to regain spent Energy' : `Next goal is ${format(dischargeInfo.next, { padding: true })} Energy`;\n                getQuery('#tritiumEffect > span').textContent = format(effectsCache.tritium * speed, { padding: true });\n                getQuery('#dischargeEffect > span').textContent = format(dischargeInfo.base ** dischargeInfo.total, { padding: true });\n                getQuery('#energySpent > span').textContent = format(dischargeInfo.energyTrue - player.discharge.energy, { padding: 'exponent' });\n                if (vacuum) {\n                    const preonCap = calculateEffects.preonsHardcap();\n                    getId('preonCapRatio').textContent = format(assignBuildingsProduction.S1Build1(true).divide(preonCap), { padding: true });\n                    getQuery('#preonCap > span').textContent = format(preonCap.multiply(speed), { padding: true });\n                }\n            } else if (active === 2) {\n                getId('reset0Button').textContent = `Reset for ${format(Math.max(global.vaporizationInfo.get, 0), { padding: true })} Clouds`;\n                getQuery('#cloudEffect > span').textContent = format(calculateEffects.clouds(), { padding: true });\n                if (vacuum) {\n                    getQuery('#molesProduction > span').textContent = format(effectsCache.tritium / 6.02214076e23 * speed, { padding: true });\n                }\n\n                const rainNow = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n                const rainAfter = calculateEffects.S2Extra1(player.researchesExtra[2][1], true);\n                getQuery('#vaporizationBoostTotal > span').textContent = format((calculateEffects.clouds(true) / calculateEffects.clouds()) * (rainAfter / rainNow) * (calculateEffects.S2Extra2(rainAfter) / calculateEffects.S2Extra2(rainNow)), { padding: true });\n            } else if (active === 3) {\n                getQuery('#dustSoftcap > span').textContent = format(global.accretionInfo.dustSoft);\n                if (player.accretion.rank < global.accretionInfo.maxRank && player.strangeness[3][4] >= 2) { getId('reset0Button').textContent = `Next Rank is in ${format(new Overlimit(calculateEffects.rankCost()).minus(buildings[0].total).max(0), { padding: true })} Mass`; }\n                if (vacuum) {\n                    getQuery('#massProduction > span').textContent = format(new Overlimit(assignBuildingsProduction.S1Build1()).multiply(1.78266192e-33 * speed), { padding: true });\n                    getQuery('#submersionBoost > span').textContent = format(calculateEffects.submersion(), { padding: true });\n                    if (player.researchesExtra[3][5] < 1) {\n                        const dustCap = calculateEffects.dustHardcap();\n                        getId('dustCapRatio').textContent = format(assignBuildingsProduction.S3Build1(true).divide(dustCap), { padding: true });\n                        getQuery('#dustCap > span').textContent = format(dustCap, { padding: true });\n                    }\n                }\n            } else if (active === 4 || active === 5) {\n                const collapseInfo = global.collapseInfo;\n                const starProd = buildingsInfo.producing[4];\n                let total = player.strangeness[4][4] >= 3 ? 1 : (calculateEffects.mass(true) / calculateEffects.mass()) * (calculateEffects.S4Research4(true) / calculateEffects.S4Research4()) * ((1 + (calculateEffects.S5Upgrade2(true) - calculateEffects.S5Upgrade2()) / effectsCache.galaxyBase) ** (player.buildings[5][3].true * 2));\n                if (player.strangeness[4][4] < 2) {\n                    const restProd = new Overlimit(starProd[1]).allPlus(starProd[3], starProd[4], starProd[5]);\n                    total *= new Overlimit(starProd[2]).multiply(calculateEffects.star[0](true) / effectsCache.star[0]).plus(restProd).divide(restProd.plus(starProd[2])).replaceNaN(1).toNumber() * (calculateEffects.star[1](true) / effectsCache.star[1]) * (calculateEffects.star[2](true) / effectsCache.star[2]);\n                }\n\n                if (active === 4) {\n                    getId('reset0Button').textContent = `Collapse is at ${format(collapseInfo.newMass, { padding: true })} Mass`;\n                    getQuery('#solarMassEffect > span').textContent = format(calculateEffects.mass(), { padding: true });\n                    for (let i = 0; i < 3; i++) {\n                        getId(`special${i + 1}Cur`).textContent = format(player.collapse.stars[i], { padding: 'exponent' });\n                        getId(`special${i + 1}Get`).textContent = format(collapseInfo.starCheck[i], { padding: 'exponent' });\n                        getQuery(`#star${i + 1}Effect > span`).textContent = format(effectsCache.star[i], { padding: true });\n\n                        /* Fixes text movement */\n                        const mainQuery = getQuery(`#special${i + 1} > p`);\n                        const widthTest = mainQuery.getBoundingClientRect().width;\n                        if (specialHTML.cache.innerHTML.get(mainQuery) !== widthTest) {\n                            specialHTML.cache.innerHTML.set(mainQuery, widthTest);\n                            mainQuery.style.minWidth = `${widthTest}px`;\n                        }\n                    }\n                    if (player.strangeness[4][4] < 3) { getQuery('#collapseBoostTotal > span').textContent = format(total, { padding: true }); }\n                    if (vacuum) {\n                        getQuery('#mainCap > span').textContent = format(collapseInfo.solarCap, { padding: true });\n                        getId('mainCapTill').textContent = format(assignResetInformation.timeUntil(), { padding: true });\n                    }\n                } else if (active === 5) {\n                    const merge = player.merge;\n                    if (vacuum) {\n                        const mergeInfo = global.mergeInfo;\n\n                        const mergeEffects = [calculateEffects.reward[0](), calculateEffects.reward[1]()];\n                        const remaining = calculateEffects.mergeMaxResets() - merge.resets;\n                        getId('reset0Button').textContent = `Can reset ${remaining} more time${remaining !== 1 ? 's' : ''}`;\n                        for (let i = 0; i < 2; i++) {\n                            getId(`special${i + 1}Cur`).textContent = format(merge.rewards[i], { padding: 'exponent' });\n                            getId(`special${i + 1}Get`).textContent = format(mergeInfo.checkReward[i], { padding: 'exponent' });\n                            getQuery(`#merge${i + 1}Effect > span`).textContent = format(mergeEffects[i], { padding: true });\n                        }\n                        getQuery('#mainCapHardS5 > span').textContent = format(collapseInfo.solarCap, { padding: true });\n                        if (player.strangeness[5][9] < 2) { getQuery('#mergeBoostTotal > span').textContent = format((buildings[3].true / (mergeInfo.galaxies + 1) + 1) * (calculateEffects.reward[0](true) / mergeEffects[0]) * (calculateEffects.reward[1](true) / mergeEffects[1]), { padding: true }); }\n\n                        const groupsCost = calculateEffects.groupsCost();\n                        const groupsTotal = player.researchesExtra[5][1] >= 2;\n                        getQuery('#merge1Effect > span:last-of-type').textContent = `${groupsCost}`;\n                        getQuery('#merge1Effect > span:nth-of-type(2)').textContent = `${(groupsTotal ? mergeInfo.galaxies : buildings[3].true) - (mergeInfo.checkReward[0] + merge[groupsTotal ? 'rewards' : 'claimed'][0]) * groupsCost}`;\n                        const clustersTotal = player.researchesExtra[5][5] >= 2;\n                        getQuery('#merge2Effect > span:nth-of-type(2)').textContent = `${(clustersTotal ? mergeInfo.galaxies : buildings[3].true) - (mergeInfo.checkReward[1] + merge[clustersTotal ? 'rewards' : 'claimed'][1]) * 100}`;\n                    }\n                    if (player.strangeness[4][4] < 2) { getQuery('#mainCapPostS5 > span').textContent = format(collapseInfo[vacuum ? 'solarCap' : 'newMass'] * (calculateEffects.star[2](true) / effectsCache.star[2]), { padding: true }); }\n                    getQuery('#elementsProductionS5 > span').textContent = format(new Overlimit(starProd[1]).allPlus(starProd[2], starProd[3], starProd[4], starProd[5]).multiply(speed), { padding: true });\n                    if (player.strangeness[4][4] < 3) { getQuery('#collapseBoostTotalS5 > span').textContent = format(total, { padding: true }); }\n                    getQuery('#mainCapS5 > span').textContent = format(collapseInfo.newMass, { padding: true });\n                    getQuery('#timeSinceGalaxy > span').textContent = format(merge.since, { type: 'time' });\n                }\n            } else if (active === 6) {\n                getId('darkSoftcap').textContent = format(calculateEffects.darkSoftcap(), { padding: true });\n                const mergeScore = calculateEffects.mergeScore();\n                const producings = [assignBuildingsProduction.verse0(), 0];\n\n                const softcap = calculateEffects.darkSoftcap();\n                const current = buildings[0].current.toNumber();\n                if (current > softcap) {\n                    producings[0] = ((softcap * (softcap + 24 * producings[0] * speed) + 8 * current * (2 * current + softcap)) ** 0.5 - softcap) / 4 - current;\n                } else { producings[0] *= speed; }\n                for (let i = 0; i < producings.length; i++) {\n                    getId(`verse${i}True`).textContent = `[${format(i === 0 ? global.inflationInfo.trueUniverses : player.verses[i].true, { padding: 'exponent' })}]`;\n                    getId(`verse${i}Cur`).textContent = format(player.verses[i].current, { padding: 'exponent' });\n                    getId(`verse${i}Prod`).textContent = format(producings[i], { padding: true });\n\n                    let lockText;\n                    if (i === 0) {\n                        if (!vacuum) {\n                            lockText = 'Requires true Vacuum state';\n                        } else if (challenge !== null && global.challengesInfo[challenge].time < player.time[global.challengesInfo[challenge].resetType]) {\n                            lockText = 'Out of Challenge time';\n                        }\n                    } else { lockText = '2 Universe types (WIP)'; }\n                    if (lockText !== undefined) {\n                        getId(`verse${i}`).classList.remove('availableB');\n                        getId(`verse${i}Btn`).textContent = lockText;\n                        getId(`verse${i}BuyX`).textContent = 'Locked';\n                        continue;\n                    }\n\n                    const cost = calculateVerseCost(i);\n                    getId(`verse${i}`).classList[cost <= mergeScore ? 'add' : 'remove']('availableB');\n                    getId(`verse${i}Btn`).textContent = `Need: ${format(cost, { padding: true })} Merge score`;\n                    getId(`verse${i}BuyX`).textContent = '1';\n                }\n                const selfVerses = player.verses[0].other;\n                getId('verse0True').dataset.title = `Basic: ${format(player.verses[0].true, { padding: 'exponent' })}${selfVerses[0] < 1 ? '' : ` + Void: ${format(selfVerses[0], { padding: 'exponent' })}`}`;\n                if (vacuum) {\n                    const merge = player.merge;\n\n                    getId('reset0Button').textContent = `Reset for ${format(Math.max(assignResetInformation.newFluid(), 0), { padding: true })} Dark fluid`;\n                    getQuery('#darkEnergySpent > span').textContent = format(global.dischargeInfo.energyStage[6] - player.darkness.energy, { padding: 'exponent' });\n                    const darkPost = calculateEffects.darkFluid(true);\n                    getQuery('#nucleationBoostTotal > span').textContent = format((darkPost / effectsCache.fluid) * (calculateEffects.effectiveDarkEnergy(darkPost) / calculateEffects.effectiveDarkEnergy()) ** (player.researchesExtra[6][3] / 40), { padding: true });\n\n                    getId('mergeScore0Cur').textContent = format(global.mergeInfo.galaxies, { padding: 'exponent' });\n                    getId('mergeScore1Cur').textContent = format(merge.rewards[0] * 2, { padding: 'exponent' });\n                    getId('mergeScore2Cur').textContent = format(merge.rewards[1] * 4, { padding: 'exponent' });\n                    getId('mergeScoreTotal').textContent = format(mergeScore, { padding: 'exponent' });\n                    const remaining = calculateEffects.mergeMaxResets() - merge.resets;\n                    let post = mergeScore;\n                    if (remaining > 0) {\n                        const allowed = player.buildings[5][3].true * (remaining - 1);\n                        const plusTrue = player.buildings[5][3].true + allowed;\n                        const allGalaxies = global.mergeInfo.galaxies + (player.strangeness[5][9] >= 2 ? plusTrue : allowed);\n                        post += plusTrue + //Galaxies\n                            Math.floor(player.researchesExtra[5][1] >= 2 ? allGalaxies / calculateEffects.groupsCost() - merge.rewards[0] : (global.mergeInfo.checkReward[0] + merge.claimed[0]) * remaining) * 2 + //Groups\n                            Math.floor(player.researchesExtra[5][5] >= 2 ? allGalaxies / 100 - merge.rewards[1] : (global.mergeInfo.checkReward[1] + merge.claimed[1]) * remaining) * 4; //Clusters\n                    }\n                    getId('mergeScoreAfter').textContent = format(post, { padding: 'exponent' });\n\n                    getQuery('#mergeResetsS6 > span').textContent = format(merge.resets, { padding: 'exponent' });\n                    getQuery('#mergeResetsS6 > span:last-of-type').textContent = format(calculateEffects.mergeMaxResets(), { padding: 'exponent' });\n                }\n                getQuery('#universeTime > span').textContent = format(player.inflation.age, { type: 'time' });\n                getQuery('#universeTimeReal > span').textContent = format(player.time.universe, { type: 'time' });\n            }\n\n            const cosmonGain = calculateEffects.cosmonGain();\n            getId('reset2Button').textContent = global.inflationInfo.trueUniverses >= 1 || player.darkness.energy >= 1000 ? `Big ${player.darkness.energy >= 1000 ? 'Rip' : 'Crunch'} for ${format(cosmonGain, { padding: true })} Cosmons` : 'Requires a self-made Universe';\n            if (!vacuum && (active < 4 || active >= 6)) {\n                getId('stageReward').textContent = format(calculateEffects.strangeGain(false), { padding: true });\n                if (active < 4) { getId('reset1Button').textContent = stageResetCheck(active) ? 'Requirements are met' : `Requires ${active === 3 ? `${format(2.45576045e31)} Mass` : active === 2 ? `${format(1.19444e29)} Drops` : `${format(1.67133125e21)} Molecules`}`; }\n            } else {\n                if (player.elements[26] < 0.5) { assignResetInformation.quarksGain(); }\n                getId('stageReward').textContent = format(global.strangeInfo.strange0Gain, { padding: true });\n                if (challenge !== null && global.challengesInfo[challenge].resetType === 'stage' && global.challengesInfo[challenge].time < player.time.stage) { getId('reset1Button').textContent = 'Out of Challenge time'; }\n            }\n            getQuery('#stageTime > span').textContent = format(player.stage.time, { type: 'time' });\n            getQuery('#stageTimeReal > span').textContent = format(player.time.stage, { type: 'time' });\n            getQuery('#globalSpeed > span').textContent = format(speed, { padding: true });\n            if (player.time.excess < 0) { getQuery('#gameDisabled > span').textContent = format(-player.time.excess / 1000, { type: 'time' }); }\n        } else if (subtab === 'Advanced') {\n            getChallengeDescription();\n            getChallengeRewards();\n        }\n    } else if (tab === 'upgrade' || tab === 'Elements') {\n        if (subtab === 'Upgrades') {\n            for (let i = 0; i < global.upgradesInfo[active].maxActive; i++) { visualUpdateUpgrades(i, active, 'upgrades'); }\n            for (let i = 0; i < global.researchesInfo[active].maxActive; i++) { visualUpdateResearches(i, active, 'researches'); }\n            for (let i = 0; i < global.researchesExtraInfo[active].maxActive; i++) { visualUpdateResearches(i, active, 'researchesExtra'); }\n            for (let i = 0; i < global.researchesAutoInfo.name.length; i++) { visualUpdateResearches(i, 0, 'researchesAuto'); }\n            visualUpdateResearches(0, active, 'ASR');\n            getUpgradeDescription(global.lastUpgrade[active][1]);\n        } else if (subtab === 'Elements') {\n            for (let i = 0; i < global.elementsInfo.name.length; i++) { visualUpdateUpgrades(i, 4, 'elements'); }\n            if (global.lastElement !== 0) { getUpgradeDescription('elements'); }\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab === 'Matter') {\n            const interstellar = vacuum || active === 4 || active === 5;\n            if (interstellar && player.elements[26] < 0.5) { assignResetInformation.quarksGain(); }\n            const quarksGain = interstellar ? global.strangeInfo.strange0Gain : calculateEffects.strangeGain(false);\n            getId('strange0Gain').textContent = format(quarksGain, { padding: true });\n            getId('strange1Gain').textContent = format(interstellar ? global.strangeInfo.strange1Gain : 0, { padding: true });\n            getId('strangeRate').textContent = format(quarksGain / player.time.stage, { type: 'income' });\n            getId('strange0Cur').textContent = format(player.strange[0].current, { padding: true });\n            getId('strange1Cur').textContent = format(player.strange[1].current, { padding: true });\n            getId('stageTimeStrangeness').textContent = format(player.time.stage, { type: 'time' });\n            if (interstellar || active === player.stage.current) {\n                getQuery('#strangePeak > span').textContent = format(player.stage.peak[0], { type: 'income' });\n                getId('strangePeakAt').textContent = format(player.stage.peak[1], { type: 'time' });\n            }\n            if (getId('strange1EffectsMain').style.display !== 'none') {\n                const information = global.strangeInfo.strangeletsInfo;\n                getId('strange1Effect1Stat0').textContent = `${format(information[0] * 100, { padding: true })}% of current${vacuum ? '' : ' Interstellar'}`;\n                getId('strange1Effect1Stat1').textContent = `Which is equal to ${format(global.stageInfo.activeAll.includes(4) && stageResetCheck(5) ? information[0] * quarksGain / player.time.stage : 0, { type: 'income' })}${player.proggress.main >= 19 ? ', not affected by global speed' : ''}`;\n                getId('strange1Effect2Stat').textContent = format(information[1], { padding: true });\n            }\n            if (getId('strange0EffectsMain').style.display !== 'none') {\n                const stageBoost = global.strangeInfo.stageBoost;\n                const strangeness = player.strangeness;\n\n                getId('strange0Effect1Stat').textContent = format(strangeness[1][6] >= 1 ? stageBoost[1] : 1, { padding: true });\n                getId('strange0Effect2Stat').textContent = format(strangeness[2][6] >= 1 ? stageBoost[2] : 1, { padding: true });\n                getId('strange0Effect3Stat').textContent = format(strangeness[3][7] >= 1 ? stageBoost[3] : 1, { padding: true });\n                getId('strange0Effect4Stat').textContent = format(strangeness[4][7] >= 1 ? stageBoost[4] : 1, { padding: true });\n                getId('strange0Effect5Stat').textContent = format(strangeness[5][7] >= 1 ? stageBoost[5] : 1, { padding: true });\n            }\n            for (let s = 1; s < global.strangenessInfo.length; s++) {\n                for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) { visualUpdateResearches(i, s, 'strangeness'); }\n            }\n            getUpgradeDescription('strangeness');\n        } else if (subtab === 'Milestones') {\n            const time = player.time[challenge === 0 && player.challenges.super ? 'vacuum' : 'stage'];\n            const noTime = vacuum ? time > global.challengesInfo[0].time : player.tree[0][4] < 1;\n            for (let s = 1; s < global.milestonesInfo.length; s++) {\n                const info = global.milestonesInfo[s];\n                for (let i = 0; i < info.need.length; i++) {\n                    getId(`milestone${i + 1}Stage${s}Current`).textContent = format(milestoneGetValue(i, s), { padding: true });\n                    getId(`milestone${i + 1}Stage${s}Required`).textContent = !vacuum && player.milestones[s][i] >= info.scaling[i].length ? 'Maxed' :\n                        noTime && (vacuum || time > info.reward[i]) ? 'No time' : format(info.need[i], { padding: true });\n                }\n            }\n            getUpgradeDescription('milestones');\n        }\n    } else if (tab === 'inflation') {\n        if (subtab === 'Inflations') {\n            getId('cosmon0Span').textContent = format(player.cosmon[0].current, { padding: 'exponent' });\n            getId('cosmon1Span').textContent = format(player.cosmon[1].current, { padding: true });\n            getId('inflatonGainTrue').textContent = format(global.inflationInfo.trueUniverses + 1, { padding: 'exponent' });\n            getId('endTime').textContent = format(player.time.end, { type: 'time' });\n            const cosmonGain = calculateEffects.cosmonGain();\n            getQuery('#cosmonGain > span').textContent = format(cosmonGain, { padding: true });\n            getQuery('#cosmonRate > span').textContent = format(cosmonGain / player.time.end, { type: 'income' });\n            getId('cosmonPeak').textContent = format(player.inflation.peak[0], { type: 'income' });\n            getId('cosmonPeakAt').textContent = format(player.inflation.peak[1], { type: 'time' });\n            for (let s = 0; s <= 1; s++) {\n                for (let i = 0; i < global.treeInfo[s].name.length; i++) { visualUpdateResearches(i, s, 'inflations'); }\n            }\n            getUpgradeDescription('inflations');\n        }\n    } else if (tab === 'settings') {\n        if (subtab === 'Settings') {\n            const exportReward = player.time.export;\n            const claimPer = player.inflation.ends[0] >= 1 ? 1 : 2.5;\n            const conversion = Math.min(exportReward[0] / 43200_000, player.inflation.ends[1] >= 1 ? 2 : 1);\n            getId('exportQuarks').textContent = format((exportReward[1] / claimPer + 1) * conversion, { padding: true });\n            getQuery('#exportStrangelets > span').textContent = format(exportReward[2] / claimPer * conversion, { padding: true });\n            getQuery('#exportCosmon > span').textContent = format(exportReward[3] / 5 * conversion, { padding: true });\n            getId('warpButton').textContent = `${Math.floor(player.time.offline / (60_000 * Math.min(7 - player.tree[0][5], 6)))} Warps`;\n            if (global.lastSave >= 1000) { getId('isSaved').textContent = `${format(global.lastSave / 1000, { type: 'time' })} ago`; }\n        } else if (subtab === 'Stats') {\n            getId('firstPlayAgo').textContent = format((player.time.updated - player.time.started) / 1000, { type: 'time' });\n            getId('onlineTotal').textContent = format(player.time.online / 1000, { type: 'time' });\n            getQuery('#offlineStorage > span').textContent = format(player.time.offline / 1000, { type: 'time' });\n            getQuery('#stageResets > span').textContent = format(player.stage.resets, { padding: 'exponent' });\n            getQuery('#endResets > span').textContent = format(player.inflation.ends[0], { padding: 'exponent' });\n            getId('endResetsType2').textContent = format(player.inflation.ends[1], { padding: 'exponent' });\n            getId('endResetsType3').textContent = format(player.inflation.ends[2], { padding: 'exponent' });\n            getQuery('#trueUniversesStats > span').textContent = format(global.inflationInfo.trueUniverses, { padding: 'exponent' });\n            getId('trueUniversesHigh').textContent = format(player.verses[0].highest, { padding: 'exponent' });\n            getQuery('#trueUniversesLow > span').textContent = player.inflation.ends[1] >= 1 ? `${player.verses[0].lowest[0]}` : 'Infinity';\n\n            const exportReward = player.time.export;\n            const claimPer = player.inflation.ends[0] >= 1 ? 1 : 2.5;\n            const over = player.inflation.ends[1] >= 1 ? 2 : 1;\n            assignInnerHTML('#exportQuarksMax', `<span class=\"whiteText\">${format((exportReward[1] / claimPer + 1) * over, { padding: true })}</span>${claimPer !== 1 ? ` (<span class=\"whiteText\">${format(exportReward[1], { padding: true })}</span>)` : ''}`);\n            assignInnerHTML('#exportStrangeletsMax > span', `<span class=\"whiteText\">${format(exportReward[2] / claimPer * over, { padding: true })}</span>${claimPer !== 1 ? ` (<span class=\"whiteText\">${format(exportReward[2], { padding: true })}</span>)` : ''}`);\n            assignInnerHTML('#exportCosmonMax > span', `<span class=\"whiteText\">${format(exportReward[3] / 5 * over, { padding: true })}</span> (<span class=\"whiteText\">${format(exportReward[3], { padding: true })}</span>)`);\n            getId('exportTimeToMax').textContent = format(43200 * over - exportReward[0] / 1000, { type: 'time' });\n            if (active === 1) {\n                const info = global.dischargeInfo;\n                getQuery('#dischargeStat > span').textContent = format(info.total);\n                getId('dischargeStatTrue').textContent = ` [${player.discharge.current}]`;\n                getQuery('#dischargeScaleStat > span').textContent = format(info.scaling);\n                for (let s = 1; s < (vacuum ? 6 : 2); s++) {\n                    const energyType = info.energyType[s];\n                    getId(`energyGainStage${s}Total`).textContent = format(info.energyStage[s], { padding: 'exponent' });\n                    for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n                        getId(`energyGainStage${s}Build${i + (vacuum ? 0 : 2)}Cur`).textContent = format(energyType[i] * player.buildings[s][i as 1].true, { padding: 'exponent' });\n                        getId(`energyGainStage${s}Build${i + (vacuum ? 0 : 2)}Per`).textContent = format(energyType[i]);\n                    }\n                }\n                getQuery('#effectiveEnergyStat > span').textContent = format(calculateEffects.effectiveEnergy(), { padding: true });\n            } else if (active === 2) {\n                const clouds = calculateEffects.clouds(true) / calculateEffects.clouds();\n                getQuery('#cloudStat > span').textContent = format(clouds, { padding: true });\n                const rainNow = calculateEffects.S2Extra1(player.researchesExtra[2][1]);\n                const rainAfter = calculateEffects.S2Extra1(player.researchesExtra[2][1], true);\n                const rain = rainAfter / rainNow;\n                const storm = calculateEffects.S2Extra2(rainAfter) / calculateEffects.S2Extra2(rainNow);\n                getQuery('#rainStat > span').textContent = format(rain, { padding: true });\n                getQuery('#stormStat > span').textContent = format(storm, { padding: true });\n                getId('cloudEffectTotal').textContent = format(clouds * rain * storm, { padding: true });\n\n                if (vacuum) {\n                    buildings[0].total.setValue(player.buildings[1][5].total).divide(6.02214076e23);\n                    buildings[0].trueTotal.setValue(player.buildings[1][5].trueTotal).divide(6.02214076e23);\n                }\n            } else if (active === 3) {\n                getId('currentRank').textContent = format(global.accretionInfo.effective);\n                getId('currentRankTrue').textContent = ` [${format(player.accretion.rank, { padding: 'exponent' })}]`;\n                if (vacuum) {\n                    buildings[0].trueTotal.setValue(player.buildings[1][0].trueTotal).multiply(1.78266192e-33);\n                }\n            } else if (active === 4 || active === 5) {\n                getQuery('#trueStarsStat > span').textContent = format(global.collapseInfo.trueStars, { padding: 'exponent' });\n                if (active === 4) {\n                    if (player.strangeness[4][4] < 3) {\n                        const auto2 = player.strangeness[4][4] >= 2;\n                        const mass = calculateEffects.mass(true) / calculateEffects.mass();\n                        getQuery('#solarMassStat > span').textContent = format(mass, { padding: true });\n                        let star0 = 1;\n                        const star1 = auto2 ? 1 : calculateEffects.star[1](true) / effectsCache.star[1];\n                        const star2 = auto2 ? 1 : calculateEffects.star[2](true) / effectsCache.star[2];\n                        if (!auto2) {\n                            const starProd = global.buildingsInfo.producing[4];\n                            const restProd = new Overlimit(starProd[1]).allPlus(starProd[3], starProd[4], starProd[5]);\n                            star0 = new Overlimit(starProd[2]).multiply(calculateEffects.star[0](true) / effectsCache.star[0]).plus(restProd).divide(restProd.plus(starProd[2])).replaceNaN(1).toNumber();\n                            getQuery('#star1Stat > span').textContent = format(star0, { padding: true });\n                            getQuery('#star2Stat > span').textContent = format(star1, { padding: true });\n                            getQuery('#star3Stat > span').textContent = format(star2, { padding: true });\n                        }\n                        const gamma = calculateEffects.S4Research4(true) / calculateEffects.S4Research4();\n                        getQuery('#gammaRayStat > span').textContent = format(gamma, { padding: true });\n                        const quasar = (1 + (calculateEffects.S5Upgrade2(true) - calculateEffects.S5Upgrade2()) / effectsCache.galaxyBase) ** player.buildings[5][3].true;\n                        getQuery('#quasarStat > span').textContent = format(quasar, { padding: true });\n                        getId('starTotal').textContent = format(mass * star0 * star1 * star2 * gamma * (quasar ** 2), { padding: true });\n                    }\n                } else if (active === 5) {\n                    getQuery('#galaxyBase > span').textContent = format(effectsCache.galaxyBase, { padding: true });\n                    const stars = player.buildings[4];\n                    buildings[0].total.setValue(stars[1].total).allPlus(stars[2].total, stars[3].total, stars[4].total, stars[5].total);\n                    buildings[0].trueTotal.setValue(stars[1].trueTotal).allPlus(stars[2].trueTotal, stars[3].trueTotal, stars[4].trueTotal, stars[5].trueTotal);\n                    if (vacuum) {\n                        getQuery('#mergeResets > span').textContent = format(player.merge.resets, { padding: 'exponent' });\n                        getQuery('#mergeResets > span:last-of-type').textContent = format(calculateEffects.mergeMaxResets(), { padding: 'exponent' });\n                        const auto2 = player.strangeness[5][9] >= 2;\n                        const base = buildings[3].true / (global.mergeInfo.galaxies + 1) + 1;\n                        getQuery('#mergeBaseStat > span').textContent = format(base, { padding: true });\n                        const reward1 = auto2 ? 1 : calculateEffects.reward[0](true) / calculateEffects.reward[0]();\n                        const reward2 = auto2 ? 1 : calculateEffects.reward[1](true) / calculateEffects.reward[1]();\n                        if (!auto2) {\n                            getQuery('#merge1Stat > span').textContent = format(reward1, { padding: true });\n                            getQuery('#merge2Stat > span').textContent = format(reward2, { padding: true });\n                        }\n                        getId('mergeTotal').textContent = format(base * reward1 * reward2, { padding: true });\n                    }\n                }\n            } else if (active === 6) {\n                if (vacuum) {\n                    assignResetInformation.newFluid();\n                    const post = calculateEffects.darkFluid(true);\n                    const base = post / effectsCache.fluid;\n                    getQuery('#darkFluidStat > span').textContent = format(base, { padding: true });\n                    const quint = (calculateEffects.effectiveDarkEnergy(post) / calculateEffects.effectiveDarkEnergy()) ** (player.researchesExtra[6][3] / 40);\n                    getQuery('#quintessenceStat > span').textContent = format(quint, { padding: true });\n                    getId('nucleationTotal').textContent = format(base * quint, { padding: true });\n\n                    getQuery('#effectiveDarkEnergyStat > span').textContent = format(calculateEffects.effectiveDarkEnergy(), { padding: true });\n                    const energyType = global.dischargeInfo.energyType[6];\n                    for (let i = 1; i < energyType.length; i++) {\n                        getId(`energyGainStage6Build${i}Cur`).textContent = format(energyType[i] * buildings[i as 1].true, { padding: 'exponent' });\n                        getId(`energyGainStage6Build${i}Per`).textContent = format(energyType[i]);\n                    }\n                }\n            }\n            for (let i = 0; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}StatTotal`).textContent = format(buildings[i].total, { padding: true });\n                getId(`building${i}StatTrueTotal`).textContent = format(buildings[i].trueTotal, { padding: true });\n            }\n\n            getId('strange0StatTotal').textContent = format(player.strange[0].total, { padding: true });\n            getId('strange1StatTotal').textContent = format(player.strange[1].total, { padding: true });\n            getId('verse0StatTotal').textContent = format(player.verses[0].total, { padding: 'exponent' });\n            getId('cosmon0StatTotal').textContent = format(player.cosmon[0].total, { padding: 'exponent' });\n            getId('cosmon1StatTotal').textContent = format(player.cosmon[1].total, { padding: true });\n        }\n    }\n\n    const hoverText = specialHTML.hoverText;\n    if (hoverText !== null) { hoverText(); }\n};\n\nexport const visualUpdate = (ignoreOffline = false) => {\n    if (global.offline.active && !ignoreOffline) { return; }\n    checkProggress();\n    const tab = global.tabs.current;\n    const subtab = global.tabs[tab].current;\n    const active = player.stage.active;\n    const vacuum = player.inflation.vacuum;\n    const highest = player.proggress.main;\n\n    {\n        let showReset1 = tab === 'upgrade' || tab === 'Elements';\n        if (globalSave.toggles[1]) { getId('ElementsTabBtn').style.display = player.upgrades[4][1] === 1 ? '' : 'none'; }\n        if (active === 1) {\n            if (player.upgrades[1][5] !== 1) { showReset1 = false; }\n        } else if (active === 2) {\n            getId('footerStat3').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n            if (player.upgrades[2][2] !== 1) { showReset1 = false; }\n        } else if (active === 4) {\n            getId('resetExtraFooter').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n            if (player.upgrades[4][0] !== 1) { showReset1 = false; }\n        } else if (active === 5) {\n            getId('resetExtraFooter').style.display = tab === 'stage' && subtab === 'Structures' ? '' : 'none';\n            if (player.upgrades[5][3] !== 1) { showReset1 = false; }\n        } else if (active === 6) {\n            getId('footerStat2').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n            getId('footerStat3').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n            getId('resetExtraFooter').style.display = tab === 'stage' && subtab === 'Structures' && player.upgrades[5][3] === 1 ? '' : 'none';\n            if (player.upgrades[6][0] !== 1) { showReset1 = false; }\n        }\n        getId('reset2Footer').style.display = tab === 'inflation' ? '' : 'none';\n        getId('reset1Footer').style.display = tab === 'strangeness' ? '' : 'none';\n        getId('reset0Footer').style.display = showReset1 ? '' : 'none';\n        getId('exitFooter').style.display = player.challenges.active !== null && (tab !== 'stage' || subtab !== 'Advanced') ? '' : 'none';\n        getId('createAllFooter').style.display = tab !== 'upgrade' || subtab !== 'Upgrades' ? '' : 'none';\n        getId('makeAllFooter').style.display = tab !== 'stage' || subtab !== 'Structures' ? '' : 'none';\n        if (highest < 20) {\n            if (highest < 1) {\n                getId('footerStat2').style.display = 'none';\n                getId('createAllFooter').style.display = 'none';\n            }\n            if (highest < 16 && (vacuum || highest < 2)) { getId('reset1Footer').style.display = 'none'; }\n            getId('reset2Footer').style.display = 'none';\n        }\n    }\n    if (specialHTML.bigWindow === 'hotkeys') {\n        getId('warpHotkey').style.display = player.challenges.supervoid[3] >= 4 ? '' : 'none';\n        if (highest < 24) {\n            if (highest < 3) {\n                getId('autoTogglesHeader').style.display = player.ASR[1] >= 1 ? '' : 'none';\n                getId('toggleStructureHotkey').style.display = player.ASR[1] >= 1 ? '' : 'none';\n                getId('toggleAllHotkey').style.display = player.ASR[1] >= 1 ? '' : 'none';\n            }\n            if (highest < 17) {\n                getId('toggleUpgradesHotkey').style.display = player.researchesAuto[0] >= 1 ? '' : 'none';\n                getId('dischargeHotkey').style.display = (!vacuum && highest >= 11) || player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('vaporizationHotkey').style.display = (!vacuum && highest >= 11) || player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('rankHotkey').style.display = (!vacuum && highest >= 11) || global.stageInfo.activeAll.includes(3) ? '' : 'none';\n                getId('collapseHotkey').style.display = (!vacuum && highest >= 11) || player.upgrades[4][0] === 1 ? '' : 'none';\n            }\n            if (highest < 18) {\n                getId('toggleStageHotkey').style.display = player.strangeness[5][6] >= 1 ? '' : 'none';\n                getId('toggleDischargeHotkey').style.display = player.strangeness[1][4] >= 1 ? '' : 'none';\n                getId('toggleVaporizationHotkey').style.display = player.strangeness[2][4] >= 1 ? '' : 'none';\n                getId('toggleRankHotkey').style.display = player.strangeness[3][4] >= 1 ? '' : 'none';\n                getId('toggleCollapseHotkey').style.display = player.strangeness[4][4] >= 1 ? '' : 'none';\n                getId('galaxyHotkey').style.display = (vacuum ? player.strangeness[5][3] >= 1 : player.milestones[4][1] >= 8) ? '' : 'none';\n                getId('mergeHotkey').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n            }\n            getId('nucleationHotkey').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n        }\n    }\n\n    if (tab === 'stage') {\n        if (subtab === 'Structures') {\n            const buildings = player.buildings[active];\n            const buildingsToggle = player.toggles.buildings[active];\n            const ASR = player.ASR[active];\n\n            getId('exportMaxed').style.display = !globalSave.developerMode && player.time.export[0] >= (player.inflation.ends[1] >= 1 ? 86400_000 : 43200_000) ? '' : 'none';\n            getId('gameDisabled').style.display = player.time.excess < 0 ? '' : 'none';\n            let anyON = false;\n            let anyOFF = false;\n            for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}True`).style.display = buildings[i].current.notEqual(buildings[i as 1].true) ? '' : 'none';\n                getId(`building${i}Btn`).tabIndex = ASR >= i && buildingsToggle[i] ? -1 : 0;\n                getId(`toggleBuilding${i}`).style.display = ASR >= i ? '' : 'none';\n\n                if (!anyON) { anyON = Math.max(ASR, 1) >= i && buildingsToggle[i]; }\n                if (!anyOFF) { anyOFF = ASR >= i && !buildingsToggle[i]; }\n            }\n            const toggleHTML = getId('toggleAll');\n            toggleHTML.style.color = anyON ? 'var(--green-text)' : '';\n            toggleHTML.style.borderColor = anyON ? 'forestgreen' : '';\n            toggleHTML.textContent = anyON ? (anyOFF ? 'Few ON' : 'All ON') : 'All OFF';\n\n            if (active === 1) {\n                getId('reset0Main').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('building2').style.display = buildings[1].trueTotal.moreOrEqual(vacuum ? 5 : 18) ? '' : 'none';\n                getId('building3').style.display = buildings[2].trueTotal.moreOrEqual(2) ? '' : 'none';\n                if (vacuum) {\n                    getId('building4').style.display = buildings[3].trueTotal.moreOrEqual(18) || player.upgrades[1][2] === 1 ? '' : 'none';\n                    getId('building5').style.display = buildings[4].trueTotal.moreOrEqual(2) ? '' : 'none';\n                }\n                getId('stageInfo').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('tritiumEffect').style.display = player.upgrades[1][8] === 1 ? '' : 'none';\n                getId('energySpent').style.display = (player.challenges.supervoid[3] < 5 && player.accretion.rank < 6) || player.strangeness[1][9] < 1 || player.discharge.energy !== global.dischargeInfo.energyTrue ? '' : 'none';\n                getId('autoWaitMain').style.display = player.tree[1][8] < 1 ? '' : 'none';\n            } else if (active === 2) {\n                const drops = buildings[1].trueTotal;\n                getId('reset0Main').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('building2').style.display = drops.moreOrEqual(400) || buildings[1].true >= 100 ? '' : 'none';\n                getId('building3').style.display = drops.moreOrEqual(8e6) ? '' : 'none';\n                getId('building4').style.display = drops.moreOrEqual(8e17) ? '' : 'none';\n                getId('building5').style.display = drops.moreOrEqual(8e22) ? '' : 'none';\n                getId('cloudEffect').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('vaporizationBoostTotal').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('autoWaitMain').style.display = player.tree[1][8] < 2 ? '' : 'none';\n                if (vacuum) {\n                    getId('building6').style.display = drops.moreOrEqual(2e25) ? '' : 'none';\n                } else { getId('stageInfo').style.display = player.upgrades[2][2] === 1 ? '' : 'none'; }\n            } else if (active === 3) {\n                const upgrades = player.upgrades[3];\n\n                getId('buildings').style.display = player.accretion.rank >= 1 ? '' : 'none';\n                getId('building2').style.display = upgrades[2] === 1 || buildings[2].trueTotal.moreThan(0) ? '' : 'none';\n                getId('building3').style.display = upgrades[4] === 1 || buildings[3].trueTotal.moreThan(0) ? '' : 'none';\n                getId('building4').style.display = upgrades[8] === 1 || buildings[4].trueTotal.moreThan(0) ? '' : 'none';\n                getId('dustSoftcap').style.display = global.accretionInfo.dustSoft !== 1 ? '' : 'none';\n                getId('autoWaitMain').style.display = player.tree[1][8] < 3 ? '' : 'none';\n                if (vacuum) {\n                    getId('building5').style.display = upgrades[11] === 1 || buildings[5].trueTotal.moreThan(0) ? '' : 'none';\n                    getId('dustCap').style.display = player.researchesExtra[3][5] < 1 ? '' : 'none';\n                    getId('submersionBoost').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                } else { getId('stageInfo').style.display = global.accretionInfo.dustSoft !== 1 ? '' : 'none'; }\n                updateRankInfo();\n            } else if (active === 4) {\n                const nova = player.researchesExtra[4][0];\n                const star1 = buildings[2].trueTotal.moreThan(0);\n                const star2 = buildings[3].trueTotal.moreThan(0);\n                const star3 = buildings[4].trueTotal.moreThan(0);\n\n                getId('reset0Main').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('specials').style.display = star1 ? '' : 'none';\n                getId('special2').style.display = star2 ? '' : 'none';\n                getId('special3').style.display = star3 ? '' : 'none';\n                getId('building2').style.display = nova >= 1 ? '' : 'none';\n                getId('building3').style.display = nova >= 2 ? '' : 'none';\n                getId('building4').style.display = nova >= 3 ? '' : 'none';\n                getId('star1Effect').style.display = star1 ? '' : 'none';\n                getId('star2Effect').style.display = star2 ? '' : 'none';\n                getId('star3Effect').style.display = star3 ? '' : 'none';\n                getId('collapseBoostTotal').style.display = player.strangeness[4][4] < 3 && player.upgrades[4][0] === 1 ? '' : 'none';\n                getId('autoWaitMain').style.display = player.tree[1][8] < 4 ? '' : 'none';\n                if (vacuum) {\n                    if (player.challenges.active !== 0) { getId('building5').style.display = player.elements[26] >= 1 ? '' : 'none'; }\n                    getId('mainCap').style.display = player.upgrades[4][0] === 1 ? '' : 'none';\n                }\n                setRemnants();\n            } else if (active === 5) {\n                getId('reset0Main').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                if (vacuum) {\n                    getId('specials').style.display = player.researchesExtra[5][1] >= 1 ? '' : 'none';\n                    getId('special2').style.display = player.researchesExtra[5][5] >= 1 ? '' : 'none';\n                    getId('mergeEffects').style.display = player.researchesExtra[5][1] >= 1 ? '' : 'none';\n                    getId('merge2Effect').style.display = player.researchesExtra[5][5] >= 1 ? '' : 'none';\n                    getId('mergeBoostTotal').style.display = player.strangeness[5][9] < 2 && player.upgrades[5][3] === 1 ? '' : 'none';\n                } else {\n                    getId('buildings').style.display = player.milestones[2][0] >= 7 || player.milestones[3][0] >= 7 ? '' : 'none';\n                    getId('building1').style.display = player.milestones[2][0] >= 7 ? '' : 'none';\n                    getId('building2').style.display = player.milestones[3][0] >= 7 ? '' : 'none';\n                }\n                getId('building3').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n                getId('mainCapPostS5').style.display = player.strangeness[4][4] < 2 && player.researchesExtra[5][0] >= 1 ? '' : 'none';\n                getId('collapseBoostTotalS5').style.display = player.strangeness[4][4] < 3 ? '' : 'none';\n                getId('timeSinceGalaxy').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n                getId('autoWaitMain').style.display = player.tree[1][8] < 4 ? '' : 'none';\n            } else if (active === 6) {\n                getId('verse1').style.display = player.verses[0].other[0] >= 1 ? '' : 'none';\n\n                getId('mergeScore').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n                if (vacuum) {\n                    getId('reset0Main').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n                    getId('building1').style.display = player.upgrades[6][0] === 1 || player.researches[6][0] >= 6 ? '' : 'none';\n                    getId('darkEnergySpent').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n                    getId('nucleationBoostTotal').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n                    getId('mergeScore1').style.display = player.researchesExtra[5][1] >= 1 ? '' : 'none';\n                    getId('mergeScore2').style.display = player.researchesExtra[5][5] >= 1 ? '' : 'none';\n                    getId('mergeResetsS6').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                    getQuery('#mergeResetsS6 > span').style.color = `var(--${player.merge.resets >= calculateEffects.mergeMaxResets() ? 'green' : 'red'}-text)`;\n                } else {\n                    getId('building1').style.display = 'none';\n                    if (player.challenges.active === null) { getId('mergeScore').style.display = 'none'; }\n                }\n            }\n            if (highest < 17) {\n                if (highest < 3) { getId('toggleAll').style.display = ASR >= 1 ? '' : 'none'; }\n                if (highest < 5) { getId('autoWaitMain').style.display = 'none'; }\n                if (active === 1) {\n                    getId('resets').style.display = (!vacuum && highest >= 2) || player.upgrades[1][5] === 1 ? '' : 'none';\n                } else if (active === 2) {\n                    if (vacuum) { getId('resets').style.display = player.upgrades[2][2] === 1 ? '' : 'none'; }\n                } else if (active === 4) {\n                    if (vacuum) { getId('resets').style.display = player.upgrades[4][0] === 1 ? '' : 'none'; }\n                }\n                if (vacuum || highest < 11) { getId('exportMaxed').style.display = 'none'; }\n            }\n        } else if (subtab === 'Advanced') {\n            (getId('challengeName') as HTMLButtonElement).disabled = global.lastChallenge[0] !== 0;\n            getId('voidRewardsHead').style.display = global.lastChallenge[0] === 0 ? '' : 'none';\n            getId('voidRewards').style.display = global.lastChallenge[0] === 0 ? '' : 'none';\n            if (global.lastChallenge[0] === 0) {\n                const progress = player.challenges.voidCheck;\n                getId('voidRewards').style.display = '';\n                getId('voidReward2').style.display = progress[1] >= 3 ? '' : 'none';\n                getId('voidReward3').style.display = progress[1] >= 2 ? '' : 'none';\n                getId('voidReward4').style.display = progress[3] >= 5 ? '' : 'none';\n                getId('voidReward5').style.display = progress[4] >= 5 ? '' : 'none';\n            }\n            getId('stabilityRewardsHead').style.display = global.lastChallenge[0] === 1 ? '' : 'none';\n            getId('darknessTierMain').style.display = global.lastChallenge[0] === 2 ? '' : 'none';\n            getId('challengesToggles').style.display = player.strangeness[5][6] >= (vacuum ? 1 : 2) ? '' : 'none';\n            if (highest < 24) {\n                if (highest < 20) { (getId('challengeName') as HTMLButtonElement).disabled = true; }\n                if (highest < 22) { getId('challengeRewards').style.display = global.lastChallenge[0] !== 1 ? '' : 'none'; }\n                getId('challenge3').style.display = player.strangeness[6][3] >= 1 ? '' : 'none';\n            }\n        }\n    } else if (tab === 'upgrade' || tab === 'Elements') {\n        if (subtab === 'Upgrades') {\n            if (vacuum) {\n                getId('researchAuto1').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                getId('researchAuto2').style.display = player.accretion.rank >= 6 ? '' : 'none';\n            }\n            if (active === 1) {\n                const superposition = player.upgrades[1][5] === 1;\n\n                getId('upgrade7').style.display = superposition ? '' : 'none';\n                getId('upgrade8').style.display = superposition ? '' : 'none';\n                getId('upgrade9').style.display = superposition ? '' : 'none';\n                getId('upgrade10').style.display = superposition ? '' : 'none';\n                getId('stageResearches').style.display = superposition ? '' : 'none';\n                if (vacuum) {\n                    getId('upgrade11').style.display = superposition && player.strangeness[5][10] >= 1 ? '' : 'none';\n                    getId('extraResearches').style.display = superposition ? '' : 'none';\n                    getId('researchExtra2').style.display = player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                    getId('researchExtra4').style.display = player.researchesExtra[1][2] >= 1 ? '' : 'none';\n                    getId('researchExtra5').style.display = player.accretion.rank >= 6 ? '' : 'none';\n                    getId('researchExtra6').style.display = player.accretion.rank >= 6 && player.strangeness[5][10] >= 1 ? '' : 'none';\n                }\n                if (highest < 17) { getId('researches').style.display = superposition ? '' : 'none'; }\n            } else if (active === 2) {\n                const puddle2 = player.buildings[2][2].trueTotal.moreThan(0);\n                const puddle3 = player.buildings[2][3].trueTotal.moreThan(0);\n                const puddle4 = player.buildings[2][4].trueTotal.moreThan(0);\n                const puddle5 = player.buildings[2][5].trueTotal.moreThan(0);\n\n                getId('upgrade2').style.display = puddle2 ? '' : 'none';\n                getId('upgrade3').style.display = puddle3 ? '' : 'none';\n                getId('upgrade4').style.display = puddle2 ? '' : 'none';\n                getId('upgrade5').style.display = puddle2 ? '' : 'none';\n                getId('upgrade6').style.display = puddle3 ? '' : 'none';\n                getId('upgrade7').style.display = puddle4 ? '' : 'none';\n                getId('upgrade8').style.display = puddle5 && player.strangeness[2][2] >= 3 ? '' : 'none';\n                if (vacuum) {\n                    getId('upgrade9').style.display = player.buildings[2][6].trueTotal.moreThan(0) && player.strangeness[2][8] >= 3 ? '' : 'none';\n                    getId('research7').style.display = puddle5 && player.strangeness[5][10] >= 2 && player.tree[1][5] >= 3 ? '' : 'none';\n                    getId('researchExtra4').style.display = player.accretion.rank >= 6 ? '' : 'none';\n                    getId('researchExtra5').style.display = player.accretion.rank >= 7 && player.strangeness[5][10] >= 2 ? '' : 'none';\n                }\n                getId('research2').style.display = puddle2 ? '' : 'none';\n                getId('research3').style.display = puddle2 ? '' : 'none';\n                getId('research4').style.display = puddle2 ? '' : 'none';\n                getId('research5').style.display = puddle3 ? '' : 'none';\n                getId('research6').style.display = puddle4 ? '' : 'none';\n                getId('extraResearches').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('researchExtra3').style.display = puddle5 ? '' : 'none';\n            } else if (active === 3) {\n                const rank = player.accretion.rank;\n                const planetesimal = player.buildings[3][2].trueTotal.moreThan(0);\n\n                getId('upgrade3').style.display = rank >= 2 ? '' : 'none';\n                getId('upgrade4').style.display = planetesimal ? '' : 'none';\n                getId('upgrade5').style.display = rank >= 3 ? '' : 'none';\n                getId('upgrade6').style.display = rank >= 4 || player.upgrades[3][4] === 1 ? '' : 'none';\n                getId('upgrade7').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade8').style.display = rank >= 4 && player.strangeness[3][2] >= 3 ? '' : 'none';\n                getId('upgrade9').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade10').style.display = rank >= 4 ? '' : 'none';\n                getId('upgrade11').style.display = rank >= 5 ? '' : 'none';\n                getId('upgrade12').style.display = rank >= 5 ? '' : 'none';\n                getId('upgrade13').style.display = rank >= 5 ? '' : 'none';\n                getId('research3').style.display = planetesimal ? '' : 'none';\n                getId('research4').style.display = planetesimal ? '' : 'none';\n                getId('research5').style.display = rank >= 3 ? '' : 'none';\n                getId('research6').style.display = rank >= 3 ? '' : 'none';\n                getId('research7').style.display = rank >= 4 || player.upgrades[3][4] === 1 ? '' : 'none';\n                getId('research8').style.display = rank >= 4 ? '' : 'none';\n                getId('research9').style.display = rank >= 5 ? '' : 'none';\n                getId('extraResearches').style.display = rank >= 2 ? '' : 'none';\n                getId('researchExtra2').style.display = rank >= 3 ? '' : 'none';\n                getId('researchExtra3').style.display = rank >= 4 ? '' : 'none';\n                getId('researchExtra4').style.display = rank >= 5 ? '' : 'none';\n                if (vacuum) {\n                    getId('upgrade14').style.display = rank >= 7 && player.strangeness[5][10] >= 3 ? '' : 'none';\n                    getId('researchExtra5').style.display = rank >= 3 && player.researchesExtra[1][2] >= 2 ? '' : 'none';\n                    getId('researchExtra6').style.display = rank >= 6 && player.strangeness[5][10] >= 3 ? '' : 'none';\n                } else {\n                    getId('upgrades').style.display = rank >= 1 ? '' : 'none';\n                    getId('stageResearches').style.display = rank >= 1 ? '' : 'none';\n                }\n            } else if (active === 4) {\n                const strangeness = player.strangeness;\n                const stars = player.collapse.stars;\n                const galaxy = player.researchesExtra[5][0] >= 1;\n\n                getId('upgrade4').style.display = strangeness[4][2] >= 3 ? '' : 'none';\n                getId('upgrade5').style.display = strangeness[4][9] >= 1 ? '' : 'none';\n                getId('upgrade6').style.display = strangeness[5][10] >= 4 ? '' : 'none';\n                getId('research4').style.display = (galaxy || stars[0] > 0) && strangeness[4][2] >= 1 ? '' : 'none';\n                getId('research5').style.display = galaxy || stars[2] > 0 ? '' : 'none';\n                getId('research6').style.display = (galaxy || stars[2] > 0) && strangeness[4][9] >= 3 ? '' : 'none';\n                getId('researchExtra2').style.display = galaxy || stars[0] > 0 ? '' : 'none';\n                getId('researchExtra3').style.display = (galaxy || stars[0] > 0) && strangeness[4][2] >= 2 ? '' : 'none';\n                getId('researchExtra4').style.display = (galaxy || stars[1] > 0) && strangeness[4][9] >= 2 ? '' : 'none';\n                getId('researchExtra5').style.display = (galaxy || stars[2] > 0) && strangeness[5][10] >= 4 ? '' : 'none';\n            } else if (active === 5) {\n                const galaxy = player.researchesExtra[5][0] >= 1;\n                if (vacuum) {\n                    const protogalaxy = player.accretion.rank >= 7 && highest >= 19;\n                    getId('upgrade4').style.display = galaxy && player.accretion.rank >= 7 ? '' : 'none';\n                    getId('upgrade5').style.display = protogalaxy ? '' : 'none';\n                    getId('upgrade6').style.display = protogalaxy ? '' : 'none';\n                    getId('upgrade7').style.display = protogalaxy ? '' : 'none';\n                    getId('research3').style.display = protogalaxy ? '' : 'none';\n                    getId('research4').style.display = protogalaxy ? '' : 'none';\n                    getId('research5').style.display = protogalaxy ? '' : 'none';\n                    getId('researchExtra2').style.display = protogalaxy ? '' : 'none';\n                    getId('researchExtra3').style.display = protogalaxy ? '' : 'none';\n                    getId('researchExtra4').style.display = protogalaxy ? '' : 'none';\n                    getId('researchExtra5').style.display = protogalaxy ? '' : 'none';\n                    getId('researchExtra6').style.display = protogalaxy ? '' : 'none';\n                } else {\n                    const nebula = player.milestones[2][0] >= 7;\n                    const cluster = player.milestones[3][0] >= 7;\n\n                    getId('upgrades').style.display = nebula || cluster ? '' : 'none';\n                    getId('upgrade1').style.display = nebula ? '' : 'none';\n                    getId('upgrade2').style.display = cluster ? '' : 'none';\n                    getId('upgrade4').style.display = galaxy && player.milestones[5][1] >= 8 ? '' : 'none';\n                    getId('stageResearches').style.display = nebula || cluster ? '' : 'none';\n                    getId('research1').style.display = nebula ? '' : 'none';\n                    getId('research2').style.display = cluster ? '' : 'none';\n                    getId('extraResearches').style.display = player.milestones[4][1] >= 8 ? '' : 'none';\n                }\n                getId('upgrade3').style.display = galaxy ? '' : 'none';\n            } else if (active === 6) {\n                if (vacuum) {\n                    const darkEnergy = player.upgrades[6][0] === 1;\n\n                    getId('upgrades').style.display = darkEnergy || player.researches[6][0] >= 20 ? '' : 'none';\n                    getId('upgrade2').style.display = darkEnergy ? '' : 'none';\n                    getId('stageResearches').style.display = player.darkness.active ? '' : 'none';\n                    getId('research2').style.display = darkEnergy || player.researches[6][0] >= 10 ? '' : 'none';\n                    getId('research3').style.display = darkEnergy || player.researches[6][0] >= 12 ? '' : 'none';\n                    getId('research4').style.display = darkEnergy ? '' : 'none';\n                    getId('extraResearches').style.display = darkEnergy ? '' : 'none';\n                } else {\n                    getId('upgrades').style.display = 'none';\n                    getId('stageResearches').style.display = 'none';\n                }\n            }\n        } else if (subtab === 'Elements') {\n            const upgrades = player.upgrades[4];\n            const neutron = player.upgrades[4][2] === 1 && (player.collapse.stars[1] > 0 || player.researchesExtra[5][0] >= 1);\n            let verses = upgrades[4] === 1 ? 1 + getVerseType() : 0;\n            if (upgrades[5] === 1) { verses += 1 + player.verses[1].true; }\n\n            let columns = 18 - (upgrades[3] === 1 ? 0 : 2) - (verses > 1 ? 0 : verses === 1 ? 1 : 2);\n            getId('elementsGrid').style.display = upgrades[2] === 1 ? '' : 'flex';\n            for (let i = 6; i <= 10; i++) { getId(`element${i}`).style.display = upgrades[2] === 1 ? '' : 'none'; }\n            for (let i = 11; i <= 26; i++) { getId(`element${i}`).style.display = neutron ? '' : 'none'; }\n            if (!neutron) {\n                columns = 8;\n            } else if (player.collapse.show < 23) { //26 - showAhead\n                for (let i = 26; i > Math.max(player.collapse.show + 3, 10); i--) { getId(`element${i}`).style.display = 'none'; }\n                columns = Math.max(player.collapse.show - 9, 8); //min + show + showAhead - 20\n            }\n            getId('element27').style.display = upgrades[3] === 1 ? '' : 'none';\n            getId('element28').style.display = upgrades[3] === 1 ? '' : 'none';\n            for (let i = 29; i < global.elementsInfo.name.length; i++) {\n                getId(`element${i}`).style.display = verses >= i - 28 ? '' : 'none';\n            }\n            document.documentElement.style.setProperty('--elements-columns', `${columns}`);\n        }\n    } else if (tab === 'strangeness') {\n        if (subtab === 'Matter') {\n            const strangeness = player.strangeness;\n            const universes = player.verses[0].current;\n            const show1 = universes < 2 || global.sessionToggles[1];\n            const show2 = universes < 3 || global.sessionToggles[1];\n            const show3 = universes < 5 || global.sessionToggles[1];\n            getId('strange1').style.display = strangeness[5][8] >= 1 ? '' : 'none';\n            getId('strange1Unlocked').style.display = strangeness[5][8] >= 1 ? '' : 'none';\n            if (getId('strange0EffectsMain').style.display !== 'none') {\n                getId('strange0Effect1Level2').style.display = strangeness[1][6] >= 2 ? '' : 'none';\n                getId('strange0Effect2Level2').style.display = strangeness[2][6] >= 2 ? '' : 'none';\n                getId('strange0Effect3Level2').style.display = strangeness[3][7] >= 2 ? '' : 'none';\n                getId('strange0Effect4Level2').style.display = strangeness[4][7] >= 2 ? '' : 'none';\n                getId('strange0Effect5Level2').style.display = strangeness[5][7] >= 2 ? '' : 'none';\n            }\n            if (vacuum) {\n                const bound = strangeness[5][3] >= 1;\n                const voidProgress = player.challenges.void;\n\n                getId('strange5Stage1').style.display = voidProgress[4] >= 1 || show3 ? '' : 'none';\n                getId('strange8Stage1').style.display = voidProgress[1] >= 1 ? '' : 'none';\n                getId('strange9Stage1').style.display = (universes >= 1 ? global.sessionToggles[1] : voidProgress[1] >= 2) ? '' : 'none';\n                getId('strange10Stage1').style.display = voidProgress[4] >= 2 ? '' : 'none';\n                getId('strange5Stage2').style.display = voidProgress[4] >= 1 || show3 ? '' : 'none';\n                getId('strange8Stage2').style.display = voidProgress[1] >= 3 ? '' : 'none';\n                getId('strange9Stage2').style.display = voidProgress[2] >= 1 ? '' : 'none';\n                getId('strange10Stage2').style.display = voidProgress[2] >= 2 ? '' : 'none';\n                getId('strange5Stage3').style.display = voidProgress[4] >= 1 || show3 ? '' : 'none';\n                getId('strange9Stage3').style.display = voidProgress[4] >= 4 ? '' : 'none';\n                getId('strange10Stage3').style.display = voidProgress[5] >= 1 ? '' : 'none';\n                getId('strange5Stage4').style.display = voidProgress[4] >= 1 || show3 ? '' : 'none';\n                getId('strange9Stage4').style.display = voidProgress[4] >= 3 ? '' : 'none';\n                getId('strange10Stage4').style.display = voidProgress[4] >= 5 ? '' : 'none';\n                getId('strange1Stage5').style.display = bound ? '' : 'none';\n                getId('strange2Stage5').style.display = bound ? '' : 'none';\n                getId('strange5Stage5').style.display = (universes >= 5 ? show3 : voidProgress[4] >= 1) && bound ? '' : 'none';\n                getId('strange6Stage5').style.display = show1 && bound ? '' : 'none';\n                getId('strange8Stage5').style.display = bound ? '' : 'none';\n                getId('strange9Stage5').style.display = voidProgress[5] >= 2 || (universes >= 12 ? global.sessionToggles[1] : voidProgress[3] >= 5) ? '' : 'none';\n                getId('strange10Stage5').style.display = (universes >= 5 ? show3 : voidProgress[3] >= 6) && bound ? '' : 'none';\n                getId('strange11Stage5').style.display = voidProgress[2] >= 3 && bound ? '' : 'none';\n                getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}6`).style.display = voidProgress[5] >= 2 ? '' : 'none';\n                getId('strange4Stage6').style.display = !player.darkness.active || global.sessionToggles[1] ? '' : 'none';\n                if (globalSave.MDSettings[0] && global.debug.MDStrangePage === 6 && voidProgress[5] < 2) { MDStrangenessPage(1); }\n            } else {\n                const milestones = player.milestones;\n                const strange5 = milestones[4][0] >= 8;\n                const firstTwo = milestones[2][0] >= 7 || milestones[3][0] >= 7;\n\n                getId('strange5Stage1').style.display = show3 ? '' : 'none';\n                getId('strange7Stage1').style.display = strange5 ? '' : 'none';\n                getId('strange5Stage2').style.display = show3 ? '' : 'none';\n                getId('strange7Stage2').style.display = strange5 ? '' : 'none';\n                getId('strange5Stage3').style.display = show3 ? '' : 'none';\n                getId('strange8Stage3').style.display = strange5 ? '' : 'none';\n                getId('strange5Stage4').style.display = show3 ? '' : 'none';\n                getId('strange8Stage4').style.display = strange5 ? '' : 'none';\n                getId('strange1Stage5').style.display = firstTwo ? '' : 'none';\n                getId('strange2Stage5').style.display = firstTwo ? '' : 'none';\n                getId('strange3Stage5').style.display = milestones[5][0] >= 8 ? '' : 'none';\n                getId('strange4Stage5').style.display = firstTwo ? '' : 'none';\n                getId('strange5Stage5').style.display = show3 && milestones[4][1] >= 8 ? '' : 'none';\n                getId('strange6Stage5').style.display = show1 && firstTwo ? '' : 'none';\n                getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}5`).style.display = strange5 ? '' : 'none';\n                if (globalSave.MDSettings[0] && ((global.debug.MDStrangePage === 5 && !strange5) || global.debug.MDStrangePage > 5)) { MDStrangenessPage(1); }\n                if (highest < 15) { getId('strange0').style.cursor = milestones[4][0] < 8 ? 'unset' : ''; }\n            }\n            getId('strange6Stage1').style.display = show1 ? '' : 'none';\n            getId('strange6Stage2').style.display = show1 ? '' : 'none';\n            getId('strange6Stage3').style.display = show1 ? '' : 'none';\n            getId('strange7Stage3').style.display = show2 ? '' : 'none';\n            getId('strange6Stage4').style.display = show1 ? '' : 'none';\n            getId('strange7Stage4').style.display = show2 ? '' : 'none';\n            getId('strange7Stage5').style.display = universes < 8 || global.sessionToggles[1] ? '' : 'none';\n        } else if (subtab === 'Milestones') {\n            if (!vacuum) {\n                const milestonesS4 = player.milestones[4];\n                getId('milestone1Stage5Div').style.display = milestonesS4[0] >= 8 ? '' : 'none';\n                getId('milestone2Stage5Div').style.display = milestonesS4[1] >= 8 ? '' : 'none';\n                if (global.stageInfo.activeAll.includes(4)) { getId('milestonesStage5Main').style.display = milestonesS4[0] >= 8 ? '' : 'none'; }\n                if (global.stageInfo.activeAll.includes(5)) { getId('milestone2Stage5Main').style.display = milestonesS4[1] >= 8 ? '' : 'none'; }\n            }\n        }\n    } else if (tab === 'inflation') {\n        if (subtab === 'Inflations') {\n            const supervoid = player.challenges.supervoid;\n            getId('inflation6Tree1').style.display = supervoid[3] >= 4 ? '' : 'none';\n            getId('inflation7Tree1').style.display = supervoid[2] >= 2 ? '' : 'none';\n            getId('inflation3Tree2').style.display = supervoid[3] >= 3 ? '' : 'none';\n            getId('inflation4Tree2').style.display = supervoid[4] >= 2 ? '' : 'none';\n            getId('inflation5Tree2').style.display = supervoid[1] >= 1 ? '' : 'none';\n            getId('inflation6Tree2').style.display = supervoid[2] >= 1 ? '' : 'none';\n            getId('inflation7Tree2').style.display = supervoid[3] >= 1 ? '' : 'none';\n            getId('inflation8Tree2').style.display = supervoid[4] >= 1 ? '' : 'none';\n            getId('inflation9Tree2').style.display = supervoid[1] >= 3 ? '' : 'none';\n        } else if (subtab === 'Milestones') {\n            const supervoid = player.challenges.supervoid;\n            getId('inflationSupervoid1').style.display = supervoid[1] >= 2 ? '' : 'none';\n            getId('inflationSupervoid2').style.display = supervoid[3] >= 2 ? '' : 'none';\n            getId('inflationSupervoid3').style.display = supervoid[3] >= 5 ? '' : 'none';\n            getId('inflationSupervoid4').style.display = supervoid[4] >= 3 ? '' : 'none';\n            getId('inflationSupervoid5').style.display = supervoid[4] >= 4 ? '' : 'none';\n            getQuery('#inflationMilestone1 > span > span').textContent = format(1.5);\n            getQuery('#endMilestone2 > span > span').textContent = format(0.2);\n            getId('endMilestone1').classList[player.inflation.ends[0] >= 1 ? 'remove' : 'add']('uncompleted');\n            getId('endMilestone2').classList[player.inflation.ends[1] >= 1 ? 'remove' : 'add']('uncompleted');\n            getId('endMilestone3').classList[player.inflation.ends[2] >= 1 ? 'remove' : 'add']('uncompleted');\n            const current = player.verses[0].current;\n            getId('inflationMilestone2').classList[current >= 2 ? 'remove' : 'add']('uncompleted');\n            getId('inflationMilestone3').classList[current >= 3 ? 'remove' : 'add']('uncompleted');\n            getId('inflationMilestone4').classList[current >= 5 ? 'remove' : 'add']('uncompleted');\n            getId('inflationMilestone5').classList[current >= 8 ? 'remove' : 'add']('uncompleted');\n            getId('inflationMilestone6').classList[current >= 12 ? 'remove' : 'add']('uncompleted');\n        }\n    } else if (tab === 'settings') {\n        if (subtab === 'Settings') {\n            const { researchesAuto, strangeness } = player;\n\n            const exportReward = player.time.export;\n            const claimPer = player.inflation.ends[0] >= 1 ? 1 : 2.5;\n            getId('exportReward').dataset.title = `${format((exportReward[1] / claimPer + 1) / 43200, { type: 'income' }).replace(' ', ' Strange quarks ')}${\n                strangeness[5][8] >= 1 ? `\\n${format(exportReward[2] / claimPer / 43200, { type: 'income' }).replace(' ', ' Strangelets ')}` : ''}${\n                player.inflation.ends[1] >= 1 ? `\\n${format(exportReward[3] / 216000, { type: 'income' }).replace(' ', ' Cosmons ')}` : ''}`;\n            getQuery('#exportReward > span:last-of-type').style.display = player.challenges.active !== null && global.challengesInfo[player.challenges.active].resetType !== 'stage' ? '' : 'none';\n            getId('collapsePointsMax').textContent = strangeness[5][4] >= 1 ? 'There is no maximum value' : 'Maximum value is 40';\n            getId('exportStrangelets').style.display = strangeness[5][8] >= 1 ? '' : 'none';\n            getId('exportCosmon').style.display = player.inflation.ends[1] >= 1 ? '' : 'none';\n            getId('warpButton').style.display = player.challenges.supervoid[3] >= 4 ? '' : 'none';\n            getId('autoTogglesUpgrades').style.display = researchesAuto[0] >= 1 || researchesAuto[1] >= 2 ? '' : 'none';\n            getId('autoElMain').style.display = researchesAuto[1] >= 2 ? '' : 'none';\n            getId('autoUMain').style.display = researchesAuto[0] >= 1 ? '' : 'none';\n            getId('autoRMain').style.display = researchesAuto[0] >= 2 ? '' : 'none';\n            getId('autoEMain').style.display = researchesAuto[0] >= 3 ? '' : 'none';\n            getId('autoSMain').style.display = player.verses[0].current >= 12 ? '' : 'none';\n            getId('toggleAuto0').style.display = strangeness[5][6] >= 1 ? '' : 'none';\n            getId('toggleAuto0Info').style.display = strangeness[5][6] >= 1 ? '' : 'none';\n            if (getId('toggleAuto0Menu').style.display !== 'none') {\n                const input1 = getId('stageInput') as HTMLInputElement;\n                const input2 = getId('stageInputType') as HTMLInputElement;\n                if (![input1, input2].includes(document.activeElement as HTMLInputElement)) {\n                    const type = getStageResetType();\n                    input1.value = format(player.stage.input[type], { type: 'input' });\n                    getId('stageAutoType').textContent = ['Strange quarks', 'seconds this Stage', 'seconds since peak'][type - 1];\n                    input1.dataset.type = `${type}`;\n                    input2.value = `${type}`;\n                }\n                if (!vacuum) {\n                    getId('stageAutoInterstellar1').style.display = strangeness[5][6] >= 2 ? '' : 'none';\n                    getId('stageAutoInterstellar2').style.display = strangeness[5][6] >= 2 ? '' : 'none';\n                }\n            }\n            getId('toggleAuto1').style.display = strangeness[1][4] >= 1 || (researchesAuto[2] >= 1 && (vacuum || player.stage.current === 1)) ? '' : 'none';\n            const showAuto2 = strangeness[2][4] >= 1 || (vacuum ? researchesAuto[2] >= 3 : (researchesAuto[2] >= 1 && player.stage.current === 2));\n            getId('toggleAuto2').style.display = showAuto2 ? '' : 'none';\n            getId('toggleAuto2Info').style.display = showAuto2 ? '' : 'none';\n            getId('toggleAuto3').style.display = strangeness[3][4] >= 1 || (vacuum ? researchesAuto[2] >= 2 : (researchesAuto[2] >= 1 && player.stage.current === 3)) ? '' : 'none';\n            const showAuto4 = strangeness[4][4] >= 1 || (vacuum ? researchesAuto[2] >= 4 : (researchesAuto[2] >= 1 && player.stage.current >= 4));\n            getId('toggleAuto4').style.display = showAuto4 ? '' : 'none';\n            getId('toggleAuto4Info').style.display = showAuto4 ? '' : 'none';\n            getId('toggleAuto9').style.display = strangeness[5][9] >= 1 ? '' : 'none';\n            if (vacuum) { getId('toggleAuto9Info').style.display = strangeness[5][9] >= 1 ? '' : 'none'; }\n            const showAuto6 = player.verses[0].lowest[0] <= 3;\n            getId('toggleAuto10').style.display = showAuto6 ? '' : 'none';\n            getId('toggleAuto10Info').style.display = showAuto6 ? '' : 'none';\n            if (highest < 24) {\n                if (highest < 9) { getId('elementsAsTab').style.display = player.upgrades[4][1] === 1 ? '' : 'none'; }\n                if (highest < 15) { getId('autoStageSwitch').style.display = player.milestones[4][1] >= 8 ? '' : 'none'; }\n                if (highest < 17) {\n                    getId('resetToggles').style.display = (!vacuum && highest >= 2) || player.upgrades[1][5] === 1 ? '' : 'none';\n                    getId('dischargeToggleReset').style.display = (!vacuum && highest >= 11) || player.upgrades[1][5] === 1 ? '' : 'none';\n                    getId('vaporizationToggleReset').style.display = (!vacuum && highest >= 11) || player.upgrades[2][2] === 1 ? '' : 'none';\n                    getId('rankToggleReset').style.display = (!vacuum && highest >= 11) || global.stageInfo.activeAll.includes(3) ? '' : 'none';\n                    getId('collapseToggleReset').style.display = (!vacuum && highest >= 11) || player.upgrades[4][0] === 1 ? '' : 'none';\n                    getId('hideGlobalStats').style.display = vacuum && player.stage.current >= 2 ? '' : 'none';\n                }\n                if (highest < 18) {\n                    getId('stageAutoElse').style.display = !vacuum || player.upgrades[5][3] === 1 ? '' : 'none';\n                    getId('vaporizationExtra').style.display = player.challenges.void[4] >= 1 ? '' : 'none';\n                    getId('mergeToggleReset').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                    getId('saveFileNameGalaxy').style.display = (vacuum ? player.strangeness[5][3] >= 1 : player.milestones[4][1] >= 8) ? '' : 'none';\n                }\n                getId('nucleationToggleReset').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n            }\n        } else if (subtab === 'History') {\n            updateStageHistory();\n            updateEndHistory();\n        } else if (subtab === 'Stats') {\n            getId('firstPlay').textContent = new Date(player.time.started).toLocaleString();\n            getId('offlineStorage').style.display = player.challenges.supervoid[3] >= 4 ? '' : 'none';\n            getId('exportStrangeletsMax').style.display = player.strangeness[5][8] >= 1 ? '' : 'none';\n            getId('exportCosmonMax').style.display = player.inflation.ends[1] >= 1 ? '' : 'none';\n            for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n                getId(`building${i}Stats`).style.display = player.buildings[active][i].trueTotal.moreThan(0) ? '' : 'none';\n            }\n            getId('strange1Stats').style.display = player.strangeness[5][8] >= 1 ? '' : 'none';\n\n            getId('trueStarsStat').style.display = active === 4 || active === 5 ? '' : 'none';\n            if (active === 1) {\n                getId('dischargeStat').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                getId('dischargeStatTrue').style.display = player.discharge.current !== global.dischargeInfo.total ? '' : 'none';\n                getId('dischargeScaleStat').style.display = player.upgrades[1][5] === 1 ? '' : 'none';\n                for (let s = 1; s <= (vacuum ? 5 : 1); s++) {\n                    let anyUnlocked = false;\n                    for (let i = 1; i < global.buildingsInfo.maxActive[s]; i++) {\n                        const unlocked = player.buildings[s][i].trueTotal.moreThan(0);\n                        if (!anyUnlocked) { anyUnlocked = unlocked; }\n                        getId(`energyGainStage${s}Build${i + (vacuum ? 0 : 2)}`).style.display = unlocked ? '' : 'none';\n                    }\n                    getId(s === 1 ? 'energyGainStats' : `energyGainStage${s}`).style.display = anyUnlocked ? '' : 'none';\n                }\n                if (highest < 1) { getId('energyGainStats').style.display = 'none'; }\n            } else if (active === 2) {\n                getId('vaporizationBoost').style.display = player.upgrades[2][2] === 1 ? '' : 'none';\n                getId('rainStat').style.display = player.researchesExtra[2][1] >= 1 ? '' : 'none';\n                getId('stormStat').style.display = player.researchesExtra[2][2] >= 1 ? '' : 'none';\n            } else if (active === 3) {\n                getId('currentRankTrue').style.display = global.accretionInfo.effective !== player.accretion.rank ? '' : 'none';\n                if (vacuum) {\n                    getId('rankStat0').style.display = player.strangeness[2][9] >= 1 ? '' : 'none';\n                }\n                for (let i = 1; i < global.accretionInfo.rankImage.length; i++) { getId(`rankStat${i}`).style.display = player.accretion.rank >= i ? '' : 'none'; }\n            } else if (active === 4) {\n                getId('collapseBoost').style.display = player.strangeness[4][4] < 3 && player.upgrades[4][0] === 1 ? '' : 'none';\n                if (player.strangeness[4][4] < 3) {\n                    const auto2 = player.strangeness[4][4] >= 2;\n                    getId('star1Stat').style.display = !auto2 && player.buildings[active][2].trueTotal.moreThan(0) ? '' : 'none';\n                    getId('star2Stat').style.display = !auto2 && player.buildings[active][3].trueTotal.moreThan(0) ? '' : 'none';\n                    getId('star3Stat').style.display = !auto2 && player.buildings[active][4].trueTotal.moreThan(0) ? '' : 'none';\n                    getId('gammaRayStat').style.display = player.researchesExtra[5][0] >= 1 || player.collapse.stars[2] >= 1 ? '' : 'none';\n                    getId('quasarStat').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n                }\n            } else if (active === 5) {\n                getId('galaxyBase').style.display = player.researchesExtra[5][0] >= 1 ? '' : 'none';\n                if (vacuum) {\n                    getId('mergeResets').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                    getQuery('#mergeResets > span').style.color = `var(--${player.merge.resets >= calculateEffects.mergeMaxResets() ? 'green' : 'red'}-text)`;\n                    const auto2 = player.strangeness[5][9] >= 2;\n                    getId('mergeBoost').style.display = player.upgrades[5][3] === 1 ? '' : 'none';\n                    getId('merge1Stat').style.display = !auto2 && player.researchesExtra[5][1] >= 1 ? '' : 'none';\n                    getId('merge2Stat').style.display = !auto2 && player.researchesExtra[5][5] >= 1 ? '' : 'none';\n                }\n            } else if (active === 6) {\n                if (vacuum) {\n                    getId('nucleationBoost').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n                    getId('quintessenceStat').style.display = player.researchesExtra[6][3] >= 1 ? '' : 'none';\n                    getId('energyGainStage6').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n                    getId('effectiveDarkEnergyStat').style.display = player.upgrades[6][0] === 1 ? '' : 'none';\n                }\n            }\n        }\n    }\n\n    if (!globalSave.toggles[3]) { getId('fakeFooter').style.height = `${getId('footer').offsetHeight + globalSave.fontSize * 2}px`; }\n    if (globalSave.SRSettings[0]) {\n        for (const element of getClass('hasTitle')) { element.ariaDescription = element.dataset.title as string; }\n    }\n};\nexport const visualProggressUnlocks = () => {\n    const highest = player.proggress.main;\n\n    getId('upgradeTabBtn').style.display = highest >= 1 ? '' : 'none';\n    getId('strangenessTabBtn').style.display = highest >= 16 || (!player.inflation.vacuum && highest >= 11) ? '' : 'none';\n    getId('inflationTabBtn').style.display = highest >= 19 ? '' : 'none';\n    getId('reset1Main').style.display = highest >= 16 || (!player.inflation.vacuum && highest >= 2) ? '' : 'none';\n    getId('reset2Main').style.display = highest >= 20 ? '' : 'none';\n    getId('stageRewardOld').style.display = highest < 10 ? '' : 'none';\n    getId('stageRewardNew').style.display = highest >= 10 ? '' : 'none';\n    getId('verse0True').style.display = highest >= 21 ? '' : 'none';\n    getId('stageTimeReal').style.display = highest >= 19 ? '' : 'none';\n    getId('universeTimeReal').style.display = highest >= 19 ? '' : 'none';\n    getId('globalSpeed').style.display = highest >= 19 ? '' : 'none';\n    getId('challenge1').style.display = highest >= 17 ? '' : 'none';\n    getId('challenge2').style.cursor = highest >= 22 ? '' : 'help';\n    (getId('voidRewardsHead') as HTMLButtonElement).disabled = highest < 20;\n    getId('researchAuto3').style.display = highest >= 19 ? '' : 'none';\n    getId('toggleHover0').style.display = highest >= 3 ? '' : 'none';\n    getId('toggleMax0').style.display = highest >= 7 ? '' : 'none';\n    getId('strangenessVisibility').style.display = highest >= 19 ? '' : 'none';\n    for (let s = 2; s <= 4; s++) {\n        const unlocked = highest >= s + 10;\n        getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}${s}`).style.display = unlocked ? '' : 'none';\n        getId(`milestone1Stage${s}Div`).style.display = unlocked ? '' : 'none';\n        getId(`milestone2Stage${s}Div`).style.display = unlocked ? '' : 'none';\n    }\n    if (globalSave.MDSettings[0]) {\n        getId('toggleHover1').style.display = highest >= 19 ? '' : 'none';\n        getId('toggleMax1').style.display = highest >= 19 ? '' : 'none';\n        getId('createAllStrangeness').style.display = highest >= 19 ? '' : 'none';\n    } else { getId('strangenessToggles').style.display = highest >= 19 ? '' : 'none'; }\n    getId('cosmon1').style.display = highest >= 20 ? '' : 'none';\n    getId('cosmonGain').style.display = highest >= 20 ? '' : 'none';\n    getId('cosmonRate').style.display = highest >= 20 ? '' : 'none';\n    getId('inflation4Tree1').style.display = highest >= 20 ? '' : 'none';\n    getId('inflation5Tree1').style.display = highest >= 20 ? '' : 'none';\n    getId('inflationsTree2').style.display = highest >= 20 ? '' : 'none';\n    getId('inflationSupervoid').style.display = highest >= 20 ? '' : 'none';\n    getId('endMilestone1').style.display = highest >= 20 ? '' : 'none';\n    getId('endMilestone2').style.display = highest >= 20 ? '' : 'none';\n    getId('endMilestone3').style.display = highest >= 20 ? '' : 'none';\n    getQuery('#resetToggles span').style.display = highest >= 17 || (!player.inflation.vacuum && highest >= 11) ? '' : 'none';\n    getId('stageToggleReset').style.display = highest >= 16 || (!player.inflation.vacuum && highest >= 2) ? '' : 'none';\n    getId('endToggleReset').style.display = highest >= 20 ? '' : 'none';\n    getId('exportReward').style.display = highest >= 17 || (!player.inflation.vacuum && highest >= 11) ? '' : 'none';\n    getId('themeArea').style.display = highest >= 3 || globalSave.theme !== null ? '' : 'none';\n    getId('switchTheme2').style.display = highest >= 3 ? '' : 'none';\n    getId('switchTheme3').style.display = highest >= 5 ? '' : 'none';\n    getId('switchTheme4').style.display = highest >= 7 ? '' : 'none';\n    getId('switchTheme5').style.display = highest >= 10 ? '' : 'none';\n    getId('switchTheme6').style.display = highest >= 18 ? '' : 'none';\n    getId('saveFileNameStage').style.display = highest >= 2 ? '' : 'none';\n    getId('saveFileNameStrange').style.display = highest >= 17 || (!player.inflation.vacuum && highest >= 11) ? '' : 'none';\n    getId('saveFileNameVacuum').style.display = highest >= 15 ? '' : 'none';\n    getId('saveFileNameUniverse').style.display = highest >= 18 ? '' : 'none';\n    getId('saveFileNameInflaton').style.display = highest >= 19 ? '' : 'none';\n    getId('saveFileNameCosmon').style.display = highest >= 21 ? '' : 'none';\n    getId('endHistory').style.display = highest >= 21 ? '' : 'none';\n    getId('endResets').style.display = highest >= 21 ? '' : 'none';\n    getId('exportStats').style.display = highest >= 17 || (!player.inflation.vacuum && highest >= 11) ? '' : 'none';\n    getId('stageResets').style.display = highest >= 17 || (!player.inflation.vacuum && highest >= 3) ? '' : 'none';\n    getId('trueUniversesStats').style.display = highest >= 21 ? '' : 'none';\n    getId('trueUniversesLow').style.display = highest >= 24 ? '' : 'none';\n    getId('strangeAllStats').style.display = highest >= 17 || (!player.inflation.vacuum && highest >= 11) ? '' : 'none';\n    getId('inflatonStat').style.display = highest >= 19 ? '' : 'none';\n    getId('cosmon1Stat').style.display = highest >= 21 ? '' : 'none';\n    getId('effectiveEnergyStat').style.display = highest >= 1 ? '' : 'none';\n    if (highest >= 3) { getId('toggleAll').style.display = ''; }\n    if (highest >= 9) { getId('elementsAsTab').style.display = ''; }\n    if (highest >= 15) {\n        getId('strange0').style.cursor = '';\n        getId('autoStageSwitch').style.display = '';\n    } else if (!player.inflation.vacuum) { getId('mergeResetText').innerHTML = 'Attempt to <span class=\"darkvioletText\">Merge</span> <span class=\"grayText\">Galaxies</span> together to create even bigger Structures. Might have severe consequences.'; }\n    if (highest >= 17) {\n        getId('resets').style.display = '';\n        getId('researches').style.display = '';\n        getId('resetToggles').style.display = '';\n        getId('dischargeToggleReset').style.display = '';\n        getId('vaporizationToggleReset').style.display = '';\n        getId('rankToggleReset').style.display = '';\n        getId('collapseToggleReset').style.display = '';\n        getId('hideGlobalStats').style.display = '';\n        if (!globalSave.toggles[4]) { getId('globalStats').style.display = ''; }\n    }\n    if (highest >= 18) {\n        getId('stageSelect').style.display = '';\n        getId('stageAutoElse').style.display = '';\n        getId('vaporizationExtra').style.display = '';\n        getId('mergeToggleReset').style.display = '';\n        getId('saveFileNameGalaxy').style.display = '';\n    }\n    if (highest >= 24) {\n        getId('challenge3').style.display = '';\n        getId('nucleationToggleReset').style.display = '';\n    }\n\n    if (specialHTML.bigWindow === 'hotkeys') {\n        getId('stageRightHotkey').style.display = highest >= 9 ? '' : 'none';\n        getId('stageLeftHotkey').style.display = highest >= 9 ? '' : 'none';\n        getId('enterChallengeHotkey').style.display = highest >= 17 ? '' : 'none';\n        getId('exitChallengeHotkey').style.display = highest >= 17 ? '' : 'none';\n        getId('createAllHotkey').style.display = highest >= 1 ? '' : 'none';\n        getId('versesHotkey').style.display = highest >= 18 ? '' : 'none';\n        getId('stageHotkey').style.display = highest >= 16 || (!player.inflation.vacuum && highest >= 2) ? '' : 'none';\n        getId('supervoidHotkey').style.display = highest >= 20 ? '' : 'none';\n        getId('endHotkey').style.display = highest >= 20 ? '' : 'none';\n        getId('toggleMergeHotkey').style.display = highest >= 18 ? '' : 'none';\n        getId('toggleNucleationHotkey').style.display = highest >= 24 ? '' : 'none';\n        if (globalSave.MDSettings[0]) { getId('stageSwipe').style.display = highest >= 9 ? '' : 'none'; }\n        if (highest >= 3) {\n            getId('autoTogglesHeader').style.display = '';\n            getId('toggleStructureHotkey').style.display = '';\n            getId('toggleAllHotkey').style.display = '';\n        }\n        if (highest >= 17) {\n            getId('toggleUpgradesHotkey').style.display = '';\n            getId('dischargeHotkey').style.display = '';\n            getId('vaporizationHotkey').style.display = '';\n            getId('rankHotkey').style.display = '';\n            getId('collapseHotkey').style.display = '';\n        }\n        if (highest >= 18) {\n            getId('toggleStageHotkey').style.display = '';\n            getId('toggleDischargeHotkey').style.display = '';\n            getId('toggleVaporizationHotkey').style.display = '';\n            getId('toggleRankHotkey').style.display = '';\n            getId('toggleCollapseHotkey').style.display = '';\n            getId('galaxyHotkey').style.display = '';\n            getId('mergeHotkey').style.display = '';\n        }\n        if (highest >= 24) { getId('nucleationHotkey').style.display = ''; }\n    }\n};\n\nexport const getUpgradeDescription = (type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'strangeness' | 'milestones' | 'inflations') => {\n    if (type === 'inflations') {\n        const index = global.lastInflation[0];\n        if (index === null) {\n            getId('inflationText').textContent = 'Hover to see.';\n            getId('inflationEffect').textContent = 'Hover to see.';\n            getId('inflationCost').textContent = 'Inflatons.';\n            return;\n        }\n        const stageIndex = global.lastInflation[1];\n        const pointer = global.treeInfo[stageIndex];\n        const level = player.tree[stageIndex][index];\n\n        getId('inflationText').textContent = `${pointer.name[index]}. (Level ${format(level)} out of ${format(pointer.max[index])})`;\n        getId('inflationEffect').textContent = pointer.effectText[index]();\n        if (level >= pointer.max[index]) {\n            getId('inflationCost').textContent = 'Fully activated.';\n        } else {\n            let newLevel = 1 + level;\n            let cost = pointer.cost[index];\n            if (player.toggles.max[2] !== global.hotkeys.shift) {\n                while (pointer.max[index] > newLevel) {\n                    const check = cost + calculateTreeCost(index, stageIndex, newLevel);\n                    if (player.cosmon[stageIndex].current < check) { break; }\n                    cost = check;\n                    newLevel++;\n                }\n            }\n            getId('inflationCost').textContent = `${cost === 0 ? 'None' : `${format(cost)} ${stageIndex === 0 ? 'Inflatons' : 'Cosmons'}`}${stageIndex !== 0 ? ', non-refundable' : ''}.${newLevel - level > 1 ? ` [x${newLevel - level}]` : ''}`;\n        }\n    } else if (type === 'strangeness') {\n        const index = global.lastStrangeness[0];\n        const stageText = getId('strangenessStage');\n        if (index === null) {\n            stageText.textContent = '';\n            getId('strangenessText').textContent = 'Hover to see.';\n            getId('strangenessEffect').textContent = 'Hover to see.';\n            getId('strangenessCost').textContent = 'Strange quarks.';\n            return;\n        }\n        const stageIndex = global.lastStrangeness[1];\n        const pointer = global.strangenessInfo[stageIndex];\n        const level = player.strangeness[stageIndex][index];\n\n        stageText.style.color = `var(--${global.stageInfo.textColor[stageIndex]}-text)`;\n        stageText.textContent = `${global.stageInfo.word[stageIndex]}. `;\n        getId('strangenessText').textContent = `${pointer.name[index]}. (Level ${format(level)} out of ${format(pointer.max[index])})`;\n        getId('strangenessEffect').textContent = pointer.effectText[index]();\n        if (level >= pointer.max[index]) {\n            getId('strangenessCost').textContent = 'Maxed.';\n        } else if (player.challenges.active === 1 && stageIndex < 4 && player.milestones[stageIndex][1] >= (stageIndex === 1 ? 6 : 7)) {\n            getId('strangenessCost').textContent = `${global.stageInfo.word[stageIndex]} is removed from the reset cycle.`;\n        } else {\n            let newLevel = 1 + level;\n            let cost = pointer.cost[index];\n            if (player.toggles.max[1] !== global.hotkeys.shift) {\n                while (pointer.max[index] > newLevel) {\n                    const check = cost + (player.inflation.vacuum ?\n                        Math.floor(Math.round((pointer.firstCost[index] * pointer.scaling[index] ** newLevel) * 100) / 100) :\n                        Math.floor(Math.round((pointer.firstCost[index] + pointer.scaling[index] * newLevel) * 100) / 100));\n                    if (player.strange[0].current < check) { break; }\n                    cost = check;\n                    newLevel++;\n                }\n            }\n            getId('strangenessCost').textContent = `${format(cost)} Strange quarks.${newLevel - level > 1 ? ` [x${newLevel - level}]` : ''}`;\n        }\n    } else if (type === 'milestones') {\n        const index = global.lastMilestone[0];\n        const stageText = getId('milestonesStage');\n        const multilineID = getId('milestonesMultiline');\n        if (index === null) {\n            stageText.textContent = '';\n            getId('milestonesText').textContent = 'Hover to see.';\n            assignInnerHTML(multilineID, `<p class=\"orchidText\">Requirement: <span class=\"greenText\">Hover to see.</span></p>\n            <p class=\"blueText\">Time limit: <span class=\"greenText\">Hover to see.</span></p>\n            <p class=\"darkvioletText\">${player.inflation.vacuum ? 'Effect' : 'Unlock'}: <span class=\"greenText\">Hover to see.</span></p>`);\n            return;\n        }\n        const stageIndex = global.lastMilestone[1];\n        const pointer = global.milestonesInfo[stageIndex];\n        const level = player.milestones[stageIndex][index];\n\n        let text;\n        stageText.style.color = `var(--${global.stageInfo.textColor[stageIndex]}-text)`;\n        stageText.textContent = `${global.stageInfo.word[stageIndex]}. `;\n        getId('milestonesText').textContent = `${pointer.name[index]}. (Tier ${format(level, { padding: 'exponent' })}${player.inflation.vacuum ? '' : ` out of ${pointer.scaling[index].length}`}${pointer.recent[index] !== 0 ? `, +${format(pointer.recent[index], { padding: 'exponent' })} recently` : ''})`;\n        if (player.inflation.vacuum) {\n            const isActive = player.challenges.active === 0 && player.tree[0][4] >= 1;\n            text = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">${pointer.needText[index]()}</span></p>\n            <p class=\"blueText\">Time limit: <span class=\"greenText\">${format(global.challengesInfo[0].time - (isActive ? player.time[player.challenges.super ? 'vacuum' : 'stage'] : 0), { type: 'time' })} ${isActive ? 'remains ' : ''}to increase this tier within Void.</span></p>\n            <p class=\"darkvioletText\">Effect: <span class=\"greenText\">${pointer.rewardText[index]()}</span>${player.tree[0][4] < 1 ? ' <span class=\"redText\">(Disabled)</span>' : ''}</p>`;\n        } else if (level < pointer.scaling[index].length) {\n            const isActive = global.stageInfo.activeAll.includes(Math.min(stageIndex, 4));\n            const timeLimit = isActive && (player.tree[0][4] < 1 || player.challenges.active === 1);\n            text = `<p class=\"orchidText\">Requirement: <span class=\"greenText\">${pointer.needText[index]()}</span></p>\n            <p class=\"blueText\">Time limit: <span class=\"greenText\">${format(pointer.reward[index] - (timeLimit ? player.time.stage : 0), { type: 'time' })} ${timeLimit ? 'remains ' : ''}to complete this tier within ${isActive ? 'current' : global.stageInfo.word[index === 0 && stageIndex === 5 ? 4 : stageIndex]} Stage.</span></p>\n            <p class=\"darkvioletText\">Unlock: <span class=\"greenText\">Main reward unlocked after ${pointer.scaling[index].length - level} more completions.</span></p>`;\n        } else { text = `<p class=\"darkvioletText\">Reward: <span class=\"greenText\">${pointer.rewardText[index]()}</span></p>`; }\n\n        if (assignInnerHTML(multilineID, text)) {\n            const container = multilineID.parentElement as HTMLElement;\n            const heightTest = container.getBoundingClientRect().height;\n            if (specialHTML.cache.innerHTML.get(container) !== heightTest) {\n                specialHTML.cache.innerHTML.set(container, heightTest);\n                container.style.minHeight = `${heightTest}px`;\n            }\n        }\n    } else if (type === 'elements') {\n        const index = global.lastElement;\n        if (index === null) {\n            getId('elementText').textContent = 'Hover to see.';\n            getId('elementEffect').textContent = 'Hover to see.';\n            getId('elementCost').textContent = 'Stardust.';\n            return;\n        }\n        const pointer = global.elementsInfo;\n\n        getId('elementText').textContent = `${pointer.name[index]}.`;\n        getId('elementEffect').textContent = player.elements[index] > 0 || (player.collapse.show >= index && index !== 0) ? pointer.effectText[index]() : 'Effect is not yet known.';\n        getId('elementCost').textContent = player.elements[index] >= 1 ? 'Obtained.' :\n            player.elements[index] > 0 ? 'Awaiting Collapse.' :\n            index === 0 ? 'Unknown.' : `${format(pointer.cost[index])} Stardust.${globalSave.MDSettings[0] ? ' (Hold to create)' : ''}`;\n    } else {\n        const stageIndex = player.stage.active;\n        const index = global.lastUpgrade[stageIndex][0];\n        if (index === null) {\n            getId('upgradeText').textContent = 'Hover to see.';\n            getId('upgradeEffect').textContent = 'Hover to see.';\n            getId('upgradeCost').textContent = `${global.stageInfo.costName[stageIndex]}.`;\n        } else if (type === 'upgrades') {\n            const pointer = global[`${type}Info`][stageIndex];\n            const notEnoughUniverses = stageIndex === 5 && global.mergeInfo.unlockU[index] > getVerseType();\n\n            getId('upgradeText').textContent = `${pointer.name[index]}.`;\n            getId('upgradeEffect').textContent = notEnoughUniverses ? 'Effect will be revealed once requirements are met.' : pointer.effectText[index]();\n            getId('upgradeCost').textContent = player.upgrades[stageIndex][index] === 1 ? 'Created.' :\n                stageIndex === 1 && player.upgrades[1][5] !== 1 && ((index === 3 || index === 4) && player.buildings[1][(player.inflation.vacuum ? 4 : 2) + (index === 3 ? 0 : 1)].total.equal(0)) ? `Requires any amount of ${index === 3 ? 'Atoms' : 'Molecules'} to create.` :\n                stageIndex === 2 && index === 0 && player.buildings[2][1].true < 1 && player.buildings[2][2].true < 1 ? 'Requires any amount of self-made Drops to create.' :\n                stageIndex === 4 && global.collapseInfo.unlockU[index] > player.collapse.mass && player.researchesExtra[5][0] < 1 ? `Unlocked at ${format(global.collapseInfo.unlockU[index])} Mass.` :\n                notEnoughUniverses ? `Unlocked at ${global.mergeInfo.unlockU[index]} ${player.challenges.active === 0 ? 'Void' : 'basic self-made'} Universes.` :\n                `${format(pointer.cost[index])} ${global.stageInfo.costName[stageIndex]}.`;\n        } else if (type === 'researches' || type === 'researchesExtra') {\n            const pointer = global[`${type}Info`][stageIndex];\n            const level = player[type][stageIndex][index];\n            if (type === 'researchesExtra' && stageIndex === 4 && index === 0) { pointer.name[0] = ['Nova', 'Supernova', 'Hypernova'][Math.min(level, 2)]; }\n            const notEnoughUniverses = stageIndex === 5 && global.mergeInfo[`unlock${type === 'researches' ? 'R' : 'E'}`][index] > getVerseType();\n\n            getId('upgradeText').textContent = `${pointer.name[index]}. (Level ${format(level)} out of ${format(pointer.max[index])})`;\n            getId('upgradeEffect').textContent = notEnoughUniverses ? 'Effect will be revealed once requirements are met.' : pointer.effectText[index]();\n            if (level >= pointer.max[index]) {\n                getId('upgradeCost').textContent = 'Maxed.';\n            } else if (stageIndex === 4 && type === 'researches' && global.collapseInfo.unlockR[index] > player.collapse.mass && player.researchesExtra[5][0] < 1) {\n                getId('upgradeCost').textContent = `Unlocked at ${format(global.collapseInfo.unlockR[index])} Mass.`;\n            } else if (stageIndex === 5 && type === 'researchesExtra' && player.strangeness[5][3] < 1) {\n                getId('upgradeCost').textContent = \"Requires 'Gravitational bound' Strangeness.\";\n            } else if (notEnoughUniverses) {\n                getId('upgradeCost').textContent = `Unlocked at ${global.mergeInfo[`unlock${type === 'researches' ? 'R' : 'E'}`][index]} ${player.challenges.active === 0 ? 'Void' : 'basic self-made'} Universes.`;\n            } else {\n                let newLevels = 1;\n                let cost = pointer.cost[index];\n                const tillMax = pointer.max[index] - level;\n                if (tillMax > 1 && (player.toggles.max[0] !== global.hotkeys.shift)) {\n                    const scaling = pointer.scaling[index];\n                    if (typeof cost === 'number') {\n                        const currency = player[stageIndex === 1 ? 'discharge' : 'darkness'].energy;\n                        if (stageIndex === 1 && (player.challenges.supervoid[3] >= 5 || player.accretion.rank >= 6) && player.strangeness[1][9] >= 1) {\n                            newLevels = Math.min(Math.max(Math.floor((currency - cost) / scaling + 1), 1), tillMax);\n                            if (newLevels > 1) { cost += (newLevels - 1) * scaling; }\n                        } else {\n                            const simplify = cost - scaling / 2;\n                            newLevels = Math.min(Math.max(Math.floor(((simplify ** 2 + 2 * scaling * currency) ** 0.5 - simplify) / scaling), 1), tillMax);\n                            if (newLevels > 1) { cost = newLevels * (newLevels * scaling / 2 + simplify); }\n                        }\n                    } else {\n                        const currency = player.buildings[stageIndex === 5 ? 4 : stageIndex][stageIndex === 2 ? 1 : 0].current;\n                        newLevels = Math.min(Math.max(Math.floor(new Overlimit(currency).multiply(scaling - 1).divide(cost).plus(1).log(scaling).toNumber()), 1), tillMax);\n                        if (newLevels > 1) { cost = new Overlimit(scaling).power(newLevels).minus(1).divide(scaling - 1).multiply(cost); }\n                    }\n                }\n\n                getId('upgradeCost').textContent = `${format(cost)} ${stageIndex === 6 && type === 'researchesExtra' ? 'Dark energy' : global.stageInfo.costName[stageIndex]}.${newLevels > 1 ? ` [x${newLevels}]` : ''}`;\n            }\n        } else if (type === 'researchesAuto') {\n            const pointer = global.researchesAutoInfo;\n            let level = player.researchesAuto[index];\n\n            getId('upgradeText').textContent = `${pointer.name[index]}. (Level ${level} out of ${pointer.max[index]})`;\n            getId('upgradeEffect').textContent = pointer.effectText[index]();\n            if (level >= pointer.max[index]) {\n                getId('upgradeCost').textContent = 'Maxed.';\n            } else {\n                const autoStage = pointer.autoStage[index][level];\n                if (index === 1) { //Level from here can only be used for cost\n                    if (player.strangeness[4][6] >= 1) { level--; }\n                } else if (index === 2) {\n                    if (player.strangeness[1][4] >= 1) { level--; }\n                    if (player.strangeness[2][4] >= 1) { level--; }\n                    if (player.strangeness[3][4] >= 1) { level--; }\n                    if (player.strangeness[4][4] >= 1) { level--; }\n                    if (player.inflation.vacuum) { level++; }\n                }\n                if (index === 1 && player.strangeness[4][6] >= 1) { level = Math.max(level - 1, 0); }\n                getId('upgradeCost').textContent = `${format(pointer.costRange[index][Math.max(level, 0)])} ${global.stageInfo.costName[autoStage]}. ${!(autoStage === stageIndex || (stageIndex === 5 && autoStage === 4)) ? `(Requires to be in the '${global.stageInfo.word[autoStage]}')` : ''}`;\n            }\n        } else if (type === 'ASR') {\n            const pointer = global.ASRInfo;\n            const level = player.ASR[stageIndex];\n\n            getId('upgradeText').textContent = `${pointer.name}. (Level ${level} out of ${pointer.max[stageIndex]})`;\n            getId('upgradeEffect').textContent = pointer.effectText();\n            getId('upgradeCost').textContent = level >= pointer.max[stageIndex] ? 'Maxed.' :\n                stageIndex === 1 && player.upgrades[1][5] !== 1 ? \"Cannot be created without 'Superposition' Upgrade.\" :\n                stageIndex === 3 && player.accretion.rank < 1 ? \"Cannot be created at 'Ocean world' Rank.\" :\n                `${format(pointer.costRange[stageIndex][level])} ${global.stageInfo.costName[stageIndex]}.`;\n        }\n    }\n};\n\nexport const getChallengeDescription = () => {\n    const index = global.lastChallenge[0];\n    const info = global.challengesInfo[index];\n    const isActive = player.challenges.active === index || (index === 2 && player.darkness.active);\n    const nameID = getId('challengeName');\n    nameID.textContent = info.name;\n    nameID.style.color = `var(--${info.color}-text)`;\n    getId('challengeActive').style.display = isActive ? '' : 'none';\n\n    const unlocked = index !== 1 || player.proggress.main >= 22;\n    const time = player.time[info.resetType];\n    (nameID.parentElement as HTMLElement).style.display = unlocked ? '' : 'none';\n    let text = !unlocked ? '' : `<p class=\"whiteText\">${info.description()}</p>\n    <article><h4 class=\"${info.color}Text bigWord\">Effects:</h4>\n    <div>${info.effectText()}</article>\n    <p class=\"blueText\">${isActive ? 'Remaining time' : 'Time limit'} is <span class=\"cyanText\">${format(info.time - (isActive ? time : 0), { type: 'time' })}</span></p></div>`;\n\n    if (index === 1) {\n        const vacuum = player.inflation.vacuum;\n        const gain = vacuum ? global.inflationInfo.trueUniverses + 1 : 1;\n        text += `${unlocked ? '<article>' : ''}<h3 class=\"darkorchidText bigWord\">Vacuum information</h3>\n        <p class=\"orchidText\">Vacuum state: <span class=\"${vacuum ? 'greenText\">true' : 'redText\">false'}</span> | Resets: <span class=\"darkorchidText\">${player.inflation.resets}</span></p>\n        ${player.proggress.main >= 19 ? `<p class=\"darkvioletText\">Current Inflatons gain: <span class=\"${vacuum ? 'green' : 'red'}Text\">${format(gain, { padding: 'exponent' })}</span> | Rate: <span class=\"${vacuum ? 'green' : 'red'}Text\">${format(gain / time, { type: 'income' })}</span></p>` : ''}\n        <p class=\"orchidText\">Time since last reset: <span class=\"darkorchidText\">${format(player.inflation.time, { type: 'time' })}</span>${player.proggress.main >= 19 ? ` (Real: <span class=\"darkorchidText\">${format(time, { type: 'time' })}</span>)` : ''}</p>${unlocked ? '</article>' : ''}`;\n    }\n    assignInnerHTML('#challengeMultiline', text);\n};\n\nexport const getChallengeRewards = () => {\n    let text = '<p class=\"greenText center\">'; //Need to be closed\n    if (global.lastChallenge[0] === 0) {\n        const info = global.challengesInfo[0];\n\n        const stage = global.lastChallenge[1];\n        const supervoid = global.sessionToggles[0];\n        const reward = info.rewardText[supervoid ? 1 : 0][stage];\n        const current = player.challenges[supervoid ? 'supervoidMax' : 'void'][stage];\n        const best = player.challenges[supervoid ? 'supervoid' : 'voidCheck'][stage];\n        const arrayMax = player.challenges[supervoid ? 'supervoid' : 'void'];\n        const total = 1 + arrayMax[1] + arrayMax[2] + arrayMax[3] + arrayMax[4] + arrayMax[5];\n        getId('voidRewardsHead').textContent = `${supervoid ? 'Supervoid' : 'Void'} rewards:`;\n        text += `All rewards are located in the '${supervoid ? 'Inflation' : 'Strangeness'}' Tab\\nAlso gain ${supervoid ? `a single Inflaton after unlocking ${total - global.inflationInfo.totalSuper} more` : `${total} Strange quarks, which is equal to total`} rewards</p>`;\n        for (let i = 0; i < reward.length; i++) {\n            const needText = info.needText[stage][i]();\n            if (needText === null) { continue; }\n            const unlocked = current > i;\n            let failText;\n            if (!unlocked && player.challenges.active === 0) {\n                if (supervoid && !player.challenges.super) {\n                    failText = 'Supervoid only';\n                } else if (player.time[supervoid ? 'vacuum' : 'stage'] > info.time) {\n                    failText = 'Out of time';\n                } else if (stage === 2 && i === 2 && player.accretion.rank > 1 && (player.challenges.supervoid[3] < 2 || player.strangeness[3][4] < 2)) {\n                    failText = 'Failed';\n                }\n            }\n\n            text += `<div><p><span class=\"${unlocked ? 'greenText' : 'redText'}\">\u2192 </span>${needText}${failText !== undefined ? ` <span class=\"redText\">(${failText})</span>` : !unlocked && globalSave.SRSettings[0] ? ' (Not completed)' : ''}</p>\n            <p><span class=\"${unlocked ? 'greenText' : 'redText'}\">Reward: </span>${best > i ? reward[i] : 'Effect is not yet known'}</p></div>`;\n        }\n    } else if (global.lastChallenge[0] === 1) {\n        const info = global.challengesInfo[1];\n\n        const current = player.challenges.stability;\n        text += `${current} Completions, can be increased by Merging Galaxies while active\\nAlso gain a single Inflaton after 1 more completion</p>`;\n        for (let i = 0; i < info.rewardText.length; i++) {\n            const unlocked = current > i;\n            let failText;\n            if (!unlocked && player.challenges.active === 1) {\n                if (player.time.vacuum > info.time) {\n                    failText = 'Out of time';\n                }\n            }\n\n            text += `<div><p><span class=\"${unlocked ? 'greenText' : 'redText'}\">\u2192 </span>${info.needText[i]}${failText !== undefined ? ` <span class=\"redText\">(${failText})</span>` : !unlocked && globalSave.SRSettings[0] ? ' (Not completed)' : ''}</p>\n            <p><span class=\"${unlocked ? 'greenText' : 'redText'}\">Reward: </span>${unlocked ? info.rewardText[i] : 'Effect is not yet known'}</p></div>`;\n        }\n    } else {\n        const info = global.challengesInfo[2];\n\n        const current = player.verses[0].lowest[0];\n        text += `Completed by causing End reset with at least ${format(1000)} Dark energy\\nMost of rewards are related to Darkness automatization</p>`;\n        for (let i = info.rewardText.length - 1; i >= 0; i--) {\n            const unlocked = current <= i;\n            let failText;\n            if (global.inflationInfo.trueUniverses > i) {\n                failText = 'Too many Universes';\n            }\n\n            text += `<div><p><span class=\"${unlocked ? 'greenText' : 'redText'}\">\u2192 </span>Complete with ${format(i)} self-made Universes${failText !== undefined ? ` <span class=\"redText\">(${failText})</span>` : !unlocked && globalSave.SRSettings[0] ? ' (Not completed)' : ''}</p>\n            <p><span class=\"${unlocked ? 'greenText' : 'redText'}\">Reward: </span>${unlocked ? info.rewardText[i] : 'Effect is not yet known'}</p></div>`;\n        }\n    }\n    assignInnerHTML('#challengeRewardsMultiline', text);\n};\n\nconst visualUpdateUpgrades = (index: number, stageIndex: number, type: 'upgrades' | 'elements') => {\n    if (type === 'upgrades') {\n        if (stageIndex !== player.stage.active) { return; }\n\n        let color = '';\n        const image = getId(`upgrade${index + 1}`);\n        if (player.upgrades[stageIndex][index] === 1) {\n            if (stageIndex === 1) {\n                color = 'green';\n            } else if (stageIndex === 2) {\n                color = 'darkgreen';\n            } else if (stageIndex === 3) {\n                color = '#0000b1'; //Darker blue\n            } else if (stageIndex === 4) {\n                color = '#1f1f8f'; //Brigher midnightblue\n            } else if (stageIndex === 5) {\n                color = '#990000'; //Brigher maroon\n            } else if (stageIndex === 6) {\n                color = '#660000'; //Darker maroon\n            }\n            image.tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1;\n        } else { image.tabIndex = 0; }\n        image.style.backgroundColor = color;\n    } else if (type === 'elements') {\n        const image = getId(`element${index}`);\n        if (player.elements[index] >= 1) {\n            image.classList.remove('awaiting');\n            image.classList.add('created');\n            if (index > 0) { image.tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1; }\n        } else {\n            image.classList[player.elements[index] > 0 ? 'add' : 'remove']('awaiting');\n            image.classList.remove('created');\n            if (index > 0) { image.tabIndex = 0; }\n        }\n    }\n};\n\nconst visualUpdateResearches = (index: number, stageIndex: number, type: 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'strangeness' | 'inflations') => {\n    let max: number;\n    let level: number;\n    let textPointer: string;\n    let fixMove = false;\n    if (type === 'researches' || type === 'researchesExtra') {\n        if (stageIndex !== player.stage.active) { return; }\n        max = global[`${type}Info`][stageIndex].max[index];\n        level = player[type][stageIndex][index];\n\n        textPointer = `#research${type === 'researches' ? '' : 'Extra'}${index + 1}`;\n        fixMove = true;\n    } else if (type === 'researchesAuto') {\n        max = global.researchesAutoInfo.max[index];\n        level = player.researchesAuto[index];\n\n        textPointer = `#researchAuto${index + 1}`;\n    } else if (type === 'ASR') {\n        if (stageIndex !== player.stage.active) { return; }\n        max = global.ASRInfo.max[stageIndex];\n        level = player.ASR[stageIndex];\n\n        textPointer = '#ASR';\n    } else if (type === 'strangeness') {\n        max = global.strangenessInfo[stageIndex].max[index];\n        level = player.strangeness[stageIndex][index];\n\n        textPointer = `#strange${index + 1}Stage${stageIndex}`;\n    } else /*if (type === 'inflations')*/ {\n        max = global.treeInfo[stageIndex].max[index];\n        level = player.tree[stageIndex][index];\n\n        textPointer = `#inflation${index + 1}Tree${stageIndex + 1}`;\n    }\n\n    let text = '<span class=\"';\n    if (level >= max) {\n        text += 'greenText';\n        getQuery(`${textPointer} > input`).tabIndex = globalSave.SRSettings[0] && globalSave.SRSettings[1] ? 0 : -1;\n    } else if (level === 0) {\n        text += 'redText';\n        getQuery(`${textPointer} > input`).tabIndex = 0;\n    } else {\n        text += 'orchidText';\n        getQuery(`${textPointer} > input`).tabIndex = 0;\n    }\n    text += `\">${format(level, { padding: 'exponent' })}</span>`;\n    if (max < 1e3) { text += `/<span class=\"greenText\">${max}</span>`; }\n\n    const mainHTML = getQuery(`${textPointer} > span`);\n    if (assignInnerHTML(mainHTML, text)) {\n        mainHTML.classList[max < 1e3 ? 'remove' : 'add']('noMaxLevel');\n\n        if (!fixMove) { return; }\n        const widthTest = mainHTML.getBoundingClientRect().width;\n        if (specialHTML.cache.innerHTML.get(textPointer) !== widthTest) {\n            specialHTML.cache.innerHTML.set(textPointer, widthTest);\n            mainHTML.style.minWidth = `${widthTest}px`;\n        }\n    }\n};\n\nconst updateRankInfo = () => {\n    const rank = player.accretion.rank;\n    if (global.debug.rankUpdated === rank) { return; }\n    const rankInfo = global.accretionInfo;\n    const name = getId('rankName');\n    const nameExtra = getId('rankExtra');\n\n    getId('reset0Button').textContent = rank >= rankInfo.maxRank ? 'Max Rank achieved' : `Next Rank is ${format(calculateEffects.rankCost())} Mass`;\n    const maxInfoRank = Math.min(rank, 7);\n    (getId('rankImage') as HTMLImageElement).src = `Used_art/${rankInfo.rankImage[maxInfoRank]}`;\n    name.textContent = rank > 7 ? 'PG' : rankInfo.rankName[rank];\n    name.style.color = `var(--${rankInfo.rankColor[maxInfoRank]}-text)`;\n    nameExtra.style.display = rank > 7 ? '' : 'none';\n    if (rank > 7) { nameExtra.textContent = `+${format(rank - 7, { padding: 'exponent' })}`; }\n    global.debug.rankUpdated = rank;\n};\n\nexport const updateCollapsePoints = () => {\n    const points = player.collapse.points;\n    const array = new Array(points.length);\n    for (let i = 0; i < points.length; i++) { array[i] = format(points[i], { type: 'input' }); }\n    getId('collapsePoints').textContent = array.length !== 0 ? `${array.join(', ')} or ` : '';\n};\n\nconst setRemnants = () => {\n    if (player.stage.active === 4) {\n        const whiteDwarf = player.researchesExtra[4][2] >= 1;\n        const src1 = whiteDwarf ? 'White%20dwarf' : 'Red%20giant';\n        const img1 = getQuery('#special1 > img') as HTMLImageElement;\n        if (specialHTML.cache.innerHTML.get(img1) !== src1) {\n            specialHTML.cache.innerHTML.set(img1, src1);\n            img1.src = `Used_art/${src1}.png`;\n            img1.alt = whiteDwarf ? 'White dwarfs (Red giants)' : 'Red giants';\n            getId('special1').dataset.title = img1.alt;\n            getId('special1Cur').style.color = `var(--${whiteDwarf ? 'cyan' : 'red'}-text)`;\n        }\n        getId('star1Effect').dataset.title = `Boost to ${player.elements[27] >= 1 ? 'Brown dwarfs, ' : ''}Main-sequence${player.elements[33] >= 1 ? ', Red supergiants' : ''}`;\n\n        const quarkStar = player.researchesExtra[4][3] >= 1;\n        const src2 = quarkStar ? 'Quark%20star' : 'Neutron%20star';\n        const img2 = getQuery('#special2 > img') as HTMLImageElement;\n        if (specialHTML.cache.innerHTML.get(img2) !== src2) {\n            specialHTML.cache.innerHTML.set(img2, src2);\n            img2.src = `Used_art/${src2}.png`;\n            img2.alt = quarkStar ? 'Quark stars (Neutron stars)' : 'Neutron stars';\n            getId('special2').dataset.title = img2.alt;\n            getId('special2Cur').style.color = 'var(--darkviolet-text)';\n            getId('star2Effect').dataset.title = `Boost${quarkStar ? ' and cost decrease' : ''} to Interstellar Stars`;\n        }\n\n        if (player.inflation.vacuum) { getId('star3Effect').dataset.title = `Boost to the Solar mass gain${player.researchesExtra[4][4] >= 1 ? ', global speed' : ''} and delay to the Preons hardcap`; }\n        if (globalSave.SRSettings[0]) { getId('specials').ariaLabel = 'Stars remnants'; }\n    } else if (player.stage.active === 5) {\n        const img1 = getQuery('#special1 > img') as HTMLImageElement;\n        specialHTML.cache.innerHTML.set(img1, 'Group');\n        img1.src = 'Used_art/Galaxy%20group.png';\n        img1.alt = 'Galaxy groups';\n        getId('special1').dataset.title = 'Galaxy groups';\n        getId('special1Cur').style.color = 'var(--gray-text)';\n\n        const img2 = getQuery('#special2 > img') as HTMLImageElement;\n        specialHTML.cache.innerHTML.set(img2, 'Cluster');\n        img2.src = 'Used_art/Missing.png'; //Galaxy%20cluster\n        img2.alt = 'Galaxy clusters';\n        getId('special2').dataset.title = 'Galaxy clusters';\n        getId('special2Cur').style.color = 'var(--gray-text)';\n        if (globalSave.SRSettings[0]) { getId('specials').ariaLabel = 'Merge results'; }\n    }\n};\n\nconst updateStageHistory = () => {\n    if (global.debug.historyStage === player.stage.resets) { return; }\n    const list = global.historyStorage.stage;\n\n    let text = '';\n    for (let i = 0; i < Math.min(list.length, player.history.stage.input[1]); i++) {\n        text += `<li>${format(list[i][1], { padding: true })} Strange quarks, <span class=\"darkorchidText\">${format(list[i][1] / list[i][0], { type: 'income' })}</span> | Peak: <span class=\"darkorchidText\">${format(list[i][3], { type: 'income' })}</span>\\n${list[i][2] > 0 ? `${format(list[i][2], { padding: true })} Strangelets, <span class=\"darkorchidText\">${format(list[i][2] / list[i][0], { type: 'income' })}</span>, ` : ''}<span class=\"blueText\">${format(list[i][0], { type: 'time' })}</span> | At: <span class=\"blueText\">${format(list[i][4], { type: 'time' })}</span></li>`;\n    }\n    getId('stageHistoryList').innerHTML = text !== '' ? text : '<li class=\"redText\">Reference list is empty</li>';\n\n    const best = player.history.stage.best;\n    getId('stageHistoryBest').innerHTML = `${format(best[1], { padding: true })} Strange quarks, <span class=\"darkorchidText\">${format(best[1] / best[0], { type: 'income' })}</span> | Peak: <span class=\"darkorchidText\">${format(best[3], { type: 'income' })}</span>\\n${best[2] > 0 ? `${format(best[2], { padding: true })} Strangelets, <span class=\"darkorchidText\">${format(best[2] / best[0], { type: 'income' })}</span>, ` : ''}<span class=\"blueText\">${format(best[0], { type: 'time' })}</span> | At: <span class=\"blueText\">${format(best[4], { type: 'time' })}</span>`;\n    global.debug.historyStage = player.stage.resets;\n};\nconst updateEndHistory = () => {\n    const total = player.inflation.ends[0] + player.inflation.ends[1] + player.inflation.ends[2];\n    if (global.debug.historyEnd === total) { return; }\n    const list = global.historyStorage.end;\n\n    let text = '';\n    for (let i = 0; i < Math.min(list.length, player.history.end.input[1]); i++) {\n        text += `<li><span class=\"darkvioletText\">${format(list[i][1], { padding: true })} Cosmons</span>, <span class=\"darkorchidText\">${format(list[i][1] / list[i][0], { type: 'income' })}</span> | Peak: <span class=\"darkorchidText\">${format(list[i][3], { type: 'income' })}</span>\\n<span class=\"darkvioletText\">Type:</span> <span class=\"brownText\">Big ${list[i][2] === 2 ? 'Freeze' : list[i][2] === 1 ? 'Rip' : 'Crunch'}</span>, <span class=\"blueText\">${format(list[i][0], { type: 'time' })}</span> | At: <span class=\"blueText\">${format(list[i][4], { type: 'time' })}</span></li>`;\n    }\n    getId('endHistoryList').innerHTML = text !== '' ? text : '<li class=\"redText\">Reference list is empty</li>';\n\n    const best = player.history.end.best;\n    getId('endHistoryBest').innerHTML = `<span class=\"darkvioletText\">${format(best[1], { padding: true })} Cosmons</span>, <span class=\"darkorchidText\">${format(best[1] / best[0], { type: 'income' })}</span> | Peak: <span class=\"darkorchidText\">${format(best[3], { type: 'income' })}</span>\\n<span class=\"darkvioletText\">Type:</span> <span class=\"brownText\">Big ${best[2] === 2 ? 'Freeze' : best[2] === 1 ? 'Rip' : 'Crunch'}</span>, <span class=\"blueText\">${format(best[0], { type: 'time' })}</span> | At: <span class=\"blueText\">${format(best[4], { type: 'time' })}</span>`;\n    global.debug.historyEnd = total;\n};\n\n/** @param padding 'exponent' value will behave as true, but only after number turns into its shorter version */\nexport const format = (input: number | Overlimit, settings = {} as { type?: 'number' | 'input' | 'time' | 'income', padding?: boolean | 'exponent' }): string => {\n    if (typeof input === 'object') { return input?.format(settings as any); }\n    const type = settings.type ?? 'number';\n    let padding = settings.padding;\n\n    let extra;\n    if (type === 'income') { //1.2345e6 per second\n        const inputAbs = Math.abs(input);\n        if (inputAbs >= 1) {\n            extra = 'per second';\n        } else if (inputAbs >= 1 / 60) {\n            input *= 60;\n            extra = 'per minute';\n        } else if (inputAbs >= 1 / 3600) {\n            input *= 3600;\n            extra = 'per hour';\n        } else if (inputAbs >= 1 / 86400) {\n            input *= 86400;\n            extra = 'per day';\n        } else if (inputAbs >= 1 / 31556952) {\n            input *= 31556952;\n            extra = 'per year';\n        } else if (inputAbs >= 1 / 3.1556952e10) {\n            input *= 3.1556952e10;\n            extra = 'per millennium';\n        } else if (inputAbs >= 1 / 3.1556952e13) {\n            input *= 3.1556952e13;\n            extra = 'per megaannum';\n        } else {\n            input *= 3.1556952e16;\n            extra = 'per eon';\n        }\n\n        padding ??= true;\n    } else if (type === 'time') { //12 Minutes 34 Seconds\n        const inputAbs = Math.abs(input);\n        if (inputAbs < 60) {\n            extra = 'seconds';\n        } else if (inputAbs < 3600) {\n            const minutes = Math.trunc(input / 60);\n            const seconds = Math.trunc(input - minutes * 60);\n            if (padding === false && seconds === 0) { return `${minutes} minutes`; }\n            return `${minutes} minutes ${seconds} seconds`;\n        } else if (inputAbs < 86400) {\n            const hours = Math.trunc(input / 3600);\n            const minutes = Math.trunc(input / 60 - hours * 60);\n            if (padding === false && minutes === 0) { return `${hours} hours`; }\n            return `${hours} hours ${minutes} minutes`;\n        } else if (inputAbs < 31556952) {\n            const days = Math.trunc(input / 86400);\n            const hours = Math.trunc(input / 3600 - days * 24);\n            if (padding === false && hours === 0) { return `${days} days`; }\n            return `${days} days ${hours} hours`;\n        } else if (inputAbs < 3.1556952e10) {\n            const years = Math.trunc(input / 31556952);\n            const days = Math.trunc(input / 86400 - years * 365.2425);\n            if (padding === false && days === 0) { return `${years} years`; }\n            return `${years} years ${days} days`;\n        } else if (inputAbs < 3.1556952e13) {\n            input /= 3.1556952e10;\n            extra = 'millenniums';\n        } else if (inputAbs < 3.1556952e16) {\n            input /= 3.1556952e13;\n            extra = 'megaannums';\n        } else {\n            input /= 3.1556952e16;\n            extra = 'eons';\n        }\n\n        padding ??= true;\n    }\n    if (!isFinite(input)) { return extra !== undefined ? `${input} ${extra}` : `${input}`; }\n\n    const inputAbs = Math.abs(input);\n    if (inputAbs >= 1e6 || (inputAbs < 1e-4 && inputAbs > 0)) { //1.23e123 (-1.23e-123)\n        if (padding === 'exponent') { padding = true; }\n\n        let digits = Math.floor(Math.log10(inputAbs));\n        let precision = 3 - Math.floor(Math.log10(Math.abs(digits)));\n        let result = Math.round(input / 10 ** (digits - precision)) / 10 ** precision;\n        if (Math.abs(result) === 10) { //To remove rare bugs\n            result /= 10;\n            digits++;\n            if (digits === -4) { return format(1e-4 * result, settings); }\n            if (padding) { precision = 3 - Math.floor(Math.log10(Math.abs(digits))); }\n        }\n\n        let formated = padding ? result.toFixed(precision) : `${result}`;\n        if (type === 'input') { return `${formated}e${digits}`; }\n        formated = `${formated.replace('.', globalSave.format[0])}e${digits}`;\n        return extra !== undefined ? `${formated} ${extra}` : formated;\n    }\n\n    { //12345 (-12345)\n        let precision = inputAbs < 10 ? 5 : (5 - Math.floor(Math.log10(inputAbs)));\n        const result = Math.round(input * 10 ** precision) / 10 ** precision;\n\n        const resultAbs = Math.abs(result); //To remove rare bugs\n        if (resultAbs === 1e3 && (extra === 'millenniums' || extra === 'megaannums')) { return format(result * (extra === 'millenniums' ? 3.1556952e10 : 3.1556952e13), settings); }\n        if (resultAbs === 1e6) { return format(result, settings); }\n        if (padding === 'exponent') {\n            padding = false;\n        } else if (padding) { precision = resultAbs < 10 ? 5 : (5 - Math.floor(Math.log10(resultAbs))); }\n\n        let formated = padding ? result.toFixed(precision) : `${result}`;\n        if (type === 'input') { return formated; }\n        let index = formated.indexOf('.');\n        if (index !== -1) {\n            formated = `${formated.slice(0, index)}${globalSave.format[0]}${formated.slice(index + 1)}`;\n        } else { index = formated.length; }\n        if (index > 3) {\n            index -= 3;\n            formated = `${formated.slice(0, index)}${globalSave.format[1]}${formated.slice(index)}`;\n        }\n        return extra !== undefined ? `${formated} ${extra}` : formated;\n    }\n};\n\nexport const stageUpdate = (changed = true, ignoreOffline = false) => {\n    const { stageInfo, buildingsInfo } = global;\n    const { active, current } = player.stage;\n    const highest = player.proggress.main;\n    const activeAll = stageInfo.activeAll;\n    const vacuum = player.inflation.vacuum;\n    const challenge = player.challenges.active;\n\n    activeAll.length = 0;\n    if (vacuum) {\n        activeAll.push(1);\n        if (player.researchesExtra[1][2] >= 2) { activeAll.push(2); }\n        if (current >= 2) { activeAll.push(3); } //player.researchesExtra[1][2] >= 1\n        if (current >= 4) { activeAll.push(4); } //player.accretion.rank >= 6\n        if (current >= 5 && player.strangeness[5][3] >= 1) { activeAll.push(5); } //player.elements[26] >= 1\n    } else {\n        if (current === 1 || (challenge !== 1 && player.milestones[1][1] >= 6)) { stageInfo.activeAll.push(1); }\n        if (current === 2 || (challenge !== 1 && player.milestones[2][1] >= 7)) { stageInfo.activeAll.push(2); }\n        if (current === 3 || (challenge !== 1 && player.milestones[3][1] >= 7)) { stageInfo.activeAll.push(3); }\n        if (current >= 4) { activeAll.push(4); }\n        if (current >= 5) { activeAll.push(5); } //player.elements[26] >= 1\n    }\n    if (highest >= 18) { activeAll.push(6); } //current >= 6\n    if (global.offline.active && !ignoreOffline) {\n        if (!global.offline.stage[1]) { global.offline.stage[1] = changed; }\n        return;\n    }\n\n    for (let s = 1; s <= 6; s++) {\n        for (const element of getClass(`stage${s}Only`)) { element.style.display = active === s ? '' : 'none'; }\n        for (const element of getClass(`stage${s}Include`)) { element.style.display = activeAll.includes(s) ? '' : 'none'; }\n    }\n\n    const stageWord = getId('stageWord');\n    stageWord.textContent = stageInfo.word[current];\n    stageWord.style.color = `var(--${stageInfo.textColor[current]}-text)`;\n    if (!vacuum && active >= 6) {\n        getId('reset1Button').textContent = 'No Stage resets available';\n    } else if (vacuum || active >= 4) {\n        getId('reset1Button').textContent = highest >= 10 ? (current >= 5 ? 'Requirements are met' : \"Requires '[26] Iron' Element\") : 'Requirements are unknown';\n    }\n    if (challenge !== null) {\n        getId('currentChallenge').style.display = '';\n        const currentID = getQuery('#currentChallenge > span');\n        currentID.textContent = global.challengesInfo[challenge].name;\n        currentID.style.color = `var(--${global.challengesInfo[challenge].color}-text)`;\n    } else { getId('currentChallenge').style.display = 'none'; }\n\n    if (highest < 18) {\n        if (highest < 17) {\n            if (changed) {\n                getId('resets').style.display = '';\n                getId('researches').style.display = '';\n            }\n            if (!globalSave.toggles[4]) { getId('globalStats').style.display = vacuum && current >= 2 ? '' : 'none'; }\n        }\n        getId('stageSelect').style.display = activeAll.length > 1 ? '' : 'none';\n    }\n    if (vacuum) {\n        getId('milestonesProgressArea').style.display = challenge === 0 && player.tree[0][4] >= 1 ? '' : 'none';\n    } else {\n        getId('strangePeak').style.display = active === current || active === 4 || active === 5 ? '' : 'none';\n    }\n\n    if (!changed) {\n        visualUpdate(ignoreOffline);\n        numbersUpdate(ignoreOffline);\n        return;\n    }\n    const researchExtraDivHTML = specialHTML.researchExtraDivHTML[active];\n    if (globalSave.SRSettings[0]) {\n        getId('extraResearches').ariaLabel = `${researchExtraDivHTML[2]} Researches (Special)`;\n        getId('SRStage').textContent = `Current active Stage is '${stageInfo.word[active]}'${active !== global.trueActive ? `, will be changed to '${stageInfo.word[global.trueActive]}' after changing tab` : ''}`;\n    }\n\n    const upgradesInfo = global.upgradesInfo[active];\n    const researchesInfo = global.researchesInfo[active];\n    const researchesExtraInfo = global.researchesExtraInfo[active];\n    const footerStatsHTML = specialHTML.footerStatsHTML[active];\n    for (let i = Math.max(buildingsInfo.maxActive[active], 1); i < specialHTML.longestBuilding; i++) {\n        getId(`building${i}Stats`).style.display = 'none';\n        getId(`building${i}`).style.display = 'none';\n    }\n    for (let i = upgradesInfo.maxActive; i < specialHTML.longestUpgrade; i++) {\n        getId(`upgrade${i + 1}`).style.display = 'none';\n    }\n    for (let i = researchesInfo.maxActive; i < specialHTML.longestResearch; i++) {\n        getId(`research${i + 1}`).style.display = 'none';\n    }\n    for (let i = researchesExtraInfo.maxActive; i < specialHTML.longestResearchExtra; i++) {\n        getId(`researchExtra${i + 1}`).style.display = 'none';\n    }\n    for (let i = footerStatsHTML.length; i < specialHTML.longestFooterStats; i++) {\n        getId(`footerStat${i + 1}`).style.display = 'none';\n    }\n\n    const showU: number[] = []; //Upgrades\n    const showR: number[] = []; //Researches\n    const showE: number[] = []; //ResearchesExtra\n    const showF: number[] = []; //Footer stats\n    if (active === 1) {\n        showU.push(2, 3, 4, 5);\n        showR.push(0, 1, 2, 3, 4, 5);\n        showF.push(0, 1);\n        getId('specials').style.display = 'none';\n        getId('resetExtraFooter').style.display = 'none';\n        if (vacuum) {\n            showU.push(0, 1);\n            showE.push(0, 2);\n        } else {\n            getId('upgrade1').style.display = 'none';\n            getId('upgrade2').style.display = 'none';\n            getId('extraResearches').style.display = 'none';\n        }\n    } else if (active === 2) {\n        showU.push(0);\n        showR.push(0, 1);\n        showE.push(0, 1);\n        showF.push(0, 1);\n        getId('specials').style.display = 'none';\n        getId('resetExtraFooter').style.display = 'none';\n        if (vacuum) { getId('stageInfo').style.display = ''; }\n    } else if (active === 3) {\n        showU.push(0, 1);\n        showR.push(0, 1);\n        showE.push(0);\n        showF.push(0);\n        global.debug.rankUpdated = null;\n        getId('specials').style.display = 'none';\n        getId('resetExtraFooter').style.display = 'none';\n        getId('reset0Main').style.display = '';\n        if (vacuum) { getId('stageInfo').style.display = ''; }\n    } else if (active === 4) {\n        showU.push(0, 1, 2);\n        showR.push(0, 1, 2);\n        showE.push(0);\n        showF.push(0, 1);\n        getId('stageInfo').style.display = '';\n        getId('extraResearches').style.display = '';\n        getId('resetExtraFooter').textContent = 'Galaxy';\n    } else if (active === 5) {\n        showE.push(0);\n        showF.push(0, 1, 2);\n        getId('stageInfo').style.display = '';\n        if (vacuum) {\n            getId('building2').style.display = '';\n            showU.push(0, 1);\n            showR.push(0, 1);\n            getId('extraResearches').style.display = '';\n            getId('special3').style.display = 'none';\n        } else {\n            getId('reset0Button').textContent = 'Requires 22 Galaxies';\n            getId('specials').style.display = 'none';\n        }\n        setRemnants();\n        getId('resetExtraFooter').textContent = 'Collapse';\n    } else if (active === 6) {\n        showF.push(0);\n        getId('stageInfo').style.display = '';\n        getId('autoWaitMain').style.display = '';\n        getId('specials').style.display = 'none';\n        if (vacuum) {\n            showU.push(0);\n            showR.push(0);\n            showE.push(0, 1, 2, 3, 4);\n        } else {\n            getId('reset0Main').style.display = 'none';\n            getId('extraResearches').style.display = 'none';\n        }\n        getId('resetExtraFooter').textContent = 'Merge';\n    }\n    getId('buildings').style.display = '';\n    getId('building1').style.display = '';\n    getId('upgrades').style.display = '';\n    getId('stageResearches').style.display = '';\n    (getId('autoWaitInput') as HTMLInputElement).value = format(player.toggles.shop.wait[active], { type: 'input' });\n    resetMinSizes(false);\n\n    const buildingHTML = specialHTML.buildingHTML[active];\n    const buildingName = buildingsInfo.name[active];\n    const buildingType = buildingsInfo.type[active];\n    const buildingHoverText = buildingsInfo.hoverText[active];\n    for (let i = 1; i < buildingsInfo.maxActive[active]; i++) {\n        (getQuery(`#building${i} > img`) as HTMLImageElement).src = `Used_art/${buildingHTML[i - 1]}`;\n        getQuery(`#building${i}Stats > h4`).textContent = buildingName[i];\n        getId(`building${i}Name`).textContent = buildingName[i];\n        getQuery(`#building${i}ProdDiv > span`).textContent = buildingType[i - 1];\n        getId(`building${i}ProdDiv`).dataset.title = buildingHoverText[i - 1];\n        toggleSwap(i, 'buildings');\n    }\n    getQuery('#building0Stats > h4').textContent = buildingName[0];\n\n    const upgradeHTML = specialHTML.upgradeHTML[active];\n    for (let i = 0; i < upgradesInfo.maxActive; i++) {\n        const image = getId(`upgrade${i + 1}`) as HTMLInputElement;\n        if (showU.includes(i)) { image.style.display = ''; }\n        image.src = `Used_art/${upgradeHTML[i]}`;\n        image.alt = upgradesInfo.name[i];\n    }\n\n    const researchHTML = specialHTML.researchHTML[active];\n    for (let i = 0; i < researchesInfo.maxActive; i++) {\n        const main = getId(`research${i + 1}`);\n        if (showR.includes(i)) { main.style.display = ''; }\n        main.className = researchHTML[i][1];\n        const image = getQuery(`#research${i + 1} > input`) as HTMLInputElement;\n        image.src = `Used_art/${researchHTML[i][0]}`;\n        image.alt = researchesInfo.name[i];\n    }\n\n    const researchExtraHTML = specialHTML.researchExtraHTML[active];\n    for (let i = 0; i < researchesExtraInfo.maxActive; i++) {\n        const main = getId(`researchExtra${i + 1}`);\n        if (showE.includes(i)) { main.style.display = ''; }\n        main.className = researchExtraHTML[i][1];\n        const image = getQuery(`#researchExtra${i + 1} > input`) as HTMLInputElement;\n        image.src = `Used_art/${researchExtraHTML[i][0]}`;\n        image.alt = researchesExtraInfo.name[i];\n    }\n    getQuery('#extraResearches > div').className = `researchesDiv ${researchExtraDivHTML[1]}`;\n    const extraImgId = getQuery('#extraResearches > img') as HTMLImageElement;\n    extraImgId.src = `Used_art/${researchExtraDivHTML[0]}`;\n    extraImgId.dataset.title = `${researchExtraDivHTML[2]} Researches (Special)`;\n\n    for (let i = 0; i < footerStatsHTML.length; i++) {\n        if (showF.includes(i)) { getId(`footerStat${i + 1}`).style.display = ''; }\n        (getQuery(`#footerStat${i + 1} > img`) as HTMLImageElement).src = `Used_art/${footerStatsHTML[i][0]}`;\n        getQuery(`#footerStat${i + 1} > p`).className = footerStatsHTML[i][1];\n        getQuery(`#footerStat${i + 1} span`).textContent = footerStatsHTML[i][2];\n    }\n    getId('reset0Footer').textContent = specialHTML.resetHTML[active];\n\n    const bodyStyle = document.documentElement.style;\n    bodyStyle.setProperty('--stage-text', `var(--${stageInfo.textColor[active]}-text)`);\n    bodyStyle.setProperty('--stage-subtext', `var(--${stageInfo.textColor[active === 6 ? 3 : active]}-text)`);\n    bodyStyle.setProperty('--stage-button-border', stageInfo.buttonBorder[active]);\n    bodyStyle.setProperty('--stage-image-borderColor', stageInfo.imageBorderColor[active]);\n    bodyStyle.setProperty('--image-border', `url(\"Used_art/Stage${active} border.png\")`);\n\n    visualUpdate(ignoreOffline);\n    numbersUpdate(ignoreOffline);\n    if (globalSave.theme === null) { setTheme(); }\n};\n", "import { global, player } from './Player';\nimport { checkTab } from './Check';\nimport { numbersUpdate, switchTab, visualUpdate } from './Update';\nimport { buyBuilding, buyUpgrades, buyVerse, collapseResetUser, dischargeResetUser, endResetUser, enterExitChallengeUser, mergeResetUser, nucleationResetUser, rankResetUser, stageResetUser, switchStage, toggleSupervoid, vaporizationResetUser } from './Stage';\nimport { pauseGameUser, playerStart, simulateOffline, toggleSwap } from './Main';\nimport { Notify, globalSave, specialHTML } from './Special';\nimport type { hotkeysList, numbersList } from './Types';\n\nconst hotkeys = {} as Record<string, hotkeysList | numbersList>;\nconst basicFunctions: Record<hotkeysList, () => void> = {\n    makeAll: () => buyAll(),\n    toggleAll: () => {\n        if (global.hotkeys.last === 'toggleAll') { return; }\n        global.hotkeys.last = 'toggleAll';\n        toggleAll();\n    },\n    createAll: () => createAll(),\n    toggleUpgrades: () => {\n        if (global.hotkeys.last === 'toggleU') { return; }\n        global.hotkeys.last = 'toggleU';\n        let anyOn = false;\n        for (let i = 5; i <= 8; i++) {\n            if (player.toggles.auto[i]) {\n                anyOn = true;\n                break;\n            }\n        }\n        for (let i = 5; i <= 8; i++) {\n            player.toggles.auto[i] = !anyOn;\n            toggleSwap(i, 'auto');\n        }\n    },\n    discharge: () => void dischargeResetUser(),\n    toggleDischarge: () => {\n        if (global.hotkeys.last === 'toggle1') { return; }\n        global.hotkeys.last = 'toggle1';\n        toggleSwap(1, 'auto', true);\n    },\n    vaporization: () => {\n        if (global.hotkeys.last === 'reset2') { return; }\n        global.hotkeys.last = 'reset2';\n        void vaporizationResetUser();\n    },\n    toggleVaporization: () => {\n        if (global.hotkeys.last === 'toggle2') { return; }\n        global.hotkeys.last = 'toggle2';\n        toggleSwap(2, 'auto', true);\n    },\n    rank: () => void rankResetUser(),\n    toggleRank: () => {\n        if (global.hotkeys.last === 'toggle3') { return; }\n        global.hotkeys.last = 'toggle3';\n        toggleSwap(3, 'auto', true);\n    },\n    collapse: () => {\n        if (global.hotkeys.last === 'reset4') { return; }\n        global.hotkeys.last = 'reset4';\n        void collapseResetUser();\n    },\n    toggleCollapse: () => {\n        if (global.hotkeys.last === 'toggle4') { return; }\n        global.hotkeys.last = 'toggle4';\n        toggleSwap(4, 'auto', true);\n    },\n    galaxy: () => buyBuilding(3, 5),\n    merge: () => {\n        if (global.hotkeys.last === 'reset5') { return; }\n        global.hotkeys.last = 'reset5';\n        void mergeResetUser();\n    },\n    toggleMerge: () => {\n        if (global.hotkeys.last === 'toggle9') { return; }\n        global.hotkeys.last = 'toggle9';\n        toggleSwap(9, 'auto', true);\n    },\n    nucleation: () => {\n        if (global.hotkeys.last === 'reset6') { return; }\n        global.hotkeys.last = 'reset6';\n        void nucleationResetUser();\n    },\n    toggleNucleation: () => {\n        if (global.hotkeys.last === 'toggle10') { return; }\n        global.hotkeys.last = 'toggle10';\n        toggleSwap(10, 'auto', true);\n    },\n    stage: () => {\n        if (player.inflation.vacuum || player.stage.active >= 4) {\n            if (global.hotkeys.last === 'reset0') { return; }\n            global.hotkeys.last = 'reset0';\n        }\n        void stageResetUser();\n    },\n    toggleStage: () => {\n        if (global.hotkeys.last === 'toggle0') { return; }\n        global.hotkeys.last = 'toggle0';\n        toggleSwap(0, 'auto', true);\n    },\n    verses: () => {\n        for (let i = 0; i < playerStart.verses.length; i++) { buyVerse(i); }\n    },\n    end: () => void endResetUser(),\n    exitChallenge: () => {\n        if (global.hotkeys.last === 'exit') { return; }\n        global.hotkeys.last = 'exit';\n        enterExitChallengeUser(null);\n    },\n    supervoid: () => {\n        if (global.hotkeys.last === 'super') { return; }\n        global.hotkeys.last = 'super';\n        const old = player.challenges.super;\n        toggleSupervoid(true);\n        if (old !== player.challenges.super) { Notify(`Toggled into the ${player.challenges.super ? 'Supervoid' : 'Void'}`); }\n    },\n    warp: () => offlineWarp(),\n    pause: () => {\n        if (global.hotkeys.last === 'pause') { return; }\n        global.hotkeys.last = 'pause';\n        pauseGameUser();\n    },\n    tabRight: () => {\n        if (global.hotkeys.last === 'tabRight') { return; }\n        global.hotkeys.last = 'tabRight';\n        changeTab('right');\n    },\n    tabLeft: () => {\n        if (global.hotkeys.last === 'tabLeft') { return; }\n        global.hotkeys.last = 'tabLeft';\n        changeTab('left');\n    },\n    subtabUp: () => {\n        if (global.hotkeys.last === 'subtabUp') { return; }\n        global.hotkeys.last = 'subtabUp';\n        changeSubtab('up');\n    },\n    subtabDown: () => {\n        if (global.hotkeys.last === 'subtabDown') { return; }\n        global.hotkeys.last = 'subtabDown';\n        changeSubtab('down');\n    },\n    stageRight: () => {\n        if (global.hotkeys.last === 'stageRight') { return; }\n        global.hotkeys.last = 'stageRight';\n        changeStage('right');\n    },\n    stageLeft: () => {\n        if (global.hotkeys.last === 'stageLeft') { return; }\n        global.hotkeys.last = 'stageLeft';\n        changeStage('left');\n    }\n};\nconst numberFunctions: Record<numbersList, (number: number) => void> = {\n    makeStructure: (number) => {\n        if (number !== 0) {\n            buyBuilding(number, player.stage.active);\n        } else { buyAll(); }\n    },\n    toggleStructure: (number) => {\n        const repeat = `build${number}`;\n        if (global.hotkeys.last === repeat) { return; }\n        global.hotkeys.last = repeat;\n        if (number === 0) {\n            toggleAll();\n        } else {\n            if (number < playerStart.buildings[player.stage.active].length) { toggleSwap(number, 'buildings', true); }\n        }\n    },\n    enterChallenge: (number) => {\n        const repeat = `chal${number}`;\n        if (global.hotkeys.last === repeat) { return; }\n        global.hotkeys.last = repeat;\n        if (number !== 0) {\n            enterExitChallengeUser(number - 1);\n        } else { enterExitChallengeUser(null); }\n    }\n};\n\n/** Will remove identical hotkeys from globalSave */\nexport const assignHotkeys = () => {\n    for (const key in hotkeys) { delete hotkeys[key]; } //Don't know better way for now\n    const index = globalSave.toggles[0] ? 0 : 1;\n    for (const key in globalSave.hotkeys) {\n        const hotkey = globalSave.hotkeys[key as hotkeysList][index];\n        if (hotkey === 'None') { continue; }\n        if (hotkeys[hotkey] !== undefined) {\n            globalSave.hotkeys[key as hotkeysList] = ['None', 'None'];\n        } else { hotkeys[hotkey] = key as hotkeysList; }\n    }\n    for (const key in globalSave.numbers) {\n        const hotkey = globalSave.numbers[key as numbersList];\n        if (hotkey === 'None') { continue; }\n        if (hotkeys[hotkey] !== undefined) {\n            globalSave.numbers[key as numbersList] = 'None';\n        } else { hotkeys[hotkey] = key as numbersList; }\n    }\n};\n\n/** Removes hotkey if exist, returns name of removed hotkey */\nexport const removeHotkey = (remove: string, number = false): string | null => {\n    const test = hotkeys[remove];\n    if (test === undefined) { return null; }\n    if (number) {\n        globalSave.numbers[test as numbersList] = 'None';\n    } else {\n        globalSave.hotkeys[test as hotkeysList] = ['None', 'None'];\n    }\n    return test;\n};\n\n/** Returns true if only Shift is holded, false if nothing is holded, null if any of Ctrl/Alt/Meta is holded */\nexport const detectShift = (check: KeyboardEvent): boolean | null => {\n    if (check.metaKey || check.ctrlKey || check.altKey) { return null; }\n    return check.shiftKey;\n};\n\nexport const detectHotkey = (check: KeyboardEvent) => {\n    const { key, code } = check;\n    const info = global.hotkeys;\n    if (check.shiftKey && !info.shift) {\n        info.shift = true;\n        numbersUpdate();\n    }\n    if (check.ctrlKey && !info.ctrl) {\n        info.ctrl = true;\n        numbersUpdate();\n    }\n    if (code === 'Tab' || code === 'Enter' || code === 'Space') {\n        if (detectShift(check) === null) { return; }\n        if (code === 'Tab') { info.tab = true; }\n        document.documentElement.classList.remove('noFocusOutline');\n        return;\n    } else {\n        const activeType = (document.activeElement as HTMLInputElement)?.type;\n        if (activeType === 'text' || activeType === 'number') { return; }\n        document.documentElement.classList.add('noFocusOutline');\n    }\n    if (info.disabled) { return; }\n\n    if (code === 'Escape') {\n        if (detectShift(check) === null || specialHTML.alert[0] !== null || specialHTML.bigWindow !== null) { return; }\n        const notifications = specialHTML.notifications;\n        if (check.shiftKey) {\n            if (globalSave.developerMode || notifications[0] === undefined) { return; }\n            notifications[0][1](true);\n        } else {\n            for (let i = notifications.length - 1; i >= 0; i--) { notifications[i][1](true); }\n        }\n        check.preventDefault();\n        return;\n    } else if (check.metaKey) { return; }\n\n    const number = code.includes('Digit') || code.includes('Numpad');\n    let prefix = check.ctrlKey ? 'Ctrl ' : '';\n    if (check.shiftKey) { prefix += 'Shift '; }\n    if (check.altKey) { prefix += 'Alt '; }\n    const functionTest = basicFunctions[hotkeys[prefix + (number ?\n        code.replace('Digit', '').replace('Numpad', 'Num ') : globalSave.toggles[0] ?\n            (key.length === 1 ? key.toUpperCase() : key.replaceAll(/([A-Z]+)/g, ' $1').trimStart()) :\n            (key.length === 1 ? code.replace('Key', '') : code.replaceAll(/([A-Z]+)/g, ' $1').trimStart()))\n    ] as hotkeysList];\n    if (functionTest !== undefined) {\n        functionTest();\n        check.preventDefault();\n    } else if (number) {\n        const functionTest = numberFunctions[hotkeys[prefix + (code.includes('Numpad') ? 'Numpad' : 'Numbers')] as numbersList];\n        if (functionTest !== undefined) {\n            functionTest(Number(code.replace('Digit', '').replace('Numpad', '')));\n            check.preventDefault();\n        }\n    }\n};\n\nexport const buyAll = () => {\n    const active = player.stage.active;\n    const max = global.buildingsInfo.maxActive[active];\n    const howMany = global.hotkeys.shift ? (global.hotkeys.ctrl ? 100 : 1) : global.hotkeys.ctrl ? 10 : 0;\n    if (active === 3) {\n        for (let i = 1; i < max; i++) { buyBuilding(i, active, howMany); }\n    } else {\n        for (let i = max - 1; i >= 1; i--) { buyBuilding(i, active, howMany); }\n    }\n};\nexport const createAll = () => {\n    const active = player.stage.active;\n    for (let i = 0; i < global.upgradesInfo[active].maxActive; i++) { buyUpgrades(i, active, 'upgrades'); }\n    for (let i = 0; i < global.researchesInfo[active].maxActive; i++) { buyUpgrades(i, active, 'researches'); }\n    for (let i = 0; i < global.researchesExtraInfo[active].maxActive; i++) { buyUpgrades(i, active, 'researchesExtra'); }\n    if (active === 4 || active === 5) {\n        for (let i = 1; i < global.elementsInfo.maxActive; i++) { buyUpgrades(i, 4, 'elements'); }\n    }\n};\nexport const toggleAll = () => {\n    const active = player.stage.active;\n    const toggles = player.toggles.buildings[active];\n\n    let anyOn = false;\n    for (let i = 1; i <= Math.min(Math.max(player.ASR[active], 1), global.buildingsInfo.maxActive[active] - 1); i++) {\n        if (toggles[i]) {\n            anyOn = true;\n            break;\n        }\n    }\n    for (let i = 1; i < global.buildingsInfo.maxActive[active]; i++) {\n        toggles[i] = !anyOn;\n        toggleSwap(i, 'buildings');\n    }\n    visualUpdate();\n};\n\nexport const offlineWarp = () => {\n    const required = 60_000 * (7 - player.tree[0][5]);\n    if (global.offline.active || player.time.offline < required) { return; }\n    if (player.tree[0][5] < 1) { return Notify(\"'Improved Offline' has to be at least level 1\"); }\n    player.time.offline -= required;\n    void simulateOffline(60_000, true);\n};\n\nconst changeTab = (direction: 'left' | 'right') => {\n    const tabs = global.tabs.list;\n    let index = tabs.indexOf(global.tabs.current);\n\n    if (direction === 'left') {\n        do {\n            if (index <= 0) {\n                index = tabs.length - 1;\n            } else { index--; }\n        } while (!checkTab(tabs[index]));\n    } else {\n        do {\n            if (index >= tabs.length - 1) {\n                index = 0;\n            } else { index++; }\n        } while (!checkTab(tabs[index]));\n    }\n    switchTab(tabs[index]);\n};\n\n/** Through a hotkey */\nexport const changeSubtab = (direction: 'down' | 'up') => {\n    const tab = global.tabs.current;\n    const subtabs = global.tabs[tab].list;\n    if (subtabs.length < 2) { return; } //Required\n    let index = subtabs.indexOf(global.tabs[tab].current);\n\n    if (direction === 'down') {\n        do {\n            if (index <= 0) {\n                index = subtabs.length - 1;\n            } else { index--; }\n        } while (!checkTab(tab, subtabs[index]));\n    } else {\n        do {\n            if (index >= subtabs.length - 1) {\n                index = 0;\n            } else { index++; }\n        } while (!checkTab(tab, subtabs[index]));\n    }\n    switchTab(tab, subtabs[index]);\n};\n\nconst changeStage = (direction: 'left' | 'right') => {\n    const activeAll = global.stageInfo.activeAll;\n    if (activeAll.length === 1) { return; }\n    let index = activeAll.indexOf(player.stage.active);\n\n    if (direction === 'left') {\n        if (index <= 0) {\n            index = activeAll.length - 1;\n        } else { index--; }\n    } else {\n        if (index >= activeAll.length - 1) {\n            index = 0;\n        } else { index++; }\n    }\n    switchStage(activeAll[index]);\n};\n\n/* preventDefault should not be used here */\nexport const handleTouchHotkeys = (event: TouchEvent) => {\n    if (global.hotkeys.disabled) { return; }\n    const horizontal = event.changedTouches[0].clientX - specialHTML.mobileDevice.start[0];\n    const vertical = event.changedTouches[0].clientY - specialHTML.mobileDevice.start[1];\n\n    const horizontalAbs = Math.abs(horizontal);\n    if (horizontalAbs < 100) { return; }\n    if (Math.abs(vertical) >= 100) {\n        changeSubtab(vertical > 0 ? 'up' : 'down');\n    } else if (horizontalAbs >= 250) {\n        changeStage(horizontal > 0 ? 'left' : 'right');\n    } else {\n        changeTab(horizontal > 0 ? 'left' : 'right');\n    }\n};\n", "import { assignHotkeys, detectShift, removeHotkey } from './Hotkeys';\nimport { deepClone, getId, getQuery, globalSaveStart, pauseGame } from './Main';\nimport { global, player } from './Player';\nimport { assignResetInformation, setActiveStage } from './Stage';\nimport type { globalSaveType, hotkeysList, numbersList } from './Types';\nimport { format, stageUpdate, switchTab, visualProggressUnlocks, visualUpdate } from './Update';\n\nexport const globalSave: globalSaveType = {\n    intervals: {\n        numbers: 80,\n        visual: 800,\n        autoSave: 20000\n    },\n    hotkeys: {\n        makeAll: ['M', 'M'],\n        toggleAll: ['Shift A', 'Shift A'],\n        createAll: ['U', 'U'],\n        toggleUpgrades: ['None', 'None'],\n        discharge: ['D', 'D'],\n        toggleDischarge: ['None', 'None'],\n        vaporization: ['V', 'V'],\n        toggleVaporization: ['None', 'None'],\n        rank: ['R', 'R'],\n        toggleRank: ['None', 'None'],\n        collapse: ['C', 'C'],\n        toggleCollapse: ['None', 'None'],\n        galaxy: ['G', 'G'],\n        merge: ['Shift M', 'Shift M'],\n        toggleMerge: ['None', 'None'],\n        nucleation: ['N', 'N'],\n        toggleNucleation: ['None', 'None'],\n        stage: ['S', 'S'],\n        toggleStage: ['None', 'None'],\n        verses: ['Shift V', 'Shift V'],\n        end: ['Shift B', 'Shift B'],\n        exitChallenge: ['Shift E', 'Shift E'],\n        supervoid: ['Shift S', 'Shift S'],\n        warp: ['Shift W', 'Shift W'],\n        pause: ['P', 'P'],\n        tabRight: ['Arrow Right', 'Arrow Right'],\n        tabLeft: ['Arrow Left', 'Arrow Left'],\n        subtabUp: ['Arrow Up', 'Arrow Up'],\n        subtabDown: ['Arrow Down', 'Arrow Down'],\n        stageRight: ['Shift Arrow Right', 'Shift Arrow Right'],\n        stageLeft: ['Shift Arrow Left', 'Shift Arrow Left']\n    },\n    numbers: {\n        makeStructure: 'Numbers',\n        toggleStructure: 'Numpad',\n        enterChallenge: 'Shift Numbers'\n    },\n    toggles: [false, false, false, false, false, false, true, true, false],\n    format: ['.', ''],\n    theme: null,\n    fontSize: 16,\n    MDSettings: [false, false, false],\n    SRSettings: [false, false],\n    developerMode: false\n};\n\nexport const saveGlobalSettings = (noSaving = false): string => {\n    const hotkeysClone = deepClone(globalSave.hotkeys);\n    const encoder = new TextEncoder();\n    for (const key in hotkeysClone) {\n        const array = hotkeysClone[key as hotkeysList];\n        for (let i = 0; i < array.length; i++) {\n            array[i] = String.fromCharCode(...encoder.encode(array[i]));\n        }\n    }\n    const clone = { ...globalSave };\n    clone.hotkeys = hotkeysClone;\n    const save = btoa(JSON.stringify(clone));\n    if (!noSaving) { localStorage.setItem(specialHTML.localStorage.settings, save); }\n    return save;\n};\n\nexport const toggleSpecial = (number: number, type: 'global' | 'mobile' | 'reader', change = false, reload = false) => {\n    let toggles;\n    if (type === 'mobile') {\n        toggles = globalSave.MDSettings;\n    } else if (type === 'reader') {\n        toggles = globalSave.SRSettings;\n    } else {\n        toggles = globalSave.toggles;\n    }\n\n    if (change) {\n        if (reload) {\n            return void (async() => {\n                if (!await Confirm('Changing this setting will reload the page, confirm?\\n(Game will not autosave)')) { return; }\n                pauseGame();\n                toggles[number] = !toggles[number];\n                saveGlobalSettings();\n                window.location.reload();\n                void Alert('Awaiting game reload');\n            })();\n        } else {\n            toggles[number] = !toggles[number];\n            saveGlobalSettings();\n        }\n    }\n\n    let toggleHTML;\n    if (type === 'mobile') {\n        toggleHTML = getId(`MDToggle${number}`);\n    } else if (type === 'reader') {\n        toggleHTML = getId(`SRToggle${number}`);\n    } else {\n        toggleHTML = getId(`globalToggle${number}`);\n    }\n\n    if (!toggles[number]) {\n        toggleHTML.style.color = 'var(--green-text)';\n        toggleHTML.style.borderColor = 'forestgreen';\n        toggleHTML.textContent = 'OFF';\n    } else {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n        toggleHTML.textContent = 'ON';\n    }\n};\n\nexport const specialHTML = { //Images here are from true vacuum for easier cache\n    /** [textContent] */\n    resetHTML: ['', 'Discharge', 'Vaporization', 'Rank', 'Collapse', 'Merge', 'Nucleation'],\n    longestBuilding: 7, //+1\n    /** [src] */\n    buildingHTML: [\n        [],\n        ['Preon.png', 'Quarks.png', 'Particle.png', 'Atom.png', 'Molecule.png'],\n        ['Drop.png', 'Puddle.png', 'Pond.png', 'Lake.png', 'Sea.png', 'Ocean.png'],\n        ['Cosmic%20dust.png', 'Planetesimal.png', 'Protoplanet.png', 'Natural%20satellite.png', 'Subsatellite.png'],\n        ['Brown%20dwarf.png', 'Orange%20dwarf.png', 'Red%20supergiant.png', 'Blue%20hypergiant.png', 'Quasi%20star.png'],\n        ['Nebula.png', 'Star%20cluster.png', 'Galaxy.png'],\n        ['Dark%20planet.png']\n    ],\n    longestUpgrade: 14,\n    /** [src] */\n    upgradeHTML: [\n        [], [\n            'UpgradeQ1.png',\n            'UpgradeQ2.png',\n            'UpgradeQ3.png',\n            'UpgradeQ4.png',\n            'UpgradeQ5.png',\n            'UpgradeQ6.png',\n            'UpgradeQ7.png',\n            'UpgradeQ8.png',\n            'UpgradeQ9.png',\n            'UpgradeQ10.png',\n            'UpgradeQ11.png'\n        ], [\n            'UpgradeW1.png',\n            'UpgradeW2.png',\n            'UpgradeW3.png',\n            'UpgradeW4.png',\n            'UpgradeW5.png',\n            'UpgradeW6.png',\n            'UpgradeW7.png',\n            'UpgradeW8.png',\n            'UpgradeW9.png'\n        ], [\n            'UpgradeA1.png',\n            'UpgradeA2.png',\n            'UpgradeA3.png',\n            'UpgradeA4.png',\n            'UpgradeA5.png',\n            'UpgradeA6.png',\n            'UpgradeA7.png',\n            'UpgradeA8.png',\n            'UpgradeA9.png',\n            'UpgradeA10.png',\n            'UpgradeA11.png',\n            'UpgradeA12.png',\n            'UpgradeA13.png',\n            'UpgradeA14.png'\n        ], [\n            'UpgradeS1.png',\n            'UpgradeS2.png',\n            'UpgradeS3.png',\n            'UpgradeS4.png',\n            'UpgradeS5.png',\n            'Missing.png'\n        ], [\n            'UpgradeG1.png',\n            'UpgradeG2.png',\n            'UpgradeG3.png',\n            'UpgradeG4.png',\n            'UpgradeG5.png',\n            'UpgradeG6.png',\n            'UpgradeG7.png'\n        ], [\n            'UpgradeD1.png',\n            'Missing.png'\n        ]\n    ],\n    longestResearch: 9,\n    /** [src, className] */\n    researchHTML: [\n        [], [\n            ['ResearchQ1.png', 'stage1borderImage'],\n            ['ResearchQ2.png', 'stage1borderImage'],\n            ['ResearchQ3.png', 'stage1borderImage'],\n            ['ResearchQ4.png', 'stage4borderImage'],\n            ['ResearchQ5.png', 'stage4borderImage'],\n            ['ResearchQ6.png', 'stage4borderImage']\n        ], [\n            ['ResearchW1.png', 'stage2borderImage'],\n            ['ResearchW2.png', 'stage2borderImage'],\n            ['ResearchW3.png', 'stage2borderImage'],\n            ['ResearchW4.png', 'stage2borderImage'],\n            ['ResearchW5.png', 'stage2borderImage'],\n            ['ResearchW6.png', 'stage2borderImage'],\n            ['Missing.png', 'stage2borderImage']\n        ], [\n            ['ResearchA1.png', 'stage3borderImage'],\n            ['ResearchA2.png', 'stage2borderImage'],\n            ['ResearchA3.png', 'stage3borderImage'],\n            ['ResearchA4.png', 'stage3borderImage'],\n            ['ResearchA5.png', 'stage3borderImage'],\n            ['ResearchA6.png', 'stage3borderImage'],\n            ['ResearchA7.png', 'stage1borderImage'],\n            ['ResearchA8.png', 'redBorderImage'],\n            ['ResearchA9.png', 'stage1borderImage']\n        ], [\n            ['ResearchS1.png', 'stage5borderImage'],\n            ['ResearchS2.png', 'stage5borderImage'],\n            ['ResearchS3.png', 'redBorderImage'],\n            ['ResearchS4.png', 'stage5borderImage'],\n            ['ResearchS5.png', 'stage6borderImage'],\n            ['ResearchS6.png', 'stage4borderImage']\n        ], [\n            ['ResearchG1.png', 'stage1borderImage'],\n            ['ResearchG2.png', 'stage6borderImage'],\n            ['ResearchG3.png', 'stage6borderImage'],\n            ['ResearchG4.png', 'stage4borderImage'],\n            ['Missing.png', 'redBorderImage']\n        ], [\n            ['ResearchD1.png', 'stage3borderImage'],\n            ['ResearchD2.png', 'stage2borderImage'],\n            ['ResearchD3.png', 'stage3borderImage'],\n            ['ResearchD4.png', 'stage3borderImage']\n        ]\n    ],\n    longestResearchExtra: 6,\n    /** [src, className, hoverText] */\n    researchExtraDivHTML: [\n        [],\n        ['Energy%20Researches.png', 'stage4borderImage', 'Energy'],\n        ['Cloud%20Researches.png', 'stage2borderImage', 'Clouds'],\n        ['Rank%20Researches.png', 'stage6borderImage', 'Rank'],\n        ['Collapse%20Researches.png', 'stage6borderImage', 'Collapse'],\n        ['Galaxy%20Researches.png', 'stage3borderImage', 'Galaxy'],\n        ['Dark%20energy%20Researches.png', 'stage3borderImage', 'Dark energy']\n    ],\n    /** [src, className] */\n    researchExtraHTML: [\n        [], [\n            ['ResearchEnergy1.png', 'stage1borderImage'],\n            ['ResearchEnergy2.png', 'stage5borderImage'],\n            ['ResearchEnergy3.png', 'stage3borderImage'],\n            ['ResearchEnergy4.png', 'stage1borderImage'],\n            ['ResearchEnergy5.png', 'stage6borderImage'],\n            ['ResearchEnergy6.png', 'stage1borderImage']\n        ], [\n            ['ResearchClouds1.png', 'stage3borderImage'],\n            ['ResearchClouds2.png', 'stage2borderImage'],\n            ['ResearchClouds3.png', 'stage4borderImage'],\n            ['ResearchClouds4.png', 'stage2borderImage'],\n            ['ResearchClouds5.png', 'stage2borderImage']\n        ], [\n            ['ResearchRank1.png', 'stage3borderImage'],\n            ['ResearchRank2.png', 'stage3borderImage'],\n            ['ResearchRank3.png', 'stage3borderImage'],\n            ['ResearchRank4.png', 'stage2borderImage'],\n            ['ResearchRank5.png', 'stage2borderImage'],\n            ['ResearchRank6.png', 'stage6borderImage']\n        ], [\n            ['ResearchCollapse1.png', 'stage6borderImage'],\n            ['ResearchCollapse2.png', 'redBorderImage'],\n            ['ResearchCollapse3.png', 'stage1borderImage'],\n            ['ResearchCollapse4.png', 'stage6borderImage'],\n            ['Missing.png', 'redBorderImage']\n        ], [\n            ['ResearchGalaxy1.png', 'stage3borderImage'],\n            ['ResearchGalaxy2.png', 'brownBorderImage'],\n            ['ResearchGalaxy3.png', 'stage3borderImage'],\n            ['ResearchGalaxy4.png', 'brownBorderImage'],\n            ['Missing.png', 'redBorderImage'],\n            ['Missing.png', 'redBorderImage']\n        ], [\n            ['ResearchDark1.png', 'stage3borderImage'],\n            ['ResearchDark2.png', 'stage6borderImage'],\n            ['ResearchDark3.png', 'stage3borderImage'],\n            ['ResearchDark4.png', 'stage3borderImage'],\n            ['ResearchDark5.png', 'stage6borderImage']\n        ]\n    ],\n    longestFooterStats: 3,\n    /** [src, className, textcontent] */\n    footerStatsHTML: [\n        [], [\n            ['Energy%20mass.png', 'stage1borderImage cyanText', 'Mass'],\n            ['Energy.png', 'stage4borderImage orangeText', 'Energy']\n        ], [\n            ['Water.png', 'stage2borderImage blueText', 'Moles'],\n            ['Drop.png', 'stage2borderImage blueText', 'Drops'],\n            ['Clouds.png', 'stage3borderImage grayText', 'Clouds']\n        ], [\n            ['Mass.png', 'stage3borderImage grayText', 'Mass']\n        ], [\n            ['Elements.png', 'stage4borderImage orangeText', 'Stardust'],\n            ['Main_sequence%20mass.png', 'stage1borderImage cyanText', 'Mass']\n        ], [\n            ['Elements.png', 'stage4borderImage orangeText', 'Stardust'],\n            ['Main_sequence%20mass.png', 'stage1borderImage cyanText', 'Mass'],\n            ['Stars.png', 'redBorderImage redText', 'Stars']\n        ], [\n            ['Dark%20matter.png', 'stage3borderImage grayText', 'Matter'],\n            ['Dark%20energy.png', 'stage3borderImage grayText', 'Energy'],\n            ['Dark%20fluid.png', 'stage6borderImage darkvioletText', 'Fluid']\n        ]\n    ],\n    mobileDevice: { //All browsers that I tested didn't properly detected more than 1 touch\n        /** [X, Y] */\n        start: [0, 0]\n    },\n    localStorage: {\n        /** Index for game's primary save slot */\n        main: 'testing_save',\n        /** Index for global game settings */\n        settings: 'fundamentalSettings'\n    },\n    cache: {\n        imagesDiv: document.createElement('div'), //Saved just in case\n        /** Lazy way to optimize HTML, without it can't properly detect changes */\n        innerHTML: new Map<string | HTMLElement, any>(),\n        idMap: new Map<string, HTMLElement>(),\n        classMap: new Map<string, HTMLCollectionOf<HTMLElement>>(),\n        queryMap: new Map<string, HTMLElement>()\n    },\n    errorCooldowns: [] as string[],\n    /** [text, true ? incrementFunc : closeFunc] */\n    notifications: [] as Array<[string, (instantClose?: boolean) => void]>,\n    /** [priority, closeFunc] */\n    alert: [null, null] as [number | null, (() => void) | null],\n    /** Function to update current hover text */\n    hoverText: null as null | (() => void),\n    bigWindow: null as 'version' | 'hotkeys' | null,\n    styleSheet: document.createElement('style') //Secondary\n};\n\nexport const preventImageUnload = () => {\n    if (global.offline.active || global.paused) {\n        global.offline.cacheUpdate = true;\n        return;\n    }\n    const { footerStatsHTML: footer, buildingHTML: build, upgradeHTML: upgrade, researchHTML: research, researchExtraHTML: extra, researchExtraDivHTML: extraDiv } = specialHTML;\n\n    let images = '';\n    for (let s = 1; s <= 6; s++) {\n        for (let i = 0; i < footer[s].length; i++) {\n            if (s === 2) {\n                if (i === 1) { continue; } //Drops\n            } else if (s === 5 && i < 2) { continue; } //Solar mass and Stardust\n            images += `<img src=\"Used_art/${footer[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < build[s].length; i++) {\n            images += `<img src=\"Used_art/${build[s][i]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < upgrade[s].length; i++) {\n            images += `<img src=\"Used_art/${upgrade[s][i]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < research[s].length; i++) {\n            images += `<img src=\"Used_art/${research[s][i][0]}\" loading=\"lazy\">`;\n        }\n        for (let i = 0; i < extra[s].length; i++) {\n            images += `<img src=\"Used_art/${extra[s][i][0]}\" loading=\"lazy\">`;\n        }\n        images += `<img src=\"Used_art/${extraDiv[s][0]}\" loading=\"lazy\">`;\n        images += `<img src=\"Used_art/Stage${s}%20border.png\" loading=\"lazy\">`;\n    }\n    for (const text of global.accretionInfo.rankImage) { //Already cached in Accretion stats, this only refreshes it\n        images += `<img src=\"Used_art/${text}\" loading=\"lazy\">`;\n    }\n    for (const text of ['Red%20giant', 'White%20dwarf', 'Neutron%20star', 'Quark%20star', 'Galaxy%20group']) { //Galaxy%20cluster\n        images += `<img src=\"Used_art/${text}.png\" loading=\"lazy\">`;\n    }\n    specialHTML.cache.imagesDiv.innerHTML = images;\n\n    setTimeout(preventImageUnload, 3600_000);\n};\n\n/** Not providing value for 'theme' will make it use one from globalSave and remove all checks */\nexport const setTheme = (theme = 'current' as 'current' | number | null) => {\n    if (theme !== 'current') {\n        getId(`switchTheme${globalSave.theme ?? 0}`).style.textDecoration = '';\n\n        globalSave.theme = theme;\n        saveGlobalSettings();\n        getId('currentTheme').textContent = theme === null ? 'Default' : global.stageInfo.word[theme];\n        getId(`switchTheme${theme ?? 0}`).style.textDecoration = 'underline';\n    } else { theme = globalSave.theme; }\n\n    const upgradeTypes = ['upgrade', 'element'];\n    const properties = {\n        '--background-color': '#030012',\n        '--window-color': '#12121c',\n        '--window-border': 'cornflowerblue',\n        '--footer-color': 'darkblue',\n        '--button-color': 'mediumblue',\n        '--button-border': 'darkcyan',\n        '--button-hover': '#2626ff',\n        '--building-afford': '#a90000',\n        '--tab-active': '#8b00c5',\n        '--tab-elements': '#9f6700',\n        '--tab-strangeness': '#00b100',\n        '--tab-inflation': '#6c1ad1',\n        '--hollow-hover': '#170089',\n        '--footerButton-hover': '#181818',\n        '--input-border': '#831aa5',\n        '--input-text': '#cf71ff',\n        '--button-text': '#e3e3e3',\n        '--main-text': 'var(--cyan-text)',\n        '--white-text': 'white',\n        //'--cyan-text': '#03d3d3',\n        '--blue-text': 'dodgerblue',\n        '--orange-text': 'darkorange',\n        '--gray-text': '#8f8f8f',\n        '--orchid-text': '#e14bdb',\n        '--darkorchid-text': '#bd24ef',\n        '--darkviolet-text': '#8b3cec',\n        //'--brown-text': '#9b7346',\n        '--red-text': '#eb0000',\n        '--green-text': '#00e900',\n        '--yellow-text': '#fafa00'\n    };\n\n    /* Many of these colors will need to be changed in other places (find them with quick search, there are too many of them) */\n    switch (theme ?? player.stage.active) {\n        case 1:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--darkorchid-text)';\n                getId(`${text}Effect`).style.color = 'var(--blue-text)';\n                getId(`${text}Cost`).style.color = 'var(--orange-text)';\n            }\n            properties['--tab-inflation'] = 'var(--tab-active)';\n            break;\n        case 2:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--white-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text)';\n            }\n            properties['--background-color'] = '#070026';\n            properties['--window-color'] = '#000052';\n            properties['--window-border'] = 'blue';\n            properties['--footer-color'] = '#0000db';\n            properties['--button-color'] = '#0000eb';\n            properties['--button-border'] = '#386cc7';\n            properties['--button-hover'] = '#2929ff';\n            properties['--building-afford'] = '#b30000';\n            properties['--tab-active'] = '#990000';\n            properties['--hollow-hover'] = '#2400d7';\n            properties['--input-border'] = '#4747ff';\n            properties['--input-text'] = 'dodgerblue';\n            properties['--main-text'] = 'var(--blue-text)';\n            properties['--gray-text'] = '#9b9b9b';\n            properties['--darkorchid-text'] = '#c71bff';\n            properties['--darkviolet-text'] = '#8766ff';\n            properties['--green-text'] = '#82cb3b';\n            properties['--red-text'] = '#f70000';\n            break;\n        case 3:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--orange-text)';\n                getId(`${text}Effect`).style.color = 'var(--blue-text)';\n                getId(`${text}Cost`).style.color = 'var(--green-text)';\n            }\n            properties['--background-color'] = '#000804';\n            properties['--window-color'] = '#2e1200';\n            properties['--window-border'] = '#31373e';\n            properties['--footer-color'] = '#221a00';\n            properties['--button-color'] = '#291344';\n            properties['--button-border'] = '#424242';\n            properties['--button-hover'] = '#382055';\n            properties['--building-afford'] = '#9e0000';\n            properties['--tab-active'] = '#8d4c00';\n            properties['--tab-elements'] = 'var(--tab-active)';\n            properties['--hollow-hover'] = '#5a2100';\n            properties['--footerButton-hover'] = '#1a1a1a';\n            properties['--input-border'] = '#8b4a00';\n            properties['--input-text'] = '#e77e00';\n            properties['--main-text'] = 'var(--gray-text)';\n            properties['--white-text'] = '#dfdfdf';\n            properties['--orange-text'] = '#f58600';\n            properties['--green-text'] = '#00db00';\n            break;\n        case 4:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--blue-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--cyan-text)';\n            }\n            properties['--background-color'] = '#140e04';\n            properties['--window-color'] = '#4e0000';\n            properties['--window-border'] = '#894800';\n            properties['--footer-color'] = '#4e0505';\n            properties['--button-color'] = '#6a3700';\n            properties['--button-border'] = '#a35700';\n            properties['--button-hover'] = '#8a4700';\n            properties['--building-afford'] = '#007f95';\n            properties['--tab-active'] = '#008297';\n            properties['--tab-elements'] = 'var(--tab-active)';\n            properties['--tab-strangeness'] = '#00a500';\n            properties['--hollow-hover'] = '#605100';\n            properties['--footerButton-hover'] = '#212121';\n            properties['--input-border'] = '#008399';\n            properties['--input-text'] = '#05c3c3';\n            properties['--button-text'] = '#d9d900';\n            properties['--main-text'] = 'var(--orange-text)';\n            properties['--white-text'] = '#e5e500';\n            properties['--blue-text'] = '#2e96ff';\n            properties['--gray-text'] = '#8b8b8b';\n            properties['--darkorchid-text'] = '#c71bff';\n            properties['--darkviolet-text'] = '#9457ff';\n            properties['--red-text'] = 'red';\n            properties['--green-text'] = '#00e600';\n            properties['--yellow-text'] = 'var(--green-text)';\n            break;\n        case 5:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--orange-text)';\n                getId(`${text}Effect`).style.color = 'var(--green-text)';\n                getId(`${text}Cost`).style.color = 'var(--red-text)';\n            }\n            properties['--background-color'] = '#060010';\n            properties['--window-color'] = '#001d42';\n            properties['--window-border'] = '#35466e';\n            properties['--footer-color'] = '#2f005c';\n            properties['--button-color'] = '#4a008f';\n            properties['--button-border'] = '#8f004c';\n            properties['--button-hover'] = '#6800d6';\n            properties['--building-afford'] = '#8603ff';\n            properties['--tab-active'] = '#8500ff';\n            properties['--tab-inflation'] = 'var(--tab-active)';\n            properties['--hollow-hover'] = '#3b0080';\n            properties['--footerButton-hover'] = '#1a1a1a';\n            properties['--input-border'] = '#3656a1';\n            properties['--input-text'] = '#6a88cd';\n            properties['--button-text'] = '#fc9cfc';\n            properties['--main-text'] = 'var(--darkorchid-text)';\n            properties['--white-text'] = '#ff79ff';\n            properties['--orchid-text'] = '#ff00f4';\n            properties['--darkorchid-text'] = '#c000ff';\n            properties['--darkviolet-text'] = '#8861ff';\n            properties['--yellow-text'] = 'var(--darkviolet-text)';\n            break;\n        case 6:\n            for (const text of upgradeTypes) {\n                getId(`${text}Text`).style.color = 'var(--orchid-text)';\n                getId(`${text}Effect`).style.color = 'var(--orange-text)';\n                getId(`${text}Cost`).style.color = 'var(--red-text)';\n            }\n            properties['--background-color'] = 'black';\n            properties['--window-color'] = '#01003c';\n            properties['--window-border'] = '#6500e0';\n            properties['--footer-color'] = '#00007a';\n            properties['--button-color'] = '#2b0095';\n            properties['--button-border'] = '#6c1ad1';\n            properties['--button-hover'] = '#3d00d6';\n            properties['--building-afford'] = '#b30000';\n            properties['--tab-active'] = '#8d0000';\n            properties['--tab-inflation'] = 'var(--tab-active)';\n            properties['--hollow-hover'] = '#490070';\n            properties['--input-border'] = '#a50000';\n            properties['--input-text'] = 'red';\n            properties['--button-text'] = '#bfbdff';\n            properties['--main-text'] = 'var(--darkviolet-text)';\n            properties['--white-text'] = '#aba8ff';\n            properties['--gray-text'] = '#95979d';\n            properties['--darkviolet-text'] = '#8157ff';\n            properties['--red-text'] = 'red';\n            properties['--yellow-text'] = 'var(--green-text)';\n    }\n\n    const bodyStyle = document.documentElement.style;\n    bodyStyle.setProperty('--transition-all', '500ms');\n    for (const property in properties) { bodyStyle.setProperty(property, properties[property as keyof typeof properties]); }\n\n    setTimeout(() => { bodyStyle.setProperty('--transition-all', '0ms'); }, 500);\n};\n\nexport const Alert = async(text: string, priority = 0): Promise<void> => {\n    return await new Promise((resolve) => {\n        if (specialHTML.alert[0] !== null) {\n            if (specialHTML.alert[0] < priority) {\n                (specialHTML.alert[1] as () => undefined)();\n                Notify(`Alert has been replaced with higher priority one\\nOld text: ${getId('alertText').textContent}`);\n            } else {\n                resolve();\n                Notify(`Another Alert is already active\\nMissed text: ${text}`);\n                return;\n            }\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.documentElement;\n        const blocker = getId('alertMain');\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        body.classList.remove('noTextSelection');\n        const oldFocus = document.activeElement as HTMLElement | null;\n        confirm.focus();\n\n        const key = async(event: KeyboardEvent) => {\n            const shift = detectShift(event);\n            if (shift === null) { return; }\n            const code = event.code;\n            if (code === 'Escape' || code === 'Enter' || code === 'Space') {\n                if (shift) { return; }\n                close();\n            } else if (code === 'Tab') {\n                confirm.focus();\n            } else { return; }\n            event.preventDefault();\n        };\n        const close = () => {\n            if (!globalSave.toggles[2]) { body.classList.add('noTextSelection'); }\n            blocker.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', close);\n            specialHTML.alert = [null, null];\n            oldFocus?.focus();\n            resolve();\n        };\n        specialHTML.alert = [priority, close];\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', close);\n    });\n};\n\nexport const Confirm = async(text: string, priority = 0): Promise<boolean> => {\n    return await new Promise((resolve) => {\n        if (specialHTML.alert[0] !== null) {\n            if (specialHTML.alert[0] < priority) {\n                (specialHTML.alert[1] as () => undefined)();\n                Notify(`Alert has been replaced with higher priority one\\nOld text: ${getId('alertText').textContent}`);\n            } else {\n                resolve(false);\n                Notify(`Another Alert is already active\\nMissed text: ${text}`);\n                return;\n            }\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.documentElement;\n        const blocker = getId('alertMain');\n        const cancel = getId('alertCancel');\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        cancel.style.display = '';\n        body.classList.remove('noTextSelection');\n        const oldFocus = document.activeElement as HTMLElement | null;\n        (globalSave.toggles[8] ? cancel : confirm).focus();\n\n        let result = false;\n        const yes = () => {\n            result = true;\n            close();\n        };\n        const key = (event: KeyboardEvent) => {\n            const shift = detectShift(event);\n            if (shift === null) { return; }\n            const code = event.code;\n            if (code === 'Escape') {\n                if (shift) { return; }\n                close();\n            } else if (code === 'Enter' || code === 'Space') {\n                if (shift || document.activeElement === cancel) { return; }\n                yes();\n            } else if (code === 'Tab') {\n                (document.activeElement === cancel ? confirm : cancel).focus();\n            } else { return; }\n            event.preventDefault();\n        };\n        const close = () => {\n            if (!globalSave.toggles[2]) { body.classList.add('noTextSelection'); }\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', close);\n            specialHTML.alert = [null, null];\n            oldFocus?.focus();\n            resolve(result);\n        };\n        specialHTML.alert = [priority, close];\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', close);\n    });\n};\n\nexport const Prompt = async(text: string, placeholder = '', priority = 0): Promise<string | null> => {\n    return await new Promise((resolve) => {\n        if (specialHTML.alert[0] !== null) {\n            if (specialHTML.alert[0] < priority) {\n                (specialHTML.alert[1] as () => undefined)();\n                Notify(`Alert has been replaced with higher priority one\\nOld text: ${getId('alertText').textContent}`);\n            } else {\n                resolve(null);\n                Notify(`Another Alert is already active\\nMissed text: ${text}`);\n                return;\n            }\n        }\n\n        getId('alertText').textContent = text;\n        const body = document.documentElement;\n        const blocker = getId('alertMain');\n        const input = getId('alertInput') as HTMLInputElement;\n        const cancel = getId('alertCancel');\n        const confirm = getId('alertConfirm');\n        blocker.style.display = '';\n        cancel.style.display = '';\n        input.style.display = '';\n        body.classList.remove('noTextSelection');\n        input.placeholder = placeholder;\n        input.value = '';\n        const oldFocus = document.activeElement as HTMLElement | null;\n        input.focus();\n\n        let result: null | string = null;\n        const yes = () => {\n            result = input.value === '' ? input.placeholder : input.value;\n            close();\n        };\n        const key = (event: KeyboardEvent) => {\n            const shift = detectShift(event);\n            if (shift === null) { return; }\n            const code = event.code;\n            if (code === 'Escape') {\n                if (shift) { return; }\n                close();\n            } else if (code === 'Enter' || code === 'Space') {\n                const active = document.activeElement;\n                if (shift || (code === 'Space' && active === input) || active === cancel) { return; }\n                yes();\n            } else if (code === 'Tab') {\n                const last = globalSave.toggles[8] ? confirm : cancel;\n                if (shift && document.activeElement === input) {\n                    last.focus();\n                } else if (!shift && document.activeElement === last) {\n                    input.focus();\n                } else { return; }\n            } else { return; }\n            event.preventDefault();\n        };\n        const close = () => {\n            if (!globalSave.toggles[2]) { body.classList.add('noTextSelection'); }\n            blocker.style.display = 'none';\n            cancel.style.display = 'none';\n            input.style.display = 'none';\n            body.removeEventListener('keydown', key);\n            confirm.removeEventListener('click', yes);\n            cancel.removeEventListener('click', close);\n            specialHTML.alert = [null, null];\n            oldFocus?.focus();\n            resolve(result);\n        };\n        specialHTML.alert = [priority, close];\n        body.addEventListener('keydown', key);\n        confirm.addEventListener('click', yes);\n        cancel.addEventListener('click', close);\n    });\n};\n\nexport const Notify = (text: string) => {\n    const notifications = specialHTML.notifications;\n\n    let index;\n    for (let i = 0; i < notifications.length; i++) {\n        if (notifications[i][0] === text) {\n            index = i;\n            break;\n        }\n    }\n\n    if (index === undefined) {\n        let count = 1;\n        let timeout: number;\n\n        const html = document.createElement('p');\n        html.textContent = `${text}${count > 1 ? ` | x${count}` : ''}`;\n        html.style.animation = 'hideX 800ms ease-in-out reverse';\n        html.style.pointerEvents = 'none';\n        if (globalSave.SRSettings[0]) { html.role = 'alert'; }\n        getId('notifications').append(html);\n\n        const pointer = notifications[notifications.push([text, (instantClose = false) => {\n            if (instantClose) {\n                if (html.style.animation === '') { remove(); }\n                return;\n            }\n            html.textContent = `${text} | x${++count}`;\n            if (timeout === undefined) { return; }\n            clearTimeout(timeout);\n            timeout = setTimeout(remove, 7200);\n        }]) - 1];\n        const remove = () => {\n            const index = notifications.indexOf(pointer);\n            if (index !== -1) { notifications.splice(index, 1); }\n            html.removeEventListener('click', clickEvent);\n            html.style.animation = 'hideX 800ms ease-in-out forwards';\n            html.style.pointerEvents = 'none';\n            setTimeout(() => html.remove(), 800);\n            clearTimeout(timeout);\n        };\n        const clickEvent = () => {\n            if (global.hotkeys.shift) { return remove(); }\n            for (let i = notifications.length - 1; i >= 0; i--) { notifications[i][1](true); }\n        };\n        setTimeout(() => {\n            html.style.animation = '';\n            html.style.pointerEvents = '';\n            timeout = setTimeout(remove, 7200);\n            html.addEventListener('click', clickEvent);\n        }, 800);\n    } else { notifications[index][1](); }\n};\n\n/** Notify about error in the code with a cooldown of 20 seconds */\nexport const errorNotify = (text: string) => {\n    const errorCooldowns = specialHTML.errorCooldowns;\n    if (errorCooldowns.includes(text)) { return; }\n\n    Notify(text);\n    errorCooldowns.push(text);\n    setTimeout(() => {\n        const index = errorCooldowns.indexOf(text);\n        if (index !== -1) { errorCooldowns.splice(index, 1); }\n    }, 2e4);\n};\n\nexport const resetMinSizes = (full = true) => {\n    for (let i = 1; i <= 3; i++) {\n        const element = getQuery(`#special${i} > p`);\n        specialHTML.cache.innerHTML.set(element, '');\n        element.style.minWidth = '';\n    }\n    for (let i = 0; i < global.researchesInfo[player.stage.active].maxActive; i++) {\n        const element = getQuery(`#research${i + 1} span`);\n        specialHTML.cache.innerHTML.set(element, '');\n        element.style.minWidth = '';\n    }\n    for (let i = 0; i < global.researchesExtraInfo[player.stage.active].maxActive; i++) {\n        const element = getQuery(`#researchExtra${i + 1} span`);\n        specialHTML.cache.innerHTML.set(element, '');\n        element.style.minWidth = '';\n    }\n\n    if (!full) { return; }\n    const mile = getId('milestonesMultiline').parentElement as HTMLElement;\n    specialHTML.cache.innerHTML.set(mile, '');\n    mile.style.minHeight = '';\n};\n\nexport const changeFontSize = (initial = false) => {\n    const input = getId('customFontSize') as HTMLInputElement;\n    const size = Math.min(Math.max(initial ? globalSave.fontSize : (input.value === '' ? 16 : Math.floor(Number(input.value) * 100) / 100), 12), 24);\n    if (!initial) {\n        globalSave.fontSize = size;\n        saveGlobalSettings();\n        resetMinSizes();\n    }\n\n    document.documentElement.style.fontSize = size === 16 ? '' : `${size}px`;\n    input.value = `${size}`;\n    (getId('phoneStyle') as HTMLLinkElement).media = `screen and (max-width: ${893 * size / 16 + 32}px)`;\n    (getId('miniPhoneStyle') as HTMLLinkElement).media = `screen and (max-width: ${362 * size / 16 + 32}px)`;\n};\n\nexport const changeFormat = (point: boolean) => {\n    const htmlInput = (point ? getId('decimalPoint') : getId('thousandSeparator')) as HTMLInputElement;\n    let value = htmlInput.value.replace(' ', '\u00A0'); //No break space\n    const allowed = ['.', '\u00B7', ',', '\u00A0', '_', \"'\", '\"', '`', '|'].includes(value);\n    if (!allowed || globalSave.format[point ? 1 : 0] === value) {\n        if (point && globalSave.format[1] === '.') {\n            (getId('thousandSeparator') as HTMLInputElement).value = '';\n            globalSave.format[1] = '';\n        }\n        value = point ? '.' : '';\n        htmlInput.value = value;\n    }\n    globalSave.format[point ? 0 : 1] = value;\n    saveGlobalSettings();\n};\n\nexport const MDStrangenessPage = (stageIndex: number) => {\n    getId(`strangenessSection${global.debug.MDStrangePage}`).style.display = 'none';\n    getId(`strangenessSection${stageIndex}`).style.display = '';\n    global.debug.MDStrangePage = stageIndex;\n};\n\nexport const checkProggress = () => {\n    proggressMain();\n\n    for (let i = 2; i > 0; i--) {\n        if (player.proggress.results >= i) { return; }\n        if (player.merge.rewards[i - 1] >= 1) {\n            player.proggress.results = i;\n            return;\n        }\n    }\n};\nconst proggressMain = () => {\n    const proggress = player.proggress.main;\n    if (proggress >= 25 || global.offline.active) { return; }\n    if (player.verses[0].other[0] >= 1) { proggressUp(25, 13); }\n    if (proggress >= 24) { return; }\n    if (player.inflation.ends[1] >= 1) { proggressUp(24); }\n    if (proggress >= 23) { return; }\n    if (player.darkness.energy >= 1000) { proggressUp(23, 12); }\n    if (proggress >= 22) { return; }\n    if (player.verses[0].true >= 5) { proggressUp(22, 11); }\n    if (proggress >= 21) { return; }\n    if (player.inflation.ends[0] >= 1) { proggressUp(21); }\n    if (proggress >= 20) { return; }\n    if (player.inflation.vacuum) {\n        if (player.verses[0].total >= 1) { proggressUp(20, 10); }\n        if (proggress >= 18) { return; }\n        if (player.merge.resets >= 1) { proggressUp(18, 8); }\n        if (proggress >= 17) { return; }\n        if (player.stage.resets >= 1) { proggressUp(17, 7); }\n        if (proggress >= 16) { return; }\n        if (player.stage.current >= 5) { proggressUp(16); }\n        if (proggress >= 15) { return; }\n        player.collapse.show = 0;\n        proggressUp(15, 6);\n    } else if (proggress < 19) {\n        if (player.verses[0].total >= 1) { proggressUp(19, 9); }\n        if (proggress >= 14) { return; }\n        if (player.stage.resets >= 7) { proggressUp(14); }\n        if (proggress >= 13) { return; }\n        if (player.stage.resets >= 6) { proggressUp(13); }\n        if (proggress >= 12) { return; }\n        if (player.stage.resets >= 5) { proggressUp(12); }\n        if (proggress >= 11) { return; }\n        if (player.stage.resets >= 4) { proggressUp(11); }\n        if (proggress >= 10) { return; }\n        if (player.stage.active >= 5) { proggressUp(10, 5); }\n        if (proggress >= 9) { return; }\n        if (player.stage.current >= 5) { proggressUp(9); }\n        if (proggress >= 8) { return; }\n        if (player.collapse.stars[1] >= 1) { proggressUp(8, 4); }\n        if (proggress >= 7) { return; }\n        if (player.stage.current >= 4) { proggressUp(7); }\n        if (proggress >= 6) { return; }\n        if (player.buildings[3][0].current.moreOrEqual(5e29)) { proggressUp(6, 3); }\n        if (proggress >= 5) { return; }\n        if (player.stage.current >= 3) { proggressUp(5); }\n        if (proggress >= 4) { return; }\n        if (assignResetInformation.newClouds() + player.vaporization.clouds > 1e4) { proggressUp(4, 2); }\n        if (proggress >= 3) { return; }\n        if (player.stage.current >= 2) { proggressUp(3); }\n        if (proggress >= 2) { return; }\n        if (player.upgrades[1][9] === 1) { proggressUp(2, 1); }\n        if (proggress >= 1) { return; }\n        if (player.buildings[1][1].true >= 12) { proggressUp(1); }\n    }\n};\nconst proggressUp = (newValue: number, event = null as null | number) => {\n    const old = player.proggress.main;\n    player.proggress.main = newValue;\n    if (event !== null) { playEvent(event, false); }\n    if (old < 6 && newValue >= 6) {\n        assignResetInformation.maxRank();\n        global.debug.rankUpdated = null;\n    }\n    visualProggressUnlocks();\n    if (global.tabs.current === 'stage') {\n        if (old < 15 && newValue >= 15) { switchTab(); }\n    } else if (global.tabs.current === 'strangeness') {\n        if (old < 20 && newValue >= 20) { switchTab(); }\n    } else if (global.tabs.current === 'settings') {\n        if (old < 17 && (newValue >= 17 || (old < 11 && newValue >= 11))) { switchTab(); }\n    }\n    if (old < 17 && (newValue >= 18 || (old < 10 && (newValue >= 10 || old < 1)))) {\n        stageUpdate(old < 1);\n    } else if (old === 17) {\n        setTimeout(() => {\n            setActiveStage(6, player.stage.active);\n            stageUpdate();\n        });\n    }\n};\n\nexport const replayEvent = async() => {\n    const proggress = player.proggress.main;\n    const last = proggress >= 25 ? 13 :\n        proggress >= 23 ? 12 :\n        proggress >= 22 ? 11 :\n        proggress >= 20 ? 10 :\n        proggress >= 19 ? 9 :\n        proggress >= 18 ? 8 :\n        proggress >= 17 ? 7 :\n        proggress >= 15 ? 6 :\n        proggress >= 10 ? 5 :\n        proggress >= 8 ? 4 :\n        proggress >= 6 ? 3 :\n        proggress >= 4 ? 2 :\n        proggress >= 2 ? 1 : 0;\n    if (last < 1) { return void Alert('There are no unlocked events'); }\n\n    let text = 'Which event do you want to see again?\\nEvent 1: Stage reset';\n    if (last >= 2) { text += '\\nEvent 2: Clouds softcap'; }\n    if (last >= 3) { text += '\\nEvent 3: New Rank'; }\n    if (last >= 4) { text += '\\nEvent 4: New Elements'; }\n    if (last >= 5) { text += '\\nEvent 5: Intergalactic'; }\n    if (last >= 6) { text += '\\nEvent 6: True Vacuum'; }\n    if (last >= 7) { text += '\\nEvent 7: Void unlocked'; }\n    if (last >= 8) { text += '\\nEvent 8: First Merge'; }\n    if (last >= 9) { text += '\\nEvent 9: Inflation'; }\n    if (last >= 10) { text += '\\nEvent 10: Universal End'; }\n    if (last >= 11) { text += '\\nEvent 11: Stability unlocked'; }\n    if (last >= 12) { text += '\\nEvent 12: Better End'; }\n    if (last >= 13) { text += '\\nEvent 13: More Universes'; }\n\n    const event = Number(await Prompt(text, `${last}`));\n    if (event <= 0 || !isFinite(event)) { return; }\n    if (event > last) { return void Alert('That event is not unlocked'); }\n    playEvent(event);\n};\n\n/** Sets player.event to true if replay is false */\nconst playEvent = (event: number, replay = true) => {\n    let text = 'No such event.';\n    if (event === 1) {\n        text = 'A new reset tier has been unlocked. It will allow the creation of higher tier Structures, but for the price of everything else.';\n    } else if (event === 2) {\n        text = `Cloud density is too high... Any new Clouds past ${format(1e4)} will be weaker due to the softcap.`;\n    } else if (event === 3) {\n        text = 'Cannot gain any more Mass with the current Rank. A new one has been unlocked, but reaching it will softcap the Mass production.';\n    } else if (event === 4) {\n        text = 'That last explosion not only created the first Neutron stars, but also unlocked new Elements through Supernova nucleosynthesis.';\n    } else if (event === 5) {\n        text = \"There are no Structures in Intergalactic yet, but knowledge for their creation can be found within the previous Stages. Stage resets and exports will now award Strange quarks, and '[26] Iron' will improve Stage reset reward based on total produced Stardust.\\n(Intergalactic Stars are combined Interstellar Stars. Export rewards are based on highest reset value, that stored value will decrease by claimed amount)\";\n    } else if (event === 6) {\n        text = 'As Galaxies began to Merge, their combined Gravity pushed Vacuum out of its local minimum into a more stable global minimum. New forces and Structures are expected within this new and true Vacuum state.';\n    } else if (event === 7) {\n        text = \"With Vacuum decaying, the remaining matter had rearranged itself, which had lead to the formation of the very first Challenge \u2012 'Void'. Check it out in the 'Advanced' subtab.\\n(There is no reason to stay inside Challenges past time limit)\";\n    } else if (event === 8) {\n        text = \"As Galaxies began to Merge, their combined Gravity started forming an even bigger Structure \u2012 'Universe'. Will need to maximize Galaxies before every Merge to get enough Score to create it.\\n(Merge reset can only be done a limited amount of times per Stage reset)\";\n    } else if (event === 9) {\n        text = \"Now that current Universe is finished, it's time to Inflate a new one and so to unlock the 'Inflation' tab.\\n(Universes only use specialized hotkeys. Also 'Nucleosynthesis' unlocks more Elements based on self-made Universes)\";\n    } else if (event === 10) {\n        text = \"Unlocked ability to End current Universes through basic End reset \u2012 'Big Crunch', also unlocked harder version of Void \u2012 'Supervoid' which is immune to End resets.\\n(Will need to click the 'Void' button to toggle into Supervoid. End reset reward base will be increased by +1 if inside true Vacuum)\";\n    } else if (event === 11) {\n        text = \"After so many Universe resets, false Vacuum had became at the same time more and less stable, this had unlocked a new Challenge \u2012 'Vacuum stability'.\";\n    } else if (event === 12) {\n        text = \"Unlocked a new type of End resets \u2012 'Big Rip', this one can use non-self-made Universes when calculating Cosmons gain.\";\n    } else if (event === 13) {\n        text = 'Void Universe placeholder text.';\n    }\n    if (!replay) {\n        text += \"\\n\\n(Can be viewed again with 'Events' button in Settings tab)\";\n        if (specialHTML.alert[0] !== null) { return Notify(`Wasn't able to show event ${event}, event text:\\n${text}`); }\n    }\n    return void Alert(text);\n};\n\nconst buildBigWindow = (subWindow: string): null | HTMLElement => {\n    if (getId('closeBigWindow', true) === null) {\n        getId('bigWindow').innerHTML = '<article role=\"dialog\" aria-modal=\"false\"><button type=\"button\" id=\"closeBigWindow\">Close</button></article>';\n        specialHTML.styleSheet.textContent += `#bigWindow > article { display: flex; flex-direction: column; align-items: center; width: 38rem; max-width: 80vw; height: 42rem; max-height: 90vh; background-color: var(--window-color); border: 3px solid var(--window-border); border-radius: 12px; padding: 1em 1em 0.8em; row-gap: 1em; }\n            #bigWindow > article > button { flex-shrink: 0; border-radius: 4px; width: 6em; font-size: 0.92em; }\n            #bigWindow > article > div { width: 100%; height: 100%; overflow-y: auto; overscroll-behavior-y: none; } `;\n    }\n\n    if (getId(subWindow, true) !== null) { return null; }\n    const mainHTML = document.createElement('div');\n    getQuery('#bigWindow > article').prepend(mainHTML);\n    mainHTML.id = subWindow;\n    return mainHTML;\n};\nconst addCloseEvents = (sectionHTML: HTMLElement, firstTargetHTML = null as HTMLElement | null) => {\n    const body = document.documentElement;\n    const closeButton = getId('closeBigWindow');\n    const windowHMTL = getId('bigWindow');\n    if (firstTargetHTML === null) { firstTargetHTML = closeButton; }\n    const key = (event: KeyboardEvent) => {\n        if (specialHTML.alert[0] !== null || detectShift(event) !== false) { return; }\n        const code = event.code;\n        if (firstTargetHTML === closeButton ? (code === 'Escape' || code === 'Enter' || code === 'Space') :\n            ((!global.hotkeys.disabled && code === 'Escape') || ((code === 'Enter' || code === 'Space') && document.activeElement === closeButton))) {\n            event.preventDefault();\n            close();\n        }\n    };\n    const close = () => {\n        specialHTML.bigWindow = null;\n        windowHMTL.style.display = 'none';\n        sectionHTML.style.display = 'none';\n        body.removeEventListener('keydown', key);\n        closeButton.removeEventListener('click', close);\n    };\n    body.addEventListener('keydown', key);\n    closeButton.addEventListener('click', close);\n    sectionHTML.style.display = '';\n    windowHMTL.style.display = '';\n    firstTargetHTML.focus();\n};\n\nexport const openVersionInfo = () => {\n    if (specialHTML.bigWindow !== null) { return; }\n    const mainHTML = buildBigWindow('versionHTML');\n    if (mainHTML !== null) {\n        mainHTML.innerHTML = `${global.lastUpdate !== null ? `<h5><span class=\"bigWord\">Last update:</span> <span class=\"whiteText\">${new Date(global.lastUpdate).toLocaleString()}</span></h5><br>` : ''}\n        <h6>v0.2.8</h6><p>- Abyss full rebalance and End reset rework\\n- Auto Stage now has different modes\\n- Max export rewards is now 12 hours\\n- Removed log\\n<a href=\"https://docs.google.com/document/d/1HsAhoa31UsRFGK3BULeXMKHN9exUIIQ_UveKwj2EuMY/edit?usp=sharing\" target=\"_blank\" rel=\"noopener noreferrer\">Full changelog</a></p>\n        <h6>v0.2.7</h6><p>- Small speed up to Universes\\n- Stage resets now save peak Strange quarks</p>\n        <h6>v0.2.6</h6><p>- New content (Big Rip)\\n- Mobile shorcuts are now available outside of related support\\n- Ability to change number hotkeys and use numbers for other hotkeys\\n- Create all Upgrades button\\n- Improved hover text\\n\\n- Added hotkeys for toggling autos</p>\n        <h6>v0.2.5</h6><p>- Abyss rework\\n- New (second) Challenge\\n- Global footer stats\\n- Small visual improvements\\n- Improved swiping hotkeys for Phones</p>\n        <h6>v0.2.4</h6><p>- Offline ticks are now as effective as Online\\n- Inflation loadouts\\n\\n- Added the log\\n- Minor Strangeness rebalance</p>\n        <h6>v0.2.3</h6><p>- Supervoid rework\\n- Abyss small rebalance</p>\n        <h6>v0.2.2</h6><p>- New content (Supervoid)\\n- Entering Void now saves the game to load it after exiting</p>\n        <h6>v0.2.1</h6><p>- New content (Abyss)\\n- Full game rebalance\\n- Custom hotkeys\\n- Updated supports\\n- Many small changes and additions</p>\n        <h6>v0.2.0</h6><p>- Reworked balance for all Stages past first reset cycle\\n- Many quality of life additions\\n- Most of settings are now saved separate from save file\\n- Some more work on Mobile device support</p>\n        <h6>v0.1.9</h6><p>- More true Vacuum balance\\n- Reworked time related formats\\n- Offline time reworked</p>\n        <h6>v0.1.8</h6><p>- True Vacuum small balance changes\\n- Upgrades and Researches merged\\n- Copy to the clipboard, load from string save file options</p>\n        <h6>v0.1.7</h6><p>- New content (Void)\\n- Further balance changes</p>\n        <h6>v0.1.6</h6><p>- Massive rebalance and reworks for all Stages</p>\n        <h6>v0.1.5</h6><p>- True Vacuum minor balance\\n- Images no longer unload\\n- Screen reader support reworked</p>\n        <h6>v0.1.4</h6><p>- Custom scrolls\\n- Notifications</p>\n        <h6>v0.1.3</h6><p>- True Vacuum balance changes\\n- Submerged Stage minor balance\\n- Replay event button\\n\\n- History for Stage resets</p>\n        <h6>v0.1.2</h6><p>- New content (Vacuum)\\n- Version window\\n- Permanently removed text movement</p>\n        <h6>v0.1.1</h6><p>- More balance changes for late game</p>\n        <h6>v0.1.0</h6><p>- New content (Intergalactic)\\n- Balance changes for late game</p>\n        <h6>v0.0.9</h6><p>- New content (Milestones)\\n- More Interstellar and late game balance</p>\n        <h6>v0.0.8</h6><p>- Minor speed up to all Stages past Microworld</p>\n        <h6>v0.0.7</h6><p>- New content (Strangeness)\\n- Microworld Stage rework\\n\\n- Stats for the Save file name</p>\n        <h6>v0.0.6</h6><p>- Added hotkeys list\\n\\n- Option to remove text movement\\n- Ability to rename the save file</p>\n        <h6>v0.0.5</h6><p>- New content (Interstellar)\\n- Basic loading screen\\n\\n- Added hotkeys</p>\n        <h6>v0.0.4</h6><p>- Speed up to all Stages\\n- Basic events\\n\\n- Added numbers format</p>\n        <h6>v0.0.3</h6><p>- New content (Accretion)\\n- Submerged Stage extended</p>\n        <h6>v0.0.2</h6><p>- Stats subtab</p>\n        <h6>v0.0.1</h6><p>- Submerged Stage rework\\n\\n- Mobile device support</p>\n        <h6>v0.0.0</h6><p>- First published version\\n\\n- Submerged Stage placeholder</p>`;\n        specialHTML.styleSheet.textContent += `#versionHTML h6 { font-size: 1.18em; }\n            #versionHTML p { line-height: 1.3em; white-space: pre-line; color: var(--white-text); margin-top: 0.2em; margin-bottom: 1.4em; }\n            #versionHTML p:last-of-type { margin-bottom: 0; } `;\n    }\n\n    specialHTML.bigWindow = 'version';\n    addCloseEvents(getId('versionHTML'));\n    getQuery('#bigWindow > article').ariaLabel = 'Versions menu';\n};\n\nexport const openHotkeys = () => {\n    if (specialHTML.bigWindow !== null) { return; }\n    const mainHTML = buildBigWindow('hotkeysHTML');\n    if (mainHTML !== null) {\n        mainHTML.innerHTML = `<h3 id=\"hotkeysMessage\" class=\"bigWord\" aria-live=\"assertive\">Highlighted hotkeys can be modified</h3>\n        ${globalSave.MDSettings[0] ? `<p>Left or Right swipe \u2012 <span class=\"whiteText\">change current tab</span></p>\n        <p>Diagonal Down or Up swipe \u2012 <span class=\"whiteText\">change current subtab</span></p>\n        <p id=\"stageSwipe\">Long Left or Right swipe \u2012 <span class=\"whiteText\">change current active Stage</span></p>` : ''}\n        <label id=\"tabRightHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">change tab to the next one</span></label>\n        <label id=\"tabLeftHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">change tab to the previous one</span></label>\n        <label id=\"subtabUpHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">change subtab to the next one</span></label>\n        <label id=\"subtabDownHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">change subtab to the previous one</span></label>\n        <label id=\"stageRightHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">change active Stage to the next one</span></label>\n        <label id=\"stageLeftHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">change active Stage to the previous one</span></label>\n        <label id=\"makeStructureHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">make a Structure</span></label>\n        <p id=\"makeAllHotkey\"><span></span> <span class=\"whiteText\">or</span> <label><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">make all Structures</span></label></p>\n        <label id=\"enterChallengeHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">enter the Challenge</span></label>\n        <p id=\"exitChallengeHotkey\"><span></span> <span class=\"whiteText\">or</span> <label><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">exit out of the current Challenge</span></label></p>\n        <div>\n            <label id=\"createAllHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Upgrades</span></label>\n            <label id=\"dischargeHotkey\" class=\"orangeText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Discharge</span></label>\n            <label id=\"vaporizationHotkey\" class=\"blueText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Vaporization</span></label>\n            <label id=\"rankHotkey\" class=\"darkorchidText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Rank</span></label>\n            <label id=\"collapseHotkey\" class=\"orchidText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Collapse</span></label>\n            <label id=\"galaxyHotkey\" class=\"grayText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Galaxy</span></label>\n            <label id=\"mergeHotkey\" class=\"darkvioletText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Merge</span></label>\n            <label id=\"nucleationHotkey\" class=\"orangeText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Nucleation</span></label>\n            <label id=\"stageHotkey\" class=\"stageText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Stage</span></label>\n            <label id=\"versesHotkey\" class=\"darkvioletText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Verses</span></label>\n            <label id=\"endHotkey\" class=\"redText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">End</span></label>\n            <label id=\"supervoidHotkey\" class=\"darkvioletText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Supervoid</span></label>\n            <label id=\"warpHotkey\" class=\"blueText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Warp</span></label>\n            <label id=\"pauseHotkey\" class=\"grayText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">pause</span></label>\n        </div>\n        <p>Enter <span class=\"whiteText\">or</span> Space \u2012 <span class=\"whiteText\">click selected HTML Element or confirm Alert</span></p>\n        <p>Escape \u2012 <span class=\"whiteText\">cancel changing the hotkey, close Alert or Notification</span></p>\n        <p>Tab <span class=\"whiteText\">and</span> Shift Tab \u2012 <span class=\"whiteText\">select another HTML Element</span></p>\n        <p id=\"autoTogglesHeader\" class=\"bigWord\">Auto toggles</p>\n        <label id=\"toggleStructureHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">toggle auto Structure</span></label>\n        <p id=\"toggleAllHotkey\"><span></span> <span class=\"whiteText\">or</span> <label><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">toggle all auto Structures</span></label></p>\n        <div>\n            <label id=\"toggleUpgradesHotkey\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Upgrades</span></label>\n            <label id=\"toggleDischargeHotkey\" class=\"orangeText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Discharge</span></label>\n            <label id=\"toggleVaporizationHotkey\" class=\"blueText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Vaporization</span></label>\n            <label id=\"toggleRankHotkey\" class=\"darkorchidText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Rank</span></label>\n            <label id=\"toggleCollapseHotkey\" class=\"orchidText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Collapse</span></label>\n            <label id=\"toggleMergeHotkey\" class=\"darkvioletText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Merge</span></label>\n            <label id=\"toggleNucleationHotkey\" class=\"orangeText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Nucleation</span></label>\n            <label id=\"toggleStageHotkey\" class=\"stageText\"><button type=\"button\" class=\"selectBtn\"></button> \u2012 <span class=\"whiteText\">Stage</span></label>\n        </div>\n        <p>Holding Enter on last selected button will repeatedly press it, also works with Mouse and Touch events on some buttons</p>\n        <p>Numlock being ON can break Numpad hotkeys</p>\n        <p>Shift clicking the hotkey will remove it</p>\n        <label id=\"hotkeysToggleLabel\" title=\"Turn ON, if using non-QWERTY layout keyboard\">Language dependant hotkeys </label>\n        <button type=\"button\" id=\"restoreHotkeys\" class=\"selectBtn\">Restore default hotkeys values</button>`; //Spacebar at the end of label is required\n        const toggle = getId('globalToggle0');\n        getId('hotkeysToggleLabel').append(toggle);\n        toggle.style.display = '';\n        specialHTML.styleSheet.textContent += `#hotkeysHTML { display: flex; flex-direction: column; align-items: center; row-gap: 0.2em; }\n            #hotkeysHTML > div { display: grid; grid-template-columns: 1fr 1fr 1fr; width: 100%; gap: 0.3em; }\n            #hotkeysHTML > div label { justify-self: center; width: max-content; } `;\n\n        const changeHotkey = async(number: boolean): Promise<string | string[] | null> => {\n            return await new Promise((resolve) => {\n                getId('hotkeysMessage').textContent = 'Awaiting new value for the hotkey';\n                const body = document.documentElement;\n                let result: null | string | string[] = null;\n                const detect = async(event: KeyboardEvent) => {\n                    const { key, code } = event;\n                    if (code === 'Tab' || code === 'Enter' || code === 'Space') { return; }\n                    event.preventDefault();\n                    if (code === 'Escape') { return finish(); }\n                    if (key === 'Control' || key === 'Shift' || key === 'Alt') { return; }\n                    if (key === 'Meta' || event.metaKey) {\n                        getId('hotkeysMessage').textContent = \"Meta isn't allowed\";\n                        return;\n                    }\n                    let prefix = event.ctrlKey ? 'Ctrl ' : '';\n                    if (event.shiftKey) { prefix += 'Shift '; }\n                    if (event.altKey) { prefix += 'Alt '; }\n                    if (number) {\n                        if (code.includes('Digit') || code.includes('Numpad')) {\n                            result = prefix + (code.includes('Numpad') ? 'Numpad' : 'Numbers');\n                        } else {\n                            getId('hotkeysMessage').textContent = 'Only numbers can be used here';\n                            return;\n                        }\n                    } else {\n                        if (code.includes('Digit') || code.includes('Numpad')) {\n                            const converted = prefix + code.replace('Digit', '').replace('Numpad', 'Num ');\n                            result = [converted, converted];\n                        } else {\n                            result = [key.length === 1 ? key.toUpperCase() : key.replaceAll(/([A-Z]+)/g, ' $1').trimStart(),\n                                key.length === 1 ? code.replace('Key', '') : code.replaceAll(/([A-Z]+)/g, ' $1').trimStart()];\n                            if (result[0] !== '') {\n                                result[0] = prefix + result[0];\n                            } else { result[0] = 'None'; }\n                            if (result[1] !== '') {\n                                result[1] = prefix + result[1];\n                            } else { result[1] = 'None'; }\n                        }\n                    }\n                    finish();\n                };\n                const clickClose = () => {\n                    global.hotkeys.disabled = false;\n                    finish(false);\n                };\n                const finish = (keyboard = true) => {\n                    body.removeEventListener('keydown', detect);\n                    body.removeEventListener('click', clickClose, { capture: true });\n                    if (keyboard) {\n                        body.addEventListener('keyup', () => { global.hotkeys.disabled = false; }, { once: true });\n                    }\n                    resolve(result);\n                };\n                global.hotkeys.disabled = true;\n                body.addEventListener('keydown', detect);\n                body.addEventListener('click', clickClose, { capture: true });\n            });\n        };\n        const index = globalSave.toggles[0] ? 0 : 1;\n        for (const key in globalSaveStart.hotkeys) {\n            const button = getQuery(`#${key}Hotkey button`);\n            button.textContent = globalSave.hotkeys[key as hotkeysList][index];\n            button.addEventListener('click', async(event) => {\n                if (event.shiftKey) {\n                    if (removeHotkey(globalSave.hotkeys[key as hotkeysList][globalSave.toggles[0] ? 0 : 1]) !== null) {\n                        button.textContent = 'None';\n                        assignHotkeys();\n                        saveGlobalSettings();\n                    }\n                    return;\n                }\n                button.style.borderBottomStyle = 'dashed';\n                const newHotkey = await changeHotkey(false) as string[];\n                if (newHotkey !== null) {\n                    const index = globalSave.toggles[0] ? 0 : 1;\n                    const removed = removeHotkey(newHotkey[index]) as hotkeysList;\n                    if (globalSaveStart.hotkeys[removed] !== undefined) { getQuery(`#${removed}Hotkey button`).textContent = 'None'; }\n                    button.textContent = newHotkey[index];\n                    globalSave.hotkeys[key as hotkeysList] = newHotkey;\n                    assignHotkeys();\n                    saveGlobalSettings();\n                }\n                button.style.borderBottomStyle = '';\n                getId('hotkeysMessage').textContent = 'Highlighted hotkeys can be modified';\n            });\n        }\n        /** Actual type is Record<numbersList, string> */\n        const extraHotkeyName: Record<string, string> = {\n            makeStructure: 'makeAll',\n            toggleStructure: 'toggleAll',\n            enterChallenge: 'exitChallenge'\n        };\n        for (const key in globalSaveStart.numbers) {\n            const button = getQuery(`#${key}Hotkey button`);\n            button.textContent = globalSave.numbers[key as numbersList];\n            getQuery(`#${extraHotkeyName[key]}Hotkey span`).textContent = globalSave.numbers[key as numbersList].replace('Numbers', '0').replace('Numpad', 'Num 0');\n            button.addEventListener('click', async(event) => {\n                if (event.shiftKey) {\n                    if (removeHotkey(globalSave.numbers[key as numbersList], true) !== null) {\n                        button.textContent = 'None';\n                        assignHotkeys();\n                        saveGlobalSettings();\n                    }\n                    return;\n                }\n                button.style.borderBottomStyle = 'dashed';\n                const newHotkey = await changeHotkey(true) as string;\n                if (newHotkey !== null) {\n                    const removed = removeHotkey(newHotkey, true) as numbersList;\n                    if (extraHotkeyName[removed] !== undefined) {\n                        getQuery(`#${removed}Hotkey button`).textContent = 'None';\n                        getQuery(`#${extraHotkeyName[removed]}Hotkey span`).textContent = 'None';\n                    }\n                    button.textContent = newHotkey;\n                    getQuery(`#${extraHotkeyName[key]}Hotkey span`).textContent = newHotkey.replace('Numbers', '0').replace('Numpad', 'Num 0');\n                    globalSave.numbers[key as numbersList] = newHotkey;\n                    assignHotkeys();\n                    saveGlobalSettings();\n                }\n                button.style.borderBottomStyle = '';\n                getId('hotkeysMessage').textContent = 'Highlighted hotkeys can be modified';\n            });\n        }\n        getId('restoreHotkeys').addEventListener('click', () => {\n            globalSave.hotkeys = deepClone(globalSaveStart.hotkeys);\n            globalSave.numbers = deepClone(globalSaveStart.numbers);\n            const index = globalSave.toggles[0] ? 0 : 1;\n            for (const key in globalSave.hotkeys) { getQuery(`#${key}Hotkey button`).textContent = globalSave.hotkeys[key as hotkeysList][index]; }\n            for (const key in globalSave.numbers) {\n                const value = globalSave.numbers[key as numbersList];\n                getQuery(`#${key}Hotkey button`).textContent = value;\n                getQuery(`#${extraHotkeyName[key]}Hotkey span`).textContent = value.replace('Numbers', '0').replace('Numpad', 'Num 0');\n            }\n            assignHotkeys();\n            saveGlobalSettings();\n        });\n    }\n\n    specialHTML.bigWindow = 'hotkeys';\n    addCloseEvents(getId('hotkeysHTML'), getQuery('#tabRightHotkey button'));\n    getQuery('#bigWindow > article').ariaLabel = 'Hotkeys menu';\n    visualProggressUnlocks();\n    visualUpdate();\n};\n", "import { globalSave } from './Special';\n\n/* Overlimit - awWhy's version of break infinity (or Decimal):\n    Uses 2 numbers ([mantissa, exponent]) to allow for numbers that are bigger than 1.8e308 (up to like ~9e1.8e308)\n    Exponent above maxSafeInteger (~9e15) will start losing some precision (functions like multiply by 10 won't work and etc)\n\n    Altered JS math rules:\n    '1 ** Infinity', '1 ** NaN' now returns 1 instead of NaN\n    '0 ** 0', 'NaN ** 0' now retuns NaN instead of 1\n    '0 * Infinity', '0 * NaN' now returns 0 instead of NaN\n    'Infinity / 0', '-x ** Infinity' now returns NaN instead of Infinity\n\n    Logic behind is to help against bugs (0 ** 0 is a good example)\n    In these calculation I assume that Infinity is number Much bigger than its possible to represent\n    And NaN being any number and simutanionsly non-number as long as no complex Math is required\n*/\n\ntype allowedTypes = string | number | bigint | [number, number] | Overlimit;\n/** To test number for being Overlimit can use: typeof number === 'object'; Array.isArray(number); number instanceof Overlimit;\\\n * Allowed types are string, number, bigint, Overlimit and [number, number];\\\n * Provided value exponent must be floored, can call .floorExponent() to floor it: `-2e${Math.log10(0.2)}` === -0.3;\\\n * Providing an array will force extra restrictions:\\\n * Number must be provided in scientific format ([123, 0] > [1.23, 2]);\\\n * If mantissa is 0, then exponent must be 0, same if exponent is -Infinity;\\\n * if any part is NaN or Infinity, then both must be NaN or Infinity\n */\nexport default class Overlimit extends Array<number> { //This is version is sligthly modified\n    constructor(number: allowedTypes) {\n        const after = technical.convert(number);\n        super(after[0], after[1]);\n    }\n    get mantissa(): number { return this[0]; }\n    get exponent(): number { return this[1]; }\n\n    /** Can be used inside native sorting function, equal to a - b. First variable must be Overlimit, doesn't require cloning, example: [1, '2', new Overlimit(3)].sort((a, b) => Overlimit.compareFunc(new Overlimit(b), a)) */\n    static compareFunc(left: Overlimit, right: allowedTypes): 1 | 0 | -1 { return left.moreThan(right) ? 1 : left.notEqual(right) ? -1 : 0; }\n\n    /** Creates new Overlimit */\n    clone(): Overlimit { return new Overlimit(this); }\n    setValue(newValue: allowedTypes): this {\n        const after = technical.convert(newValue);\n        this[0] = after[0];\n        this[1] = after[1];\n        return this;\n    }\n    /** Fixes exponent not being floored, old mantissa will be added into new one */\n    floorExponent(): this { return technical.fixExpo(this) as this; }\n\n    plus(number: allowedTypes): this { return technical.add(this, technical.convert(number)) as this; }\n    minus(number: allowedTypes): this {\n        const after = technical.convert(number);\n        return technical.add(this, [-after[0], after[1]]) as this;\n    }\n    multiply(number: allowedTypes): this { return technical.mult(this, technical.convert(number)) as this; }\n    divide(number: allowedTypes): this { return technical.div(this, technical.convert(number)) as this; }\n    /** Power must be a number */\n    power(power: number): this { return technical.pow(this, power) as this; }\n    /** Root must be a number, default value is 2 */\n    root(root = 2): this { return technical.pow(this, 1 / root) as this; }\n    /** Default value is Math.E */\n    log(base?: allowedTypes): this { return technical.log(this, base === undefined ? [Math.E, 0] : technical.convert(base)) as this; }\n    /** Experemental version of .log that allows negative numbers as long as complex numbers are not required */\n    logExp(base?: allowedTypes): this { return technical.log2(this, base === undefined ? [Math.E, 0] : technical.convert(base)) as this; }\n\n    abs(): this {\n        this[0] = Math.abs(this[0]);\n        return this;\n    }\n\n    trunc(): this { return technical.trunc(this) as this; }\n    floor(): this { return technical.floor(this) as this; }\n    ceil(): this { return technical.ceil(this) as this; }\n    round(): this { return technical.round(this) as this; }\n\n    /** Doesn't check exponent, since exponent being NaN while mantissa isn't would be a bug */\n    isNaN(): boolean { return isNaN(this[0])/* || isNaN(this[1])*/; }\n    /** Will set new value to the provided one, but only if current one is NaN */\n    replaceNaN(replaceWith: allowedTypes): this {\n        if (isNaN(this[0])) {\n            const after = technical.convert(replaceWith);\n            this[0] = after[0];\n            this[1] = after[1];\n        }\n        return this;\n    }\n    /** Doesn't check exponent, since exponent being Infinity while mantissa isn't would be a bug */\n    isFinite(): boolean { return isFinite(this[0])/* && isFinite(this[1])*/; }\n\n    lessThan(compare: allowedTypes): boolean { return technical.less(this, technical.convert(compare)); }\n    lessOrEqual(compare: allowedTypes): boolean { return technical.lessOrEqual(this, technical.convert(compare)); }\n    moreThan(compare: allowedTypes): boolean { return technical.more(this, technical.convert(compare)); }\n    moreOrEqual(compare: allowedTypes): boolean { return technical.moreOrEqual(this, technical.convert(compare)); }\n    notEqual(compare: allowedTypes): boolean { return technical.notEqual(this, technical.convert(compare)); }\n    equal(compare: allowedTypes): boolean { return technical.equal(this, technical.convert(compare)); }\n\n    max(compare: allowedTypes): this {\n        const after = technical.convert(compare);\n        if (isNaN(after[0])) {\n            this[0] = NaN;\n            this[1] = NaN;\n        } else if (technical.less(this, after)) {\n            this[0] = after[0];\n            this[1] = after[1];\n        }\n        return this;\n    }\n    min(compare: allowedTypes): this {\n        const after = technical.convert(compare);\n        if (isNaN(after[0])) {\n            this[0] = NaN;\n            this[1] = NaN;\n        } else if (technical.more(this, after)) {\n            this[0] = after[0];\n            this[1] = after[1];\n        }\n        return this;\n    }\n\n    /** Returns formatted string, takes object as arqument\n     * @param type \"number\" is default, \"input\" will make formatted number to be usable in Overlimit\n     * @param padding should zeros be added past point, if below max digits. 'exponent' value will behave as true, but only after number turns to power version or above\n     */\n    format(settings = {} as { type?: 'number' | 'input', padding?: boolean | 'exponent' }): string { return technical.format(this, settings); }\n    /** Returns value as Number, doesn't change original number */\n    toNumber(): number { return Number(technical.turnString(this)); }\n    /** Same as .toNumber, but replaces Infinity and NaN with Number.MAX_VALUE */\n    toSafeNumber(): number {\n        const result = Number(technical.turnString(this));\n        if (isFinite(result)) { return result; }\n        return Number.MAX_VALUE * (result < 0 ? -1 : 1);\n    }\n    /** Returns value as String, doesn't change original number */\n    toString(): string { return technical.turnString(this); }\n    /** Returns value as Array, doesn't change original number */\n    toArray(): [number, number] { return [this[0], this[1]]; }\n    /** Automatically called with JSON.stringify. It will call toString to preserve NaN and Infinity */\n    toJSON(): string { return technical.turnString(this); }\n\n    allPlus(...numbers: allowedTypes[]): this {\n        for (let i = 0; i < numbers.length; i++) {\n            technical.add(this, technical.convert(numbers[i]));\n        }\n\n        return this;\n    }\n    allMinus(...numbers: allowedTypes[]): this {\n        for (let i = 0; i < numbers.length; i++) {\n            const after = technical.convert(numbers[i]);\n            technical.add(this, [-after[0], after[1]]);\n        }\n\n        return this;\n    }\n    allMultiply(...numbers: allowedTypes[]): this {\n        for (let i = 0; i < numbers.length; i++) {\n            technical.mult(this, technical.convert(numbers[i]));\n        }\n\n        return this;\n    }\n    allDivide(...numbers: allowedTypes[]): this {\n        for (let i = 0; i < numbers.length; i++) {\n            technical.div(this, technical.convert(numbers[i]));\n        }\n\n        return this;\n    }\n    allEqual(...compare: allowedTypes[]): boolean {\n        for (let i = 0; i < compare.length; i++) {\n            if (technical.notEqual(this, technical.convert(compare[i]))) { return false; }\n        }\n\n        return true;\n    }\n    /** Set original number to the biggest of provided arguments */\n    allMax(...compare: allowedTypes[]): this {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < compare.length; i++) {\n            const after = technical.convert(compare[i]);\n            if (isNaN(after[0])) {\n                this[0] = NaN;\n                this[1] = NaN;\n                return this;\n            }\n\n            if (technical.less(result, after)) { result = after; }\n        }\n\n        if (result !== this) {\n            this[0] = result[0];\n            this[1] = result[1];\n        }\n        return this;\n    }\n    /** Set original number to the smallest of provided arguments */\n    allMin(...compare: allowedTypes[]): this {\n        let result: [number, number] | Overlimit = this;\n        for (let i = 0; i < compare.length; i++) {\n            const after = technical.convert(compare[i]);\n            if (isNaN(after[0])) {\n                this[0] = NaN;\n                this[1] = NaN;\n                return this;\n            }\n\n            if (technical.more(result, after)) { result = after; }\n        }\n\n        if (result !== this) {\n            this[0] = result[0];\n            this[1] = result[1];\n        }\n        return this;\n    }\n}\n\n/** Private Overlimit functions */\nconst technical = {\n    convert: (number: allowedTypes): [number, number] | Overlimit => {\n        if (typeof number === 'object' && number !== null) { return number; } //Readonly Array\n        const index = typeof number === 'string' ? number.indexOf('e') : -1; //Non-string is less accurate, but float fix does help\n        const result: [number, number] = index === -1 ? [Number(number), 0] : [Number((number as string).slice(0, index)), Number((number as string).slice(index + 1))]; //Array.split is 3 times slower\n\n        if (!isFinite(result[0]) || !isFinite(result[1])) {\n            if (result[0] === 0 || result[1] === -Infinity) { return [0, 0]; }\n            if (isNaN(result[0]) || isNaN(result[1])) { return [NaN, NaN]; }\n            return [result[0] < 0 ? -Infinity : Infinity, Infinity];\n        }\n\n        const after = Math.abs(result[0]);\n        if (after === 0) {\n            return [0, 0];\n        } else if (after < 1 || after >= 10) {\n            const digits = Math.floor(Math.log10(after));\n            result[0] /= 10 ** digits;\n            result[1] += digits;\n\n            if (Math.abs(result[0]) < 1) { //Important\n                result[0] *= 10;\n                result[1]--;\n            }\n        }\n\n        //Float fix always done after exponent, because (11.1 / 10 !== 1.11)\n        result[0] = Math.round(result[0] * 1e14) / 1e14;\n        if (Math.abs(result[0]) === 10) {\n            result[0] /= 10;\n            result[1]++;\n        }\n\n        return result;\n    },\n    fixExpo: (number: Overlimit): Overlimit => {\n        const target = Math.floor(number[1]);\n        if (target !== number[1]) {\n            const negative = number[0] < 0;\n            number[0] = Math.round((10 ** (number[1] - target) - 1 + Math.abs(number[0])) * 1e14) / 1e14;\n            number[1] = target;\n\n            if (number[0] >= 10) {\n                number[0] /= 10;\n                number[1]++;\n            }\n            if (negative) { number[0] *= -1; }\n        }\n        return number;\n    },\n    /* Number is readonly */\n    turnString: (number: Overlimit): string => number[1] === 0 || !isFinite(number[0]) ? `${number[0]}` : `${number[0]}e${number[1]}`,\n    /* Right is readonly */\n    add: (left: Overlimit, right: [number, number] | Overlimit): Overlimit => {\n        if (right[0] === 0) { return left; }\n        if (left[0] === 0) {\n            left[0] = right[0];\n            left[1] = right[1];\n            return left;\n        } else if (!isFinite(left[0]) || !isFinite(right[0])) {\n            left[0] += right[0]; //Infinity + -Infinity === NaN\n            left[1] = isNaN(left[0]) ? NaN : Infinity;\n            return left;\n        }\n\n        const difference = left[1] - right[1];\n        if (Math.abs(difference) >= 16) {\n            if (difference < 0) {\n                left[0] = right[0];\n                left[1] = right[1];\n            }\n            return left;\n        }\n\n        if (difference >= 0) {\n            left[0] += right[0] / 10 ** difference;\n        } else {\n            left[0] = right[0] + (left[0] * 10 ** difference);\n            left[1] = right[1];\n        }\n\n        const after = Math.abs(left[0]);\n        if (after === 0) {\n            left[1] = 0;\n            return left;\n        } else if (after >= 10) {\n            left[0] /= 10;\n            left[1]++;\n        } else if (after < 1) {\n            const digits = -Math.floor(Math.log10(after));\n            left[0] *= 10 ** digits;\n            left[1] -= digits;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n        return left;\n    },\n    /* Right is readonly */\n    mult: (left: Overlimit, right: [number, number] | Overlimit): Overlimit => {\n        if (left[0] === 0) { return left; }\n        if (right[0] === 0) {\n            left[0] = 0;\n            left[1] = 0;\n            return left;\n        }\n\n        left[1] += right[1];\n        left[0] *= right[0];\n\n        if (!isFinite(left[1])) {\n            if (left[1] === -Infinity) {\n                left[0] = 0;\n                left[1] = 0;\n            } else {\n                left[0] = left[1] === Infinity ? Infinity : NaN;\n            }\n            return left;\n        }\n\n        if (Math.abs(left[0]) >= 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n        return left;\n    },\n    /* Right is readonly */\n    div: (left: Overlimit, right: [number, number] | Overlimit): Overlimit => {\n        if (right[0] === 0) {\n            left[0] = NaN;\n            left[1] = NaN;\n            return left;\n        }\n\n        left[1] -= right[1];\n        left[0] /= right[0];\n\n        if (!isFinite(left[1])) {\n            if (left[1] === -Infinity) {\n                left[0] = 0;\n                left[1] = 0;\n            } else {\n                left[0] = left[1] === Infinity ? Infinity : NaN;\n            }\n            return left;\n        }\n\n        if (Math.abs(left[0]) < 1) {\n            left[0] *= 10;\n            left[1]--;\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n        return left;\n    },\n    pow: (left: Overlimit, power: number): Overlimit => {\n        if (left[0] === 0) {\n            if (power <= 0 || isNaN(power)) {\n                left[0] = NaN;\n                left[1] = NaN;\n            }\n            return left;\n        } else if (power === 0) { //left !== 0\n            if (!isNaN(left[0])) {\n                left[0] = 1;\n                left[1] = 0;\n            }\n            return left;\n        } else if (!isFinite(power)) {\n            if (left[1] === 0 && left[0] === 1) { return left; }\n            if (left[0] < 0 || isNaN(left[0]) || isNaN(power)) {\n                left[0] = NaN;\n                left[1] = NaN;\n            } else if ((power === -Infinity && left[1] >= 0) || (power === Infinity && left[1] < 0)) {\n                left[0] = 0;\n                left[1] = 0;\n            } else {\n                left[0] = Infinity;\n                left[1] = Infinity;\n            }\n            return left;\n        }\n\n        const negative = left[0] < 0 ? Math.abs(power) % 2 : null;\n        if (negative !== null) { //Complex numbers are not supported\n            if (Math.floor(power) !== power) {\n                left[0] = NaN;\n                left[1] = NaN;\n                return left;\n            }\n            left[0] *= -1;\n        }\n\n        const base10 = power * (Math.log10(left[0]) + left[1]);\n        if (!isFinite(base10)) {\n            if (isNaN(left[0])) { return left; }\n            if (base10 === -Infinity) {\n                left[0] = 0;\n                left[1] = 0;\n            } else {\n                left[0] = negative === 1 ? -Infinity : Infinity;\n                left[1] = Infinity;\n            }\n            return left;\n        }\n\n        const target = Math.floor(base10);\n        left[0] = Math.round(10 ** (base10 - target) * 1e14) / 1e14;\n        left[1] = target;\n\n        if (left[0] === 10) {\n            left[0] = 1;\n            left[1]++;\n        }\n\n        if (negative === 1) { left[0] *= -1; }\n        return left;\n    },\n    /* Base is readonly */\n    log: (left: Overlimit, base: [number, number] | Overlimit): Overlimit => {\n        if (base[0] <= 0 || (base[1] === 0 && base[0] === 1)) {\n            left[0] = NaN;\n            left[1] = NaN;\n            return left;\n        } else if (left[1] === 0 && left[0] === 1) { //base !== 0\n            if (isNaN(base[0])) {\n                left[0] = NaN;\n                left[1] = NaN;\n            } else { left[0] = 0; }\n            return left;\n        } else if (left[0] <= 0) { //base !== 0\n            if (isNaN(base[0]) || left[0] !== 0) {\n                left[0] = NaN;\n                left[1] = NaN;\n            } else { //Base being Infinity only allowed for consistency\n                left[0] = base[1] < 0 ? Infinity : -Infinity;\n                left[1] = Infinity;\n            }\n            return left;\n        } else if (!isFinite(left[0]) || !isFinite(base[0])) {\n            if (left[0] !== Infinity || isNaN(base[0])) { //base === -Infinity\n                left[0] = NaN;\n                left[1] = NaN;\n            } else { //Base being Infinity only allowed for consistency\n                left[0] = base[1] < 0 ? -Infinity : Infinity;\n                left[1] = Infinity;\n            }\n            return left;\n        }\n\n        const tooSmall = left[1] < 0; //Minor issue with negative power\n        const base10 = Math.log10(Math.abs(Math.log10(left[0]) + left[1]));\n        const target = Math.floor(base10);\n        left[0] = 10 ** (base10 - target);\n        left[1] = target;\n\n        if (tooSmall) { left[0] *= -1; } //Already can be negative\n        if (base[1] !== 1 || base[0] !== 1) {\n            left[0] /= Math.log10(base[0]) + base[1];\n\n            const after = Math.abs(left[0]);\n            if (after < 1 || after >= 10) {\n                const digits = Math.floor(Math.log10(after));\n                left[0] /= 10 ** digits;\n                left[1] += digits;\n            }\n        }\n\n        left[0] = Math.round(left[0] * 1e14) / 1e14;\n        if (Math.abs(left[0]) === 10) {\n            left[0] /= 10;\n            left[1]++;\n        }\n        return left;\n    },\n    /* Base is readonly */\n    log2: (left: Overlimit, base: [number, number] | Overlimit): Overlimit => {\n        const baseNeg = base[0] < 0;\n        if (baseNeg) {\n            if (base[0] === -Infinity && left[0] !== 0 && (left[0] !== 1 || left[1] !== 0)) {\n                left[0] = NaN;\n                left[1] = NaN;\n                return left;\n            }\n            base = [-base[0], base[1]];\n        }\n        const leftNeg = left[0] < 0;\n        if (leftNeg) {\n            if (!baseNeg || left[0] === -Infinity || (left[0] === -1 && left[1] === 0)) {\n                left[0] = NaN;\n                left[1] = NaN;\n                return left;\n            }\n            left[0] *= -1;\n        }\n        if (!isFinite(technical.log(left, base)[0])) { return left; }\n\n        if ((baseNeg || leftNeg) && (left[1] < 0 || //Result below must be (leftNeg ? odd : even), big numbers are always even\n            (left[1] < 16 ? Math.abs(Math.round(left[0] * 1e14) / 10 ** (14 - left[1])) % 2 : 0) !== (leftNeg ? 1 : 0))) {\n            left[0] = NaN;\n            left[1] = NaN;\n        }\n        return left;\n    },\n    /* Left and right are readonly */\n    less: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] < right[0]; }\n        if (right[0] > 0) { return left[0] < 0 ? true : right[1] > left[1]; } //NaN safety\n        return left[0] < 0 && right[1] < left[1];\n    },\n    /* Left and right are readonly */\n    lessOrEqual: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] <= right[0]; }\n        if (right[0] > 0) { return left[0] < 0 ? true : right[1] > left[1]; } //NaN safety\n        return left[0] < 0 && right[1] < left[1];\n    },\n    /* Left and right are readonly */\n    more: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] > right[0]; }\n        if (left[0] > 0) { return right[0] < 0 ? true : left[1] > right[1]; } //NaN safety\n        return right[0] < 0 && left[1] < right[1];\n    },\n    /* Left and right are readonly */\n    moreOrEqual: (left: [number, number] | Overlimit, right: [number, number] | Overlimit): boolean => {\n        if (left[0] === 0 || right[0] === 0 || left[1] === right[1]) { return left[0] >= right[0]; }\n        if (left[0] > 0) { return right[0] < 0 ? true : left[1] > right[1]; } //NaN safety\n        return right[0] < 0 && left[1] < right[1];\n    },\n    /* Left and right are readonly */\n    equal: (left: Overlimit, right: [number, number] | Overlimit): boolean => {\n        return left[1] === right[1] && left[0] === right[0];\n    },\n    /* Left and right are readonly */\n    notEqual: (left: Overlimit, right: [number, number] | Overlimit): boolean => {\n        return left[1] !== right[1] || left[0] !== right[0];\n    },\n    trunc: (left: Overlimit): Overlimit => {\n        if (left[1] < 14) {\n            if (left[1] < 0) {\n                left[0] = 0;\n                left[1] = 0;\n            } else {\n                left[0] = Math.trunc(left[0] * 10 ** left[1]) / 10 ** left[1];\n            }\n        }\n        return left;\n    },\n    floor: (left: Overlimit): Overlimit => {\n        if (left[1] < 14) {\n            if (left[1] < 0) {\n                left[0] = left[0] < 0 ? -1 : 0;\n                left[1] = 0;\n            } else {\n                left[0] = Math.floor(left[0] * 10 ** left[1]) / 10 ** left[1];\n\n                if (left[0] === -10) {\n                    left[0] = -1;\n                    left[1]++;\n                }\n            }\n        }\n        return left;\n    },\n    ceil: (left: Overlimit): Overlimit => {\n        if (left[1] < 14) {\n            if (left[1] < 0) {\n                left[0] = left[0] < 0 ? 0 : 1;\n                left[1] = 0;\n            } else {\n                left[0] = Math.ceil(left[0] * 10 ** left[1]) / 10 ** left[1];\n\n                if (left[0] === 10) {\n                    left[0] = 1;\n                    left[1]++;\n                }\n            }\n        }\n        return left;\n    },\n    round: (left: Overlimit): Overlimit => {\n        if (left[1] < 14) {\n            if (left[1] < 0) {\n                left[0] = left[1] === -1 ? Math.round(left[0] / 10) : 0;\n                left[1] = 0;\n            } else {\n                left[0] = Math.round(left[0] * 10 ** left[1]) / 10 ** left[1];\n\n                if (Math.abs(left[0]) === 10) {\n                    left[0] /= 10;\n                    left[1]++;\n                }\n            }\n        }\n        return left;\n    },\n    /* Left is readonly. String.replace can be replaced with .slice for 4x speed up if required, but I am just going to hope that it will be optimized by browsers eventually */\n    format: (left: [number, number] | Overlimit, settings: { type?: 'number' | 'input', padding?: boolean | 'exponent' }): string => {\n        const [base, power] = left;\n        if (!isFinite(base)) { return `${base}`; }\n        const type = settings.type ?? 'number';\n        let padding = settings.padding;\n\n        if (power >= 1e4 || power <= -1e4) { //e1.23e123 (-e-1.23e123)\n            if (padding === 'exponent') { padding = true; }\n            let exponent = power;\n            let inputBase = base;\n            if (Math.abs(Math.round(inputBase)) === 10) { //Probably not required, but just in case\n                inputBase /= 10;\n                exponent++;\n                if (exponent < 0 && exponent > -1e4) { return technical.format([inputBase, exponent], settings); }\n            }\n\n            exponent = Math.floor(Math.log10(Math.abs(exponent)));\n            let digits = 2 - Math.floor(Math.log10(exponent));\n            let mantissa = Math.round(power / 10 ** (exponent - digits)) / 10 ** digits;\n            if (Math.abs(mantissa) === 10) { //To remove rare bugs\n                mantissa /= 10;\n                exponent++;\n                if (padding) { digits = 2 - Math.floor(Math.log10(exponent)); }\n            }\n\n            if (type !== 'input') { mantissa = Math.abs(mantissa); }\n            const formated = padding ? mantissa.toFixed(digits) : `${mantissa}`;\n            return type === 'input' ? `${inputBase}e${formated}e${exponent}` :\n                `${base < 0 ? '-' : ''}${formated.replace('.', globalSave.format[0])}e${power < 0 ? '-' : ''}e${exponent}`; //1.23ee123 (-1.23e-e123)\n        }\n\n        if (power >= 6 || power < -4) { //1.23e123 (-1.23e-123)\n            if (padding === 'exponent') { padding = true; }\n\n            let digits = 3 - Math.floor(Math.log10(Math.abs(power)));\n            let mantissa = Math.round(base * 10 ** digits) / 10 ** digits;\n            let exponent = power;\n            if (Math.abs(mantissa) === 10) { //To remove rare bugs\n                mantissa /= 10;\n                exponent++;\n                if (exponent === -4 || exponent === 1e4) { return technical.format([mantissa, exponent], settings); }\n                if (padding) { digits = 3 - Math.floor(Math.log10(Math.abs(exponent))); }\n            }\n\n            const formated = padding ? mantissa.toFixed(digits) : `${mantissa}`;\n            return type === 'input' ? `${formated}e${exponent}` : `${formated.replace('.', globalSave.format[0])}e${exponent}`;\n        }\n\n        //12345 (-12345)\n        let digits = power < 1 ? 5 : (5 - power);\n        const mantissa = Math.round(base * 10 ** (digits + power)) / 10 ** digits;\n\n        const powerCheck = Math.floor(Math.log10(Math.abs(mantissa))); //To remove rare bugs\n        if (powerCheck === 6) { return technical.format([base < 0 ? -1 : 1, powerCheck], settings); }\n        if (padding === 'exponent') {\n            padding = false;\n        } else if (padding && powerCheck !== power) { digits = powerCheck < 1 ? 5 : (5 - powerCheck); }\n\n        let formated = padding ? mantissa.toFixed(digits) : `${mantissa}`;\n        if (type !== 'input') {\n            let index = formated.indexOf('.');\n            if (index !== -1) {\n                formated = `${formated.slice(0, index)}${globalSave.format[0]}${formated.slice(index + 1)}`;\n            } else { index = formated.length; }\n            if (index > 3) {\n                index -= 3;\n                formated = `${formated.slice(0, index)}${globalSave.format[1]}${formated.slice(index)}`;\n            }\n        }\n        return formated;\n    }\n};\n\nexport const { compareFunc } = Overlimit;\n", "import Overlimit from './Limit';\nimport { global, player } from './Player';\nimport type { gameSubtab, gameTab } from './Types';\n\nexport const checkTab = (tab: gameTab, subtab = null as null | gameSubtab): boolean => {\n    switch (tab) {\n        case 'stage':\n            if (subtab === 'Advanced') { return player.proggress.main >= 15; }\n            return subtab === 'Structures' || subtab === null;\n        case 'Elements':\n        case 'upgrade':\n            if (player.proggress.main < 1) { return false; }\n            if (subtab === 'Elements' || tab === 'Elements') { return player.upgrades[4][1] === 1 && global.stageInfo.activeAll.includes(4); }\n            return subtab === 'Upgrades' || subtab === null;\n        case 'strangeness':\n            if (player.proggress.main < 16 && (player.inflation.vacuum || player.proggress.main < 11)) { return false; }\n            if (subtab === 'Milestones') { return player.proggress.main >= 20 || !player.inflation.vacuum; }\n            return subtab === 'Matter' || subtab === null;\n        case 'inflation':\n            if (player.proggress.main < 19) { return false; }\n            return subtab === 'Inflations' || subtab === 'Milestones' || subtab === null;\n        case 'settings':\n            if (subtab === 'History') { return player.proggress.main >= 17 || (!player.inflation.vacuum && player.proggress.main >= 11); }\n            return subtab === 'Settings' || subtab === 'Stats' || subtab === null;\n        default:\n            return false;\n    }\n};\n\nexport const checkBuilding = (index: number, stageIndex: number): boolean => {\n    if (index < 1 || global.buildingsInfo.maxActive[stageIndex] < index + 1) { return false; }\n\n    if (stageIndex === 1) {\n        return true;\n    } else if (stageIndex === 2) {\n        return true;\n    } else if (stageIndex === 3) {\n        if (index === 1) { return (player.inflation.vacuum ? player.buildings[1][1].true : player.accretion.rank) !== 0; }\n        if (index === 2) { return player.upgrades[3][2] === 1; }\n        if (index === 3) { return player.upgrades[3][4] === 1; }\n        if (index === 4) { return player.upgrades[3][8] === 1; }\n        if (index === 5) { return player.upgrades[3][11] === 1; }\n    } else if (stageIndex === 4) {\n        if (player.collapse.mass < global.collapseInfo.unlockB[index] && player.researchesExtra[5][0] < 1) { return false; }\n        if (index === 1) { return true; }\n        if (index === 2) { return player.researchesExtra[4][0] >= 1; }\n        if (index === 3) { return player.researchesExtra[4][0] >= 2; }\n        if (index === 4) { return player.researchesExtra[4][0] >= 3; }\n        if (index === 5) { return player.elements[26] >= 1; }\n    } else if (stageIndex === 5) {\n        if (index === 1) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n        if (index === 2) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n        if (index === 3) { return player.researchesExtra[5][0] >= 1; }\n    } else if (stageIndex === 6) {\n        if (index === 1) { return player.upgrades[6][0] === 1 || player.researches[6][0] >= 6; }\n    }\n\n    return false;\n};\n\nexport const checkVerse = (index: number): boolean => {\n    if (index === 0) {\n        const challenge = player.challenges.active;\n        return challenge === null ? player.inflation.vacuum : global.challengesInfo[challenge].time >= player.time[global.challengesInfo[challenge].resetType];\n    }\n    return false;\n};\n\nexport const getVerseType = (): number => {\n    const challenge = player.challenges.active;\n    return challenge === null ? player.verses[0].true : player.verses[0].other[challenge === 0 && !player.challenges.super ? 0 : challenge + 1];\n};\n\nexport const checkUpgrade = (upgrade: number, stageIndex: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements' | 'strangeness' | 'inflations'): boolean => {\n    switch (type) { //Some cases are handled by max level being 0\n        case 'upgrades':\n            if (global.upgradesInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                if (upgrade === 0 || upgrade === 1) { return player.inflation.vacuum; }\n                if (upgrade === 3) { return player.upgrades[1][5] === 1 || player.buildings[1][player.inflation.vacuum ? 4 : 2].total.moreThan(0); }\n                if (upgrade === 4) { return player.upgrades[1][5] === 1 || player.buildings[1][player.inflation.vacuum ? 5 : 3].total.moreThan(0); }\n                if (upgrade > 5) {\n                    if (player.upgrades[1][5] !== 1) { return false; }\n                    if (upgrade === 10) { return player.strangeness[5][10] >= 1; }\n                }\n                return true;\n            } else if (stageIndex === 2) {\n                if (upgrade === 0) { return player.buildings[2][1].true >= 1 || player.buildings[2][2].true >= 1; }\n                if (upgrade === 7) { return player.strangeness[2][2] >= 3; }\n                if (upgrade === 8) { return player.strangeness[2][8] >= 3; }\n                return true;\n            } else if (stageIndex === 3) {\n                if (player.accretion.rank < global.accretionInfo.rankU[upgrade]) { return false; }\n                if (upgrade === 7) { return player.strangeness[3][2] >= 3; }\n                if (upgrade === 13) { return player.strangeness[5][10] >= 3; }\n                return true;\n            } else if (stageIndex === 4) {\n                const galaxy = player.researchesExtra[5][0] >= 1;\n                if (!galaxy && player.collapse.mass < global.collapseInfo.unlockU[upgrade]) { return false; }\n                if (upgrade === 2) { return player.upgrades[4][1] === 1; }\n                if (upgrade === 3) { return player.strangeness[4][2] >= 3 && player.upgrades[4][2] === 1 && (galaxy || player.collapse.stars[1] > 0); }\n                if (upgrade === 4) { return player.strangeness[4][9] >= 1 && player.upgrades[4][3] === 1; }\n                if (upgrade === 5) { return player.strangeness[5][10] >= 4 && player.upgrades[4][4] === 1; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (getVerseType() < global.mergeInfo.unlockU[upgrade]) { return false; }\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n                if (upgrade === 1) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n                if (upgrade === 2) { return player.buildings[5][3].true >= 1; }\n                if (upgrade === 3) { return player.inflation.vacuum ? player.accretion.rank >= 7 : player.milestones[5][1] >= 8; }\n                return player.accretion.rank >= 7;\n            } else if (stageIndex === 6) {\n                return upgrade === 0;\n            }\n            break;\n        case 'researches':\n            if (global.researchesInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                return player.upgrades[1][5] === 1;\n            } else if (stageIndex === 2) {\n                if (upgrade === 6) { return player.strangeness[5][10] >= 2 && player.tree[1][5] >= 3; }\n                return true;\n            } else if (stageIndex === 3) {\n                return player.accretion.rank >= global.accretionInfo.rankR[upgrade];\n            } else if (stageIndex === 4) {\n                const galaxy = player.researchesExtra[5][0] >= 1;\n                if (!galaxy && player.collapse.mass < global.collapseInfo.unlockR[upgrade]) { return false; }\n                if (upgrade === 3) { return (galaxy || player.collapse.stars[0] > 0) && player.strangeness[4][2] >= 1; }\n                if (upgrade === 4) { return galaxy || player.collapse.stars[2] > 0; }\n                if (upgrade === 5) { return (galaxy || player.collapse.stars[2] > 0) && player.strangeness[4][9] >= 3; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (getVerseType() < global.mergeInfo.unlockR[upgrade]) { return false; }\n                if (upgrade === 0) { return player.inflation.vacuum || player.milestones[2][0] >= 7; }\n                if (upgrade === 1) { return player.inflation.vacuum || player.milestones[3][0] >= 7; }\n                return player.accretion.rank >= 7;\n            } else if (stageIndex === 6) {\n                return player.darkness.active;\n            }\n            break;\n        case 'researchesExtra':\n            if (global.researchesExtraInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n            if (stageIndex === 1) {\n                if (upgrade === 1) { return player.researchesExtra[1][2] >= 2; }\n                if (upgrade === 3) { return player.researchesExtra[1][2] >= 1; }\n                if (upgrade === 4) { return player.accretion.rank >= 6; }\n                if (upgrade === 5) { return player.accretion.rank >= 6 && player.strangeness[5][10] >= 1; }\n                return player.upgrades[1][5] === 1;\n            } else if (stageIndex === 2) {\n                if (upgrade === 3) { return player.accretion.rank >= 6; }\n                if (upgrade === 4) { return player.accretion.rank >= 7 && player.strangeness[5][10] >= 2; }\n                return player.upgrades[2][2] === 1;\n            } else if (stageIndex === 3) {\n                if (player.accretion.rank < global.accretionInfo.rankE[upgrade]) { return false; }\n                if (upgrade === 4) { return player.researchesExtra[1][2] >= 2; }\n                if (upgrade === 5) { return player.strangeness[5][10] >= 3; }\n                return true;\n            } else if (stageIndex === 4) {\n                if (upgrade === 1) { return player.collapse.stars[0] > 0 || player.researchesExtra[5][0] >= 1; }\n                if (upgrade === 2) { return (player.collapse.stars[0] > 0 || player.researchesExtra[5][0] >= 1) && player.strangeness[4][2] >= 2; }\n                if (upgrade === 3) { return (player.collapse.stars[1] > 0 || player.researchesExtra[5][0] >= 1) && player.strangeness[4][9] >= 2; }\n                if (upgrade === 4) { return (player.collapse.stars[2] > 0 || player.researchesExtra[5][0] >= 1) && player.strangeness[5][10] >= 4; }\n                return true;\n            } else if (stageIndex === 5) {\n                if (getVerseType() < global.mergeInfo.unlockE[upgrade]) { return false; }\n                if (upgrade === 0) { return (player.inflation.vacuum || player.milestones[4][1] >= 8) && player.strangeness[5][3] >= 1; }\n                return player.accretion.rank >= 7;\n            } else if (stageIndex === 6) {\n                return player.upgrades[6][0] === 1;\n            }\n            break;\n        case 'researchesAuto': {\n            const autoStage = global.researchesAutoInfo.autoStage[upgrade][player.researchesAuto[upgrade]]; //Can be undefined\n            if (!(autoStage === stageIndex || (autoStage === 4 && stageIndex === 5))) { return false; }\n            if (upgrade === 0) { return player.inflation.vacuum; }\n            if (upgrade === 1) { return player.inflation.vacuum && player.accretion.rank >= 6; }\n            return true;\n        }\n        case 'ASR':\n            if (stageIndex === 1) { return player.upgrades[1][5] >= 1; }\n            if (stageIndex === 3) { return player.accretion.rank !== 0; }\n            return true;\n        case 'elements':\n            if (upgrade >= 29) {\n                let verses = player.upgrades[4][4] === 1 ? 1 + getVerseType() : 0;\n                if (player.upgrades[4][5] === 1) { verses += 1 + player.verses[1].true; }\n                return verses >= upgrade - 28;\n            }\n            if (upgrade >= 27) { return player.upgrades[4][3] === 1; }\n            if (upgrade >= 11) { return player.upgrades[4][2] === 1 && (player.collapse.stars[1] > 0 || player.researchesExtra[5][0] >= 1); }\n            if (upgrade >= 6) { return player.upgrades[4][2] === 1; }\n            return player.upgrades[4][1] === 1 && upgrade > 0;\n        case 'strangeness':\n            if (player.inflation.vacuum) {\n                if (stageIndex === 1) {\n                    if (upgrade === 7) { return player.challenges.void[1] >= 1; }\n                    if (upgrade === 8) { return player.challenges.void[1] >= 2; }\n                    if (upgrade === 9) { return player.challenges.void[4] >= 2; }\n                } else if (stageIndex === 2) {\n                    if (upgrade === 7) { return player.challenges.void[1] >= 3; }\n                    if (upgrade === 8) { return player.challenges.void[2] >= 1; }\n                    if (upgrade === 9) { return player.challenges.void[2] >= 2; }\n                } else if (stageIndex === 3) {\n                    if (upgrade === 8) { return player.challenges.void[4] >= 4; }\n                    if (upgrade === 9) { return player.challenges.void[5] >= 1; }\n                } else if (stageIndex === 4) {\n                    if (upgrade === 8) { return player.challenges.void[4] >= 3; }\n                    if (upgrade === 9) { return player.challenges.void[4] >= 5; }\n                } else if (stageIndex === 5) {\n                    if (upgrade === 4) { return player.challenges.void[4] >= 1; }\n                    if (upgrade === 8) { return player.challenges.void[3] >= 5; }\n                    if (upgrade === 9) { return player.challenges.void[3] >= 6; }\n                    if (upgrade === 10) { return player.challenges.void[2] >= 3; }\n                    if ([0, 1, 5, 7].includes(upgrade)) { return player.strangeness[5][3] >= 1; }\n                } else if (stageIndex === 6) {\n                    return player.challenges.void[5] >= 2;\n                }\n            } else {\n                if (global.strangenessInfo[stageIndex].maxActive < upgrade + 1) { return false; }\n                if (player.challenges.active === 1) {\n                    if (stageIndex === 1) {\n                        if (player.milestones[1][1] >= 6) { return false; }\n                    } else if (stageIndex === 2) {\n                        if (player.milestones[2][1] >= 7) { return false; }\n                    } else if (stageIndex === 3) {\n                        if (player.milestones[3][1] >= 7) { return false; }\n                    }\n                }\n                if (((stageIndex === 1 || stageIndex === 2) && upgrade < 6) || ((stageIndex === 3 || stageIndex === 4) && upgrade < 7)) { return true; }\n                if (player.milestones[4][0] < 8) { return false; }\n                if (stageIndex === 5) {\n                    if (upgrade === 2) { return player.milestones[5][0] >= 8; }\n                    if (upgrade === 4) { return player.milestones[4][1] >= 8; }\n                    if ([0, 1, 3, 5].includes(upgrade)) { return player.milestones[2][0] >= 7 || player.milestones[3][0] >= 7; }\n                }\n            }\n            return true;\n        case 'inflations':\n            if (stageIndex === 0) {\n                if (player.proggress.main < 19) { return false; }\n                if (upgrade === 5) { return player.challenges.supervoid[3] >= 4; }\n                if (upgrade === 6) { return player.challenges.supervoid[2] >= 2; }\n                return upgrade >= 0 || upgrade <= 4;\n            } else {\n                if (upgrade === 2) { return player.challenges.supervoid[3] >= 3; }\n                if (upgrade === 3) { return player.challenges.supervoid[4] >= 2; }\n                if (upgrade === 4) { return player.challenges.supervoid[1] >= 1; }\n                if (upgrade === 5) { return player.challenges.supervoid[2] >= 1; }\n                if (upgrade === 6) { return player.challenges.supervoid[3] >= 1; }\n                if (upgrade === 7) { return player.challenges.supervoid[4] >= 1; }\n                if (upgrade === 8) { return player.challenges.supervoid[1] >= 3; }\n                return true;\n            }\n    }\n\n    return false;\n};\n\nexport const allowedToBeReset = (check: number, stageIndex: number, type: 'structures' | 'upgrades' | 'researches' | 'researchesExtra' | 'elements'): boolean => {\n    switch (type) {\n        case 'structures':\n            if (stageIndex === 1) { return check !== 1 || !player.inflation.vacuum || player.challenges.supervoid[1] < 2; }\n            if (stageIndex === 5) { return check !== 3; }\n            break;\n        case 'upgrades':\n            if (stageIndex === 1) { return check !== 5; }\n            if (stageIndex === 2) { return check !== 2; }\n            if (stageIndex === 4) { return false; }\n            if (stageIndex === 5) { return check !== 3; }\n            if (stageIndex === 6) { return check !== 0; }\n            break;\n        case 'researches':\n            if (stageIndex === 1) { return check !== 3; }\n            if (stageIndex === 6) { return check !== 3; }\n            break;\n        case 'researchesExtra':\n            if (stageIndex === 1) { return check !== 2; }\n            if (stageIndex === 2) { return check > 2; }\n            if (stageIndex === 4) { return check !== 0; }\n            if (stageIndex === 5) { return false; }\n            if (stageIndex === 6) { return false; }\n            break;\n        case 'elements':\n            return ![26, 29, 30].includes(check);\n    }\n\n    return true;\n};\n\nexport const getStageResetType = (): number => {\n    const type = player.stage.input[0];\n    return type === 3 && player.verses[0].current < 8 ? 2 : type;\n};\n\nexport const allowedToEnter = (challenge: number): boolean => {\n    if (challenge === 0) { return (player.inflation.vacuum || player.challenges.super) && player.proggress.main >= 17; }\n    if (challenge === 1) { return player.proggress.main >= 22; }\n    if (challenge === 2) { return !player.darkness.active && player.strangeness[6][3] >= 1; }\n    return false;\n};\n\nexport const milestoneGetValue = (index: number, stageIndex: number): number | Overlimit => {\n    if (stageIndex === 1) {\n        if (index === 0) { return player.buildings[1][player.inflation.vacuum ? 1 : 0].total; }\n        if (index === 1) { return player.discharge.energy; }\n    } else if (stageIndex === 2) {\n        if (index === 0) { return player.buildings[2][1].total; }\n        if (index === 1) { return player.inflation.vacuum ? player.vaporization.clouds : player.buildings[2][2].current; }\n    } else if (stageIndex === 3) {\n        if (index === 0) { return player.buildings[3][0].total; }\n        if (index === 1) { return player.buildings[3][4].true + player.buildings[3][5].true; }\n    } else if (stageIndex === 4) {\n        if (index === 0) { return player.buildings[4][0].total; }\n        if (index === 1) { return player.inflation.vacuum ? player.collapse.stars[2] : global.collapseInfo.newMass; }\n    } else if (stageIndex === 5) {\n        if (index === 0) {\n            if (!player.inflation.vacuum) { return global.collapseInfo.trueStars; }\n            const stars = player.buildings[4];\n            return new Overlimit(stars[1].total).allPlus(stars[2].total, stars[3].total, stars[4].total, stars[5].total);\n        }\n        if (index === 1) { return player.buildings[5][3].true; }\n    }\n    return 0;\n};\nexport const milestoneCheck = (index: number, stageIndex: number): boolean => {\n    const pointer = global.milestonesInfo[stageIndex];\n    if (player.inflation.vacuum) {\n        if (player.challenges.active !== 0 || player.tree[0][4] < 1 ||\n            global.challengesInfo[0].time < player.time[player.challenges.super ? 'vacuum' : 'stage']) { return false; }\n    } else if (pointer.scaling[index].length <= player.milestones[stageIndex][index] ||\n        player.proggress.main < 11 || (stageIndex === 5 && player.milestones[4][index] < 8) ||\n        (player.tree[0][4] < 1 && pointer.reward[index] < player.time.stage)\n    ) { return false; }\n    return pointer.need[index].lessOrEqual(milestoneGetValue(index, stageIndex));\n};\n", "import { getVerseType } from './Check';\nimport Overlimit from './Limit';\nimport { cloneArray, deepClone, getId, getQuery, playerStart, toggleConfirm, toggleSwap } from './Main';\nimport { globalSave, specialHTML } from './Special';\nimport { calculateMaxLevel, assignMilestoneInformation, calculateEffects, toggleSupervoid, assignBuildingsProduction, assignResetInformation, assignChallengeInformation, logAny } from './Stage';\nimport type { globalType, playerType, vacuumStartType } from './Types';\nimport { format, switchTab, updateCollapsePoints, visualProggressUnlocks } from './Update';\n\nexport const player: playerType = {\n    version: 'v0.2.8_will_be_deleted',\n    fileName: 'Fundamental, [dateD.M.Y] [timeH-M-S], [stage]',\n    stage: {\n        current: 1,\n        active: 1,\n        resets: 0,\n        time: 0,\n        peak: [0, 0],\n        input: [1, 0, 0, 0]\n    },\n    discharge: {\n        energy: 0,\n        current: 0\n    },\n    vaporization: {\n        clouds: 0,\n        input: [3, 0]\n    },\n    accretion: {\n        rank: 0\n    },\n    collapse: {\n        mass: 0.01235,\n        stars: [0, 0, 0],\n        show: 0,\n        maxElement: 0,\n        input: [2, 1e6],\n        points: []\n    },\n    merge: {\n        rewards: [0, 0, 0, 0],\n        claimed: [0, 0],\n        resets: 0,\n        input: [0, 0],\n        since: 0\n    },\n    darkness: {\n        active: false,\n        tier: 0,\n        energy: 0,\n        fluid: 0,\n        input: 1.5\n    },\n    inflation: {\n        loadouts: [],\n        vacuum: false,\n        resets: 0,\n        age: 0,\n        ends: [0, 0, 0],\n        time: 0,\n        peak: [0, 0]\n    },\n    time: {\n        updated: Date.now(),\n        started: Date.now(),\n        excess: 0,\n        export: [0, 0, 0, 0],\n        offline: 0,\n        online: 0,\n        end: 0,\n        universe: 0,\n        vacuum: 0,\n        stage: 0\n    },\n    buildings: [[] as unknown as playerType['buildings'][0]],\n    verses: [\n        {\n            true: 0,\n            other: [0, 0, 0],\n            current: 0,\n            highest: 0,\n            lowest: [255, 255, 255],\n            total: 0\n        }, {\n            true: 0,\n            current: 0,\n            total: 0\n        }\n    ],\n    strange: [\n        {\n            current: 0,\n            total: 0\n        }, {\n            current: 0,\n            total: 0\n        }\n    ],\n    cosmon: [{\n        current: 0,\n        total: 0\n    }, {\n        current: 0,\n        total: 0\n    }],\n    upgrades: [[]],\n    researches: [[]],\n    researchesExtra: [[]],\n    researchesAuto: [],\n    ASR: [],\n    elements: [],\n    strangeness: [[]],\n    milestones: [[]],\n    tree: [],\n    challenges: {\n        active: null,\n        super: false,\n        void: [0, 0, 0, 0, 0, 0],\n        voidCheck: [0, 0, 0, 0, 0, 0],\n        supervoid: [0, 0, 0, 0, 0, 0],\n        supervoidMax: [0, 0, 0, 0, 0, 0],\n        stability: 0\n    },\n    toggles: {\n        normal: [], //class 'toggleNormal'\n        confirm: [], //Class 'toggleConfirm'\n        hover: [], //Class 'toggleHover'\n        max: [], //Class 'toggleMax'\n        auto: [], //Class 'toggleAuto'\n        buildings: [[]],\n        verses: [],\n        shop: {\n            input: 0,\n            wait: [2]\n        }\n    },\n    history: {\n        stage: {\n            best: [3.1556952e16, 0, 0, 0, 0],\n            list: [],\n            input: [20, 100]\n        },\n        end: {\n            best: [3.1556952e16, 0, 0, 0, 0],\n            list: [],\n            input: [20, 100]\n        }\n    },\n    proggress: {\n        main: 0,\n        results: 0\n    },\n    clone: {}\n};\n\n/* All values must be from true Vacuum (doesn't include most of 'maxActive's) */\nexport const global: globalType = {\n    tabs: {\n        current: 'stage',\n        list: ['stage', 'upgrade', 'strangeness', 'inflation', 'settings'],\n        stage: {\n            current: 'Structures',\n            list: ['Structures', 'Advanced']\n        },\n        upgrade: {\n            current: 'Upgrades',\n            list: ['Upgrades', 'Elements']\n        },\n        strangeness: {\n            current: 'Matter',\n            list: ['Matter', 'Milestones']\n        },\n        inflation: {\n            current: 'Inflations',\n            list: ['Inflations', 'Milestones']\n        },\n        settings: {\n            current: 'Settings',\n            list: ['Settings', 'Stats', 'History']\n        }\n    } as globalType['tabs'],\n    debug: {\n        timeLimit: false,\n        challenge: null,\n        rankUpdated: null,\n        historyStage: null,\n        historyEnd: null\n    } as globalType['debug'],\n    offline: {\n        active: true,\n        stage: [null, null],\n        autosave: false,\n        cacheUpdate: true\n    },\n    paused: true,\n    trueActive: 1,\n    lastSave: 0,\n    lastUpdate: null,\n    hotkeys: {\n        disabled: true,\n        shift: false,\n        ctrl: false,\n        tab: false,\n        last: ''\n    },\n    lastUpgrade: [[null, 'upgrades']],\n    lastElement: null,\n    lastStrangeness: [null, 0],\n    lastInflation: [null, 0],\n    lastMilestone: [null, 0],\n    lastChallenge: [1, 1],\n    sessionToggles: [false, false],\n    automatization: {\n        autoU: [[]],\n        autoR: [[]],\n        autoE: [[]],\n        element: 1,\n        autoS: []\n    },\n    stageInfo: {\n        word: ['', 'Microworld', 'Submerged', 'Accretion', 'Interstellar', 'Intergalactic', 'Abyss'],\n        textColor: ['', 'cyan', 'blue', 'gray', 'orange', 'darkorchid', 'darkviolet'],\n        buttonBorder: ['', 'darkcyan', '#386cc7', '#424242', '#a35700', '#8f004c', '#6c1ad1'],\n        imageBorderColor: ['', '#008b8b', '#1460a8', '#5b5b75', '#e87400', '#b324e2', '#5300c1'],\n        costName: ['', 'Energy', 'Drops', 'Mass', 'Stardust', 'Stardust', 'Dark matter'],\n        activeAll: []\n    },\n    dischargeInfo: {\n        energyType: [[], [], [], [], [], [], []],\n        energyStage: [0, 0, 0, 0, 0, 0, 0],\n        energyTrue: 0,\n        scaling: 10,\n        next: 1,\n        total: 0,\n        base: 1\n    },\n    vaporizationInfo: {\n        S2Research0: 0,\n        S2Research1: 0,\n        S2Extra1: 0,\n        get: 0\n    },\n    accretionInfo: {\n        unlockA: [2, 4, 8, 11],\n        rankU: [1, 1, 2, 2, 3, 3, 4, 4, 4, 4, 5, 5, 5, 7],\n        rankR: [1, 1, 2, 2, 3, 3, 3, 4, 5],\n        rankE: [2, 3, 4, 5, 3, 6],\n        rankCost: [5.9722e27, 1e-7, 1e10, 1e24, 5e29, 2.45576045e31, 1.98847e40],\n        rankColor: ['blue', 'cyan', 'gray', 'gray', 'gray', 'darkviolet', 'orange', 'gray'],\n        rankName: ['Ocean world', 'Cosmic dust', 'Meteoroid', 'Asteroid', 'Planet', 'Jovian planet', 'Protostar', 'Protogalaxy'],\n        rankImage: ['Ocean%20world.png', 'Dust.png', 'Meteoroids.png', 'Asteroid.png', 'Planet.png', 'Giant.png', 'Protostar.png', 'Protogalaxy.png'],\n        maxRank: 4,\n        effective: 1,\n        disableAuto: false,\n        dustSoft: 1\n    },\n    collapseInfo: {\n        unlockB: [0, 0.01235, 0.23, 10, 40, 1000],\n        unlockU: [0.01235, 0.076, 1.3, 10, 40, 1000],\n        unlockR: [0.18, 0.3, 0.8, 1.3, 40, 1000],\n        newMass: 0,\n        starCheck: [0, 0, 0],\n        trueStars: 0,\n        pointsLoop: 0, //Micro optimization\n        solarCap: 0.01235\n    },\n    mergeInfo: {\n        unlockU: [0, 0, 0, 0, 1, 1, 4],\n        unlockR: [0, 0, 3, 3, 60],\n        unlockE: [0, 2, 4, 4, 60, 60],\n        S5Extra2: 0,\n        checkReward: [0, 0, 0, 0],\n        galaxies: 0\n    },\n    inflationInfo: {\n        globalSpeed: 1,\n        trueUniverses: 0,\n        totalSuper: 0,\n        newFluid: 0\n    },\n    intervalsId: {\n        main: undefined,\n        numbers: undefined,\n        visual: undefined,\n        autoSave: undefined,\n        mouseRepeat: undefined\n    },\n    buildingsInfo: {\n        maxActive: [0, 4, 6, 5, 5, 4, 1], //[5] is required\n        name: [\n            [],\n            ['Mass', 'Preons', 'Quarks', 'Particles', 'Atoms', 'Molecules'], //[0] Must be 'Mass'\n            ['Moles', 'Drops', 'Puddles', 'Ponds', 'Lakes', 'Seas', 'Oceans'],\n            ['Mass', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites', 'Subsatellites'],\n            ['Stardust', 'Brown dwarfs', 'Main sequence', 'Red supergiants', 'Blue hypergiants', 'Quasi-stars'],\n            ['Stars', 'Nebulas', 'Star clusters', 'Galaxies'],\n            ['Dark matter', 'Dark planets']\n        ],\n        hoverText: [\n            [],\n            ['Mass', 'Preons', 'Quarks', 'Particles', 'Atoms'],\n            ['Tritium', 'Drops', 'Puddles', 'Puddles', 'Puddles', 'Puddles'],\n            ['Preons hardcap', 'Cosmic dust', 'Planetesimals', 'Protoplanets', 'Satellites'],\n            ['Stardust', 'Stardust', 'Stardust', 'Stardust', 'Stardust'],\n            ['Interstellar Stars', 'Interstellar Stars', 'Nebulas and Star clusters'],\n            ['Dark matter softcap']\n        ],\n        type: [\n            [],\n            ['producing', 'producing', 'producing', 'producing', 'producing'],\n            ['improving', 'producing', 'improving', 'improving', 'improving', 'improving'],\n            ['delaying', 'producing', 'producing', 'improving', 'improving'],\n            ['producing', 'producing', 'producing', 'producing', 'producing'],\n            ['producing', 'improving', 'improving'],\n            ['delaying']\n        ],\n        firstCost: [\n            [],\n            [0, 0.005476, 6, 3, 24, 3],\n            [0, 2.7753108348135e-3, 100, 1e7, 1e18, 1e23, 2.676e25],\n            [0, 1e-19, 1e-9, 1e21, 1e17, 1e22],\n            [0, 1, 1e5, 1e15, 1e27, 1e50],\n            [0, 1e50, 1e54, 1e5],\n            [0, 1e8]\n        ],\n        increaseStart: [[]],\n        increase: [\n            [],\n            [0, 1.4, 1.4, 1.4, 1.4, 1.4],\n            [0, 1.15, 1.2, 1.25, 1.35, 1.4, 4],\n            [0, 1.15, 1.25, 1.35, 10, 10],\n            [0, 1.4, 1.55, 1.70, 1.85, 2],\n            [0, 2, 2, 1.11],\n            [0, 1.4]\n        ],\n        producing: [[]] as unknown as globalType['buildingsInfo']['producing']\n    },\n    strangeInfo: {\n        name: ['Strange quarks', 'Strangelets'],\n        stageBoost: [1, 1, 1, 1, 1, 1],\n        strangeletsInfo: [0, 1],\n        strange0Gain: 0,\n        strange1Gain: 0\n    },\n    upgradesInfo: [\n        {} as globalType['upgradesInfo'][0], { //Stage 1\n            name: [\n                'Weak force',\n                'Strong force',\n                'Electrons',\n                'Protons',\n                'Neutrons',\n                'Superposition',\n                'Protium',\n                'Deuterium',\n                'Tritium',\n                'Nuclear fusion',\n                'Nuclear fission'\n            ],\n            effectText: [\n                () => 'Particles will produce 8 times more Quarks.',\n                () => 'Gluons will be able to bind Quarks into Particles, which will make Particles 16 times cheaper.',\n                () => `${player.inflation.vacuum ? 'Atoms' : 'Particles'} will be 8 times cheaper.`,\n                () => `Atoms will produce ${player.inflation.vacuum ? 6 : 4} times more Particles.`,\n                () => 'Molecules will produce 4 times more Atoms.',\n                () => `Ability to regain spent Energy and if had enough Energy, it will also boost production of ${player.inflation.vacuum ? 'Microworld' : 'all'} Structures by ${format(global.dischargeInfo.base, { padding: true })}.${player.inflation.vacuum ? `\\n(In true Vacuum it will also reset resources and all non-self-made Structures from all Stages${player.proggress.main >= 18 ? ' before Abyss' : ''}, and enough self-made Structures to fully regain spent Energy)` : ''}`,\n                () => `Decrease Structures cost scaling by -${format(calculateEffects.S1Upgrade6())}.`,\n                () => `Make self-made Structures boost themselves by ${format(calculateEffects.S1Upgrade7())}.${player.inflation.vacuum ? `\\n(${player.challenges.supervoid[4] >= 4 ? `First ${format(1001)} self` : 'Self'}-made Preons boost themselves by ${format(calculateEffects.S1Upgrade7(true), { padding: player.buildings[1][1].true < 1001 })} instead${player.challenges.supervoid[4] >= 4 ? `, ${format(1.04)} afterwards` : `, softcaps instantly and gets completely disabled after ${format(1001)} Preons`})` : ''}`,\n                () => `Molecules will produce Molecules, at a reduced rate.\\n(${format(new Overlimit(effectsCache.tritium).multiply(global.inflationInfo.globalSpeed), { padding: true })} Molecules per second)`,\n                () => `Unspent Energy ${player.upgrades[1][10] === 1 ? '' : `^${format(0.5)}`} will boost 'Tritium' production of Molecules.\\n(Boost: ${format(calculateEffects.S1Upgrade9(), { padding: true })})`,\n                () => \"Unlock the full strength of 'Nuclear fusion' and increase effective Energy by 2.\"\n            ],\n            cost: [40, 60, 100, 120, 180, 360, 1200, 3600, 12000, 80000, 2.4e6],\n            maxActive: 10\n        }, { //Stage 2\n            name: [\n                'Molecules to Moles',\n                'Water spread',\n                'Vaporization',\n                'Surface tension',\n                'Surface stress',\n                'Stream',\n                'River',\n                'Tsunami',\n                'Tide'\n            ],\n            effectText: [\n                () => `Drops will ${player.inflation.vacuum ? 'improve Tritium' : 'produce Moles'} ${format(player.inflation.vacuum ? 1.02 : 1.04)} times ${player.inflation.vacuum ? 'more' : 'faster'} for every self-made Drop.`,\n                () => `Spread water faster with every Puddle, current formula is ${format(player.challenges.active === 0 && player.challenges.super ? 1.01 : 1.02)} ^ effective Puddles.\\nPuddles after 200 and non-self-made ones are raised to the power of ${format(0.7)}.\\n(Total effect: ${format(calculateEffects.S2Upgrade1(), { padding: true })})`,\n                () => `Gain ability to convert Drops into Clouds. Cloud gain formula: (Drops / ${format(calculateEffects.S2Upgrade2())}) ^${format(calculateEffects.cloudsGain())}, gain is reduced with Clouds.`,\n                () => `Puddles will get a boost based on Moles ^${format(calculateEffects.S2Upgrade3_power())}.\\n(Boost: ${format(calculateEffects.S2Upgrade3(), { padding: true })})`,\n                () => `Puddles will get a boost based on Drops ^${format(calculateEffects.S2Upgrade4_power())}.\\n(Boost: ${format(calculateEffects.S2Upgrade4(), { padding: true })})`,\n                () => { //[5]\n                    const effect = 1 + player.researches[2][4];\n                    return `Ponds will increase current Puddle amount. (${effect} extra Puddle${effect !== 1 ? 's' : ''} per Pond)`;\n                },\n                () => { //[6]\n                    const effect = 1 + player.researches[2][5];\n                    return `Lakes will increase current Pond amount. (${effect} extra Pond${effect !== 1 ? 's' : ''} per Lake)`;\n                },\n                () => { //[7]\n                    const effect = 1 + player.researches[2][6];\n                    return `Spreads enough water to make Seas increase current Lake amount. (${effect} extra Lake${effect !== 1 ? 's' : ''} per Sea)`;\n                },\n                () => 'Spreads water too fast. 1 extra Sea per Ocean.\\nIt will also improve Oceans effect scaling.'\n            ],\n            cost: [10, 1e6, 1e10, 1e3, 1e4, 2e9, 5e20, 1e28, 2e48] as unknown as Overlimit[],\n            maxActive: 8\n        }, { //Stage 3\n            name: [\n                'Brownian motion',\n                'Gas',\n                'Micrometeoroid',\n                'Streaming instability',\n                'Gravitational field',\n                'Rubble pile',\n                'Magma ocean',\n                'Hydrostatic equilibrium',\n                'Satellite system',\n                'Atmosphere',\n                'Pebble accretion',\n                'Tidal force',\n                'Ring system',\n                'Self-gravity'\n            ],\n            effectText: [\n                () => `Through random collisions every self-made Cosmic dust will ${player.inflation.vacuum ? 'delay Preons hardcap even more' : 'produce even more Mass'}.\\n(By ${format(calculateEffects.S3Upgrade0())} per self-made Cosmic dust)`,\n                () => `A new substance for the Accretion, it will provide boost to Cosmic dust based on its quantity.\\n(Formula: (self-made * current) ^${format(calculateEffects.S3Upgrade1_power())} | Boost: ${format(calculateEffects.S3Upgrade1(), { padding: true })})`,\n                () => 'Just a small meteoroid, but it will be a good base for what to come.\\n(Unlock a new Structure and get 2x boost to Cosmic dust)',\n                () => `Small bodies will spontaneously concentrate into clumps.\\n(Self-made Planetesimals will boost each other by ${format(calculateEffects.S3Upgrade3())})`,\n                () => 'Bodies will become massive enough to affect each other with their own gravity.\\n(Unlock a new Structure and get 3x boost to Planetesimals)',\n                () => `Shattered pieces will fall back together. ${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 3.`,\n                () => `Melt the core to increase Accretion speed.\\n(Cosmic dust strength will be increased by ${format(2 * 1.5 ** player.researches[3][7])})`,\n                () => `After reaching equilibrium, self-made Protoplanets will boost each other by ${format(1.02)}.`,\n                () => 'Unlock yet another Structure.',\n                () => `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased again (because of drag and escape velocity), by 2.`,\n                () => `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be greatly increased by ${8 * 2 ** player.researches[3][8]}.`,\n                () => `Satellites cost scaling will be 2 times smaller.${player.inflation.vacuum ? '\\nAlso unlock a new Structure.' : ''}`,\n                () => 'Satellites effect will scale better.',\n                () => `Allow for Star clusters to be boosted by ('Gravity' / ${format(2e5)}) ^${format(0.8)} + 1.\\n(Boost is equal to ${format(calculateEffects.S3Upgrade13(), { padding: true })})`\n            ],\n            cost: [1e-16, 1e-13, 1e-13, 1, 1e14, 1e17, 1e10, 1e22, 1e22, 1e23, 1e9, 1e26, 1e29, 1e86] as unknown as Overlimit[],\n            maxActive: 13\n        }, { //Stage 4\n            name: [\n                'Gravitational Collapse',\n                'Proton-proton chain',\n                'Carbon-Nitrogen-Oxygen cycle',\n                'Helium fusion',\n                'Nucleosynthesis',\n                'Proton capture'\n            ],\n            effectText: [\n                () => `As fuel runs out, every Star will boost production in its own special way.\\nSolar mass ${player.inflation.vacuum ? `on Collapse is Accretion Mass / ${format(1.98847e33)} and ` : ''}will not decrease if to reset below current. (Hover over Remnants effects to see what they boost)`,\n                () => \"Fuse with Protium instead of Deuterium. Unlocks 5 first Elements. ('Elements' subtab)\",\n                () => 'Unlock 5 more Elements through the CNO cycle, which is also is a better source of Helium and Energy.',\n                () => 'Through Triple-alpha and then Alpha process unlock 2 more Elements.',\n                () => { //[4]\n                    const effect = 1 + getVerseType();\n                    return `Create new Atomic nuclei with Neutron capture (s-process and r-process).\\nUnlocks ${effect} more Element${effect !== 1 ? 's' : ''} (+1 for every ${player.proggress.main >= 18 ? `${player.challenges.active === 0 ? 'Void' : 'self-made'} Universe` : '(unlocked with Abyss)'}).`;\n                },\n                () => { //[5]\n                    const effect = 1 + player.verses[1].true;\n                    return `Speed up the creation of new Elements by adding even more Protons (p-process and rp-process).\\nUnlocks ${effect} more Element${effect !== 1 ? 's' : ''} (+1 for every self-made Multiverse).`;\n                }\n            ],\n            cost: [100, 1000, 1e9, 1e48, 1e128, 1e256] as unknown as Overlimit[],\n            maxActive: 4\n        }, { //Stage 5\n            name: [\n                'Molecular cloud',\n                'Super Star cluster',\n                'Quasar',\n                'Galactic Merger',\n                'Starburst region',\n                'Globular cluster',\n                'Starburst Galaxy'\n            ],\n            effectText: [\n                () => `Nebula that is dense enough to block the light, it will boost Nebulas by ${format(calculateEffects.S5Upgrade0())}.`,\n                () => `A very massive Star cluster that will boost Star clusters by ${format(calculateEffects.S5Upgrade1())}.`,\n                () => `Boost per Galaxy will be increased by +${format(calculateEffects.S5Upgrade2(false, 1), { padding: true })}.\\n(Effect will be increased by +${format(player.inflation.vacuum ? 0.25 : 0.5)} for every new digit of Solar mass past ${format(1e5)})`,\n                () => `Unlock a new reset type that will bring Galaxies closer for potential Merging.${player.inflation.vacuum ? ' That reset behaves like a Galaxy reset, while also converting self-made Galaxies into bonus ones. Can only be done a limited amount of times per Stage reset.' : ''}`,\n                () => `Region of space that is undergoing a larger amount of Star formations, it will boost Nebulas by ${format(1000 * 10 ** player.researches[5][4])}.`,\n                () => `A spheroidal conglomeration of Stars that is even more dense than Super Star cluster, it will boost Star clusters by ${format(1000 * 10 ** player.researches[5][4])}.`,\n                () => `An entire Galaxy that is undergoing higher rate of Star formations, it will boost Galaxies by ${format(100 * 10 ** player.researches[5][4])}.`\n            ],\n            cost: [1e56, 1e60, 1e120, 1e160, 1e200, 1e210, '1e360'] as unknown as Overlimit[],\n            maxActive: 4\n        }, { //Stage 6\n            name: [\n                'Dark nucleation',\n                'Placeholder'\n            ],\n            effectText: [\n                () => `Unlock a new Dark reset, it will start the formation of the new Dark resources by modifing existing physics.\\n(Formula for Dark fluid gain is (log2(Dark matter / ${format(1e8)}) + Dark energy) ^${format(calculateEffects.S6Upgrade0())}, gain is reduced with more Dark fluid. Dark fluid boost Dark matter production and effective Dark energy)`,\n                () => 'No effect, boost something based on Merge score.'\n            ],\n            cost: [8e12, 2e20] as unknown as Overlimit[],\n            maxActive: 0\n        }\n    ],\n    researchesInfo: [\n        {} as globalType['researchesInfo'][0], { //Stage 1\n            name: [\n                'Stronger Protium',\n                'Better Deuterium',\n                'Improved Tritium',\n                'Requirement decrease',\n                'Discharge improvement',\n                'Radioactive Discharge'\n            ],\n            effectText: [\n                () => `Cost scaling will be -${format(0.03)} smaller with every level.`,\n                () => `Self-made Structures will boost each other by an additional +${format(0.01)}.`,\n                () => `Molecules will produce themselves ${format(calculateEffects.S1Research2())} times quicker.`,\n                () => `Discharge goals requirement will scale slower. (-2)\\n(Creating this Research will make the next Discharge goal to be ${format(calculateEffects.dischargeCost(calculateEffects.dischargeScaling(player.researches[1][3] + 1)))} Energy)`,\n                () => { //[4]\n                    const newBase = calculateEffects.dischargeBase(player.researches[1][4] + 1);\n                    return `Discharge production boost from reached Goals will be increased by +${format(newBase - global.dischargeInfo.base)}.\\n(This is equal to ${format((newBase / global.dischargeInfo.base) ** global.dischargeInfo.total, { padding: true })}x boost improvement)`;\n                },\n                () => `Discharge goals will be able to boost 'Tritium'.\\n(Current effect: ${format(calculateEffects.S1Research5())} ^ level)`\n            ],\n            cost: [],\n            firstCost: [1600, 4800, 16000, 32000, 16000, 24000],\n            scaling: [400, 1200, 8000, 40000, 16000, 16000],\n            max: [5, 4, 8, 2, 4, 3],\n            maxActive: 6 //Required\n        }, { //Stage 2\n            name: [\n                'Better Mole production',\n                'Better Drop production',\n                'Stronger surface tension',\n                'Stronger surface stress',\n                'More streams',\n                'Distributary channel',\n                'Megatsunami'\n            ],\n            effectText: [\n                () => `Drops will ${player.inflation.vacuum ? 'improve Tritium' : 'produce Moles'} ${player.challenges.active === 0 && player.challenges.super ? 2 : 3} times more.${player.upgrades[2][2] === 1 || player.inflation.vacuum ? `\\nEffective level ${global.vaporizationInfo.S2Research0 !== player.researches[2][0] ? `is ${format(global.vaporizationInfo.S2Research0, { padding: true })}, will be restored with more Drops` : 'will be set to 0 after any reset'}.` : ''}`,\n                () => `Puddles will produce ${player.challenges.active === 0 && player.challenges.super ? format(1.4) : 2} times more Drops.${player.upgrades[2][2] === 1 || player.inflation.vacuum ? `\\nEffective level ${global.vaporizationInfo.S2Research1 !== player.researches[2][1] ? `is ${format(global.vaporizationInfo.S2Research1, { padding: true })}, will be restored with more Drops` : 'will be set to 0 after any reset'}.` : ''}`,\n                () => { //[2]\n                    const power = calculateEffects.S2Upgrade3_power(player.researches[2][2] + 1) - calculateEffects.S2Upgrade3_power();\n                    return `'Surface tension' base will be +${format(power)} stronger.\\n(This is equal to ${format(calculateEffects.S2Upgrade3(power), { padding: true })}x boost improvement)`;\n                },\n                () => { //[3]\n                    const power = calculateEffects.S2Upgrade4_power(player.researches[2][3] + 1) - calculateEffects.S2Upgrade4_power();\n                    return `'Surface stress' base will be +${format(power)} stronger.\\n(This is equal to ${format(calculateEffects.S2Upgrade4(power), { padding: true })}x boost improvement)`;\n                },\n                () => 'With more streams, will be able to have even more extra Puddles. (+1 extra Puddles per Pond)',\n                () => 'Rivers will be able to split, which will allow even more Ponds per Lake. (+1 per)',\n                () => 'Big enough to allow even more Lakes per Sea. (+1)'\n            ],\n            cost: [],\n            firstCost: [10, 400, 1e4, 1e5, 1e14, 1e22, 1e80] as unknown as Overlimit[],\n            scaling: [1.366, 5, 1e2, 1e3, 1e3, 1e4, 1],\n            max: [8, 8, 4, 4, 2, 1, 1],\n            maxActive: 6\n        }, { //Stage 3\n            name: [\n                'More massive bodies',\n                'Adhesion',\n                'Space weathering',\n                'Inelastic collisions',\n                'Destructive collisions',\n                'Contact binary',\n                'Gravity',\n                'Planetary differentiation',\n                'Aerodynamic drag'\n            ],\n            effectText: [\n                () => 'Increase strength of Cosmic dust by 3.',\n                () => `Cosmic dust particles will cling to each other. (+${format(0.01)} to 'Brownian motion')`,\n                () => 'Planetesimals will produce more Cosmic dust. (3 times more)',\n                () => `Slow encounter velocities will result in a more efficient growth.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 2.`,\n                () => `When shattered, Planetesimals will replenish small grains quantity.\\n'Streaming instability' effect will be increased by +${format(0.005)}.`,\n                () => `Instead of shattering, some Planetesimals will form a contact binary or even trinary.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be increased by 3.`,\n                () => `Planetesimals will attract other bodies and get a boost to their own production based on unspent Mass ^${format(new Overlimit(calculateEffects.S3Research6()).log(player.buildings[3][0].current), { padding: true })}.\\n(Boost: ${format(calculateEffects.S3Research6(), { padding: true })} \u27F6 ${format(calculateEffects.S3Research6(player.researches[3][6] + 1), { padding: true })}, weaker after ${format(1e21)} Mass)`,\n                () => `'Magma Ocean' will become stronger, by ${format(1.5)}.`,\n                () => `Improve 'Pebble accretion' Accretion speed even more.\\n${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will increased by 2.`\n            ],\n            cost: [],\n            firstCost: [1e-16, 1e-15, 1e-5, 1e2, 1e10, 1e11, 1e15, 1e14, 1e12] as unknown as Overlimit[],\n            scaling: [11, 111, 22, 10, 100, 100, 10, 1e4, 1e3],\n            max: [9, 3, 8, 8, 2, 2, 6, 4, 4],\n            maxActive: 9 //Required\n        }, { //Stage 4\n            name: [\n                'Planetary system',\n                'Star system',\n                'Protoplanetary disk',\n                'Planetary nebula',\n                'Gamma-ray burst',\n                'Inner Black hole'\n            ],\n            effectText: [\n                () => `From Planetesimals to Planets, will get ${format(calculateEffects.S4Research0_base())}x boost to Interstellar Stars with every level.\\n(Total boost: ${format(calculateEffects.S4Research0(), { padding: true })})`,\n                () => { //[1]\n                    const base = calculateEffects.S4Research1();\n                    return `All self-made Stars will boost each other by ${format(base, { padding: true })}.\\n(Total boost: ${format(new Overlimit(base).power(global.collapseInfo.trueStars), { padding: true })} \u27F6 ${format(new Overlimit(calculateEffects.S4Research1(player.researches[4][1] + 1)).power(global.collapseInfo.trueStars), { padding: true })})`;\n                },\n                () => `Improve effect scaling of 'Planetary system', as well increase its max level by +3.\\n(Total boost from 'Planetary system' will be increased by ${format(calculateEffects.S4Research0(calculateEffects.S4Research0_base(player.researches[4][2] + 1) / calculateEffects.S4Research0_base()), { padding: true })})`,\n                () => \"Matter will be expelled from Red giants, this will boost Main-sequence Stars by 2, and also increase 'Planetary system' max level by +3.\",\n                () => `An immensely energetic explosion that will boost Interstellar Stars by ${format(calculateEffects.S4Research4(), { padding: true })}${player.researches[4][4] < 2 ? ` \u27F6 ${format(calculateEffects.S4Research4(false, player.researches[4][4] + 1), { padding: true })}` : ''}.\\n(Effect will be stronger with more Black holes${player.elements[23] >= 1 ? ' and Solar mass' : ''})`,\n                () => 'Quasi-stars will Collapse into Intermediate-mass Black holes that are equivalent to +1 (Stellar) Black holes per level.'\n            ],\n            cost: [],\n            firstCost: [1e3, 5e4, 1e8, 1e11, 1e28, 1e154] as unknown as Overlimit[],\n            scaling: [10, 200, 1e12, 1, 2e8, 1e306],\n            max: [3, 2, 1, 1, 2, 1],\n            maxActive: 5\n        }, { //Stage 5\n            name: [\n                'Higher density',\n                'Type frequency',\n                'Jeans instability',\n                'Gravitational binding Energy',\n                'Star formation'\n            ],\n            effectText: [\n                () => { //[0]\n                    const names = global.buildingsInfo.name[4];\n                    let unlocks = names[1];\n                    for (let i = 2; i < player.researches[5][0] + 2; i++) { unlocks += `, ${names[i]}`; }\n                    return `Higher density of Nebulas will allow them to produce Stars of higher tier, but each tier is 4 times slower than the previous one. It will also boost Nebulas by 2.\\nNext tier will be ${names[Math.min(player.researches[5][0] + 2, player.inflation.vacuum ? 5 : 4)]}. Currently can produce: ${unlocks}.`;\n                },\n                () => { //[1]\n                    const names = global.buildingsInfo.name[4];\n                    const max = (player.inflation.vacuum ? 5 : 4);\n                    let unlocks = names[max];\n                    for (let i = 1; i < player.researches[5][1] + 1; i++) { unlocks += `, ${names[max - i]}`; }\n                    return `More of the same Star type will be found within Star cluster. Star clusters and their minimum strength will be improved by 2. It will also boost Stars of lower tier, but 2 times less than the previous one.\\nNext tier will be ${names[Math.max(max - player.researches[5][1] - 1, 1)]}. Currently can boost: ${unlocks}.`;\n                },\n                () => `Weaken internal gas pressure within Nebulas to cause even more gravitational Collapses.\\nThis will make every self-made Nebula boost each other by ${format(calculateEffects.S5Research2(), { padding: true })}. (+${format(0.00625)} per level)${visualUniverseLevels(4, 5, 60)}`,\n                () => `Increase the Energy required for Star clusters to cease being in a gravitationally bound state.\\nThis will make every self-made Star cluster boost each other by ${format(calculateEffects.S5Research3(), { padding: true })}. (+${format(0.00625)} per level)${visualUniverseLevels(4, 5, 60)}`,\n                () => `Produce even more stars and increase strength of 'Starburst region', 'Globular cluster' and 'Starburst Galaxy' effects by 10 per level.${visualUniverseLevels(70)}`\n            ],\n            cost: [],\n            firstCost: [1e54, 1e58, 1e280, 1e290, '1e550'] as unknown as Overlimit[],\n            scaling: [1e8, 1e8, 1e30, 1e30, 1e30],\n            max: [4, 4, 1, 1, 1],\n            maxActive: 2\n        }, { //Stage 6\n            name: [\n                'Dark aggregation',\n                'Acceleration',\n                'Self-interaction',\n                'Composition'\n            ],\n            effectText: [\n                () => `Boost production of Dark matter by 3 for the first ${6 + player.researchesExtra[6][0]} levels and by 2 for the rest.\\n(First time reaching levels 6, 10, 12 and 20 also unlocks something new)`,\n                () => `Boost global speed by ${format(1.1)}.\\nAlso delays Dark matter softcap by 1 + level.`,\n                () => `Make self-made Dark planets boost each other by 1 + ${format(0.01)} * level and scale in cost slower by -${format(0.05)} * level.`,\n                () => 'Have more Dark energy by increasing its gain by 1 + level.'\n            ],\n            cost: [],\n            firstCost: [2e6, 2e9, 8e9, 5e15] as unknown as Overlimit[],\n            scaling: [2, 2, 3, 20],\n            max: [20, 8, 5, 4],\n            maxActive: 0\n        }\n    ],\n    researchesExtraInfo: [\n        {} as globalType['researchesExtraInfo'][0], { //Stage 1\n            name: [\n                'Extra strong force',\n                'Improved formula',\n                'Accretion',\n                'Later Preons',\n                'Impulse',\n                'Radioactive decay'\n            ],\n            effectText: [\n                () => \"Mesons will be able to bind Particles to form Atoms, which will make Atoms to be affected by 'Strong force'.\\n(Atoms will be 16 times cheaper)\",\n                () => { //[1]\n                    const now = calculateEffects.S1Extra1();\n                    const after = calculateEffects.S1Extra1(player.researchesExtra[1][1] + 1);\n                    return `Improve 'Tritium' formula, current formula is log${format(now)}${player.researchesExtra[1][1] < 4 ? ` \u27F6 log${format(after)}.\\n(Which is equal to ${format(logAny(now, after), { padding: true })}x improvement)` : '.'}`;\n                },\n                () => `First level is to begin the Accretion, second level is to Submerge it.\\nAll Structures produce Energy on creation and all resets affect all lower Stages, while also doing Discharge reset.\\nAccretion Mass is Microworld Mass * ${format(1.78266192e-33)} and Moles are Molecules / ${format(6.02214076e23)}.`,\n                () => { //[3]\n                    const power = calculateEffects.S1Extra3();\n                    const energy = calculateEffects.effectiveEnergy();\n                    return `Boost Preons and delay hardcap by current Energy ^${format(power)}.\\n(Effect: ${format(energy ** power, { padding: true })} \u27F6 ${format(energy ** calculateEffects.S1Extra3(player.researchesExtra[1][3] + 1), { padding: true })})`;\n                },\n                () => { //[4]\n                    const base = calculateEffects.S1Extra4();\n                    return `Discharge goals will be able to boost Interstellar Stars. Their strength is based on Energy and Discharge base.\\nCurrent base is ${format(base, { padding: true })}, total boost is ${format(base ** global.dischargeInfo.total, { padding: true })}.`;\n                },\n                () => `Improve 'Impulse' base strength even more.\\n(This will increase total boost by ${format((calculateEffects.S1Extra4(player.researchesExtra[1][5] + 1) / calculateEffects.S1Extra4()) ** global.dischargeInfo.total, { padding: true })})`\n            ],\n            cost: [],\n            firstCost: [2000, 40000, 12000, 16000, 160000, 1.6e6],\n            scaling: [0, 16000, 68000, 16000, 0, 1.6e6],\n            max: [1, 4, 2, 4, 1, 2],\n            maxActive: 0\n        }, { //Stage 2\n            name: [\n                'Natural Vaporization',\n                'Rain Clouds',\n                'Storm Clouds',\n                'Water Accretion',\n                'Jeans Mass'\n            ],\n            effectText: [\n                () => {\n                    if (!player.inflation.vacuum || player.tree[1][5] < 2) { return 'When formed, Clouds will use Drops produced this reset instead of current ones.'; }\n                    const level = player.researchesExtra[2][0];\n                    const extra = player.strangeness[2][4] >= 2 ? 0.4 : 4;\n                    return `Passively gain ${format((level + 3) * level / extra)}% \u27F6 ${format((level + 4) * (level + 1) / extra)}% Clouds per second. (Not affected by global speed)`;\n                },\n                () => { //[1]\n                    const maxLevel = player.researchesExtra[2][1];\n                    const trueLevel = global.vaporizationInfo.S2Extra1;\n                    const penalty = player.buildings[2][2].true < 1;\n                    const effect = calculateEffects.S2Extra1;\n                    return `Some Clouds will start pouring Drops themselves. This will boost Puddles, even if there are none, based on current Clouds.\\nEffective level ${trueLevel !== maxLevel ? `is ${format(trueLevel, { padding: true })}, will be restored with more Drops, this doesn't` : \"will be set to 0 after any reset, this won't\"} affect pre-Puddles boost.\\n(Effect: ${format(penalty ? (effect(maxLevel) - 1) * global.inflationInfo.globalSpeed : effect(trueLevel), { padding: true })} \u27F6 ${format(penalty ? (effect(maxLevel + 1) - 1) * global.inflationInfo.globalSpeed : effect(maxLevel + (trueLevel === maxLevel ? 1 : 0)), { padding: true })}, weaker after ${format(1e6)} Clouds)`;\n                },\n                () => `Make 'Rain Clouds' boost Seas and their own pre-Puddles effect, at a reduced rate.\\n(Effect: ${format(calculateEffects.S2Extra2(calculateEffects.S2Extra1(player.buildings[2][2].true < 1 ? player.researchesExtra[2][1] : global.vaporizationInfo.S2Extra1), 1), { padding: true })})`,\n                () => { //[3]\n                    const level = player.researchesExtra[2][3];\n                    return `Submerge and boost Interstellar Stars with 'Surface tension'. Also with 'Surface stress' ^${format(0.5)} at level 2, full power at level 3.\\n(Boost to Stars: ${level < 3 ? `${format(level < 1 ? 1 : effectsCache.S2Upgrade3 * (level > 1 ? effectsCache.S2Upgrade4 ** 0.5 : 1), { padding: true })} \u27F6 ` : ''}${format(effectsCache.S2Upgrade3 * (level < 1 ? 1 : effectsCache.S2Upgrade4 ** (level > 1 ? 1 : 0.5)), { padding: true })})`;\n                },\n                () => { //[4]\n                    const level = player.researchesExtra[2][4];\n                    return `High density of Drops will end up boosting Nebulas with 'Surface tension'. Also with 'Surface stress' ^${format(0.5)} at level 2, full power at level 3.\\n(Boost to Nebulas: ${level < 3 ? `${format(level < 1 ? 1 : effectsCache.S2Upgrade3 * (level > 1 ? effectsCache.S2Upgrade4 ** 0.5 : 1), { padding: true })} \u27F6 ` : ''}${format(effectsCache.S2Upgrade3 * (level < 1 ? 1 : effectsCache.S2Upgrade4 ** (level > 1 ? 1 : 0.5)), { padding: true })})`;\n                }\n            ],\n            cost: [],\n            firstCost: [1e18, 1e12, 1e26, 1e14, 1e60] as unknown as Overlimit[],\n            scaling: [1e4, 1e3, 1, 1e8, 1e8],\n            max: [1, 3, 1, 3, 3],\n            maxActive: 3\n        }, { //Stage 3\n            name: [\n                'Rank boost',\n                'Efficient growth',\n                'Weight',\n                'Viscosity',\n                'Efficient submersion',\n                'Ablative armor'\n            ],\n            effectText: [\n                () => `Increase strength of Cosmic dust by another ${format(1.11)} per level. Max level is based on Rank.\\n(Total increase: ${format(1.11 ** player.researchesExtra[3][0], { padding: true })})`,\n                () => { //[1]\n                    const base = calculateEffects.S3Extra1();\n                    return `${player.inflation.vacuum ? 'Preons hardcap delay' : 'Mass production'} from Cosmic dust will be even bigger, current formula is ${format(base)} ^ Rank.\\n(Total boost: ${format(base ** global.accretionInfo.effective, { padding: true })} \u27F6 ${format(calculateEffects.S3Extra1(player.researchesExtra[3][1] + 1) ** global.accretionInfo.effective, { padding: true })})`;\n                },\n                () => \"'Gravitational field' will be able to boost Protoplanets, but at reduced strength. (2x boost)\",\n                () => `'Gas' will be ${format(calculateEffects.S3Upgrade1(calculateEffects.S3Upgrade1_power(player.researchesExtra[3][3] + 1)) / calculateEffects.S3Upgrade1(), { padding: true })} times stronger with every level.`,\n                () => `Submerge quicker by boosting Puddles, effect is based on Rank.\\n(Current boost: ${format(calculateEffects.S3Extra4(), { padding: true })} \u27F6 ${format(calculateEffects.S3Extra4(player.researchesExtra[3][4] + 1), { padding: true })})`,\n                () => `Protect your Mass from being removed by removing Cosmic dust hardcap instead.\\nSecond level will redirect delay to the hardcap as a boost to Cosmic dust that ignores softcap.\\n(Current hardcap delay is ${format(calculateEffects.dustDelay(), { padding: true })})`\n            ],\n            cost: [],\n            firstCost: [1e-18, 1e-7, 1e26, 1e9, 1e-10, 1.98847e40] as unknown as Overlimit[],\n            scaling: [10, 100, 1, 1e5, 1e12, 5.024e59],\n            max: [14, 6, 1, 5, 1, 2],\n            maxActive: 4\n        }, { //Stage 4\n            name: [\n                'Nova',\n                'Mass transfer',\n                'White dwarfs',\n                'Quark-nova',\n                'White holes'\n            ],\n            effectText: [\n                () => `This violent stellar explosion is the main source of Elements, but also starts the formation of new Stars.\\nUnlock a new Star type and even more, after Collapse of that Star type.\\n(Will require at least ${format(global.collapseInfo.unlockB[Math.min(player.researchesExtra[4][0] + 2, 4)])} Solar mass to create that new Star type)`,\n                () => `Star material will transfer from one Star to another, improving Solar mass gain${player.inflation.vacuum ? ' (also delaying Preons hardcap)' : ''} by ${format(calculateEffects.S4Extra1())} in the process.\\nImproved by 'Star system' levels, but also improves their scaling (effect increase for 'Star system' is ${format(new Overlimit(calculateEffects.S4Research1(undefined, 1) / calculateEffects.S4Research1(undefined, 0)).power(global.collapseInfo.trueStars), { padding: true })}).`,\n                () => `After matter were dispeled from Red giant, White dwarf was all that remained.\\nImprove effect of '[6] Carbon' by +${format(0.5)} and increase max level of 'Star system' by +1.`,\n                () => \"As Neutron stars spin down, some of them may get converted into Quark stars.\\nThis will add a new effect to Neutron stars \u2012 Interstellar Stars are cheaper, and will also increase max level of 'Star system' by +1.\",\n                () => 'Spawn White holes that will boost global speed with current Black holes effect.'\n            ],\n            cost: [],\n            firstCost: [4e4, 2e9, 1e50, 1e136, '1e680'] as unknown as Overlimit[],\n            scaling: [1e10, 1, 1, 1, 1],\n            max: [3, 1, 1, 1, 1],\n            maxActive: 3\n        }, { //Stage 5\n            name: [\n                'Hypercompact stellar system',\n                'Interacting Galaxies',\n                'Central dominant Galaxy',\n                'More Merges',\n                'Compact Group',\n                'Interacting Groups'\n            ],\n            effectText: [\n                () => `Super dense core which will allow creation of a new Structure. That Structure will increase Stage reset reward${player.inflation.vacuum ? ', starting Energy after any Reset' : ''}, boost Nebulas and Star clusters. But creating it will fully reset ${player.inflation.vacuum ? 'all' : 'Interstellar and Intergalactic'} Stages.\\nThis Research also removes Solar mass and other Remnant requirements from everything in the Interstellar Stage.`,\n                () => `Unlock a new Result for the Merge resets, requires enough self-made Galaxies before Merging.${global.researchesExtraInfo[5].max[1] > 1 ? '\\nSecond level will allow the use of the excess Galaxies from previous Merge resets when forming new Galaxy groups.' : ''}${visualUniverseLevels(4)}`,\n                () => { //[2]\n                    const maxLevel = player.researchesExtra[5][2] + player.merge.rewards[1];\n                    const trueLevel = global.mergeInfo.S5Extra2;\n                    return `An even bigger Galaxy to improve Stage reset reward and Galaxy groups effect with every Galaxy group.\\nEffective level is ${format(trueLevel, { padding: trueLevel !== maxLevel })}, will be ${trueLevel !== maxLevel ? \"restored with more Stardust, this doesn't\" : \"set to 0 after any reset, this won't\"} affect Stage reset reward.\\n(Total boost: ${format(calculateEffects.S5Extra2(trueLevel), { padding: true })} \u27F6 ${format(calculateEffects.S5Extra2(maxLevel + (maxLevel === trueLevel ? 1 : 0)), { padding: true })})${visualUniverseLevels(Math.max(getVerseType() + 1, 5))}`;\n                },\n                () => `Increase max allowed Merge resets by +1 per level.${visualUniverseLevels(Math.max(getVerseType() + 1, 5))}`,\n                () => `Decrease amount of Galaxies required for the creation of a Galaxy Group.\\n(Effect: ${calculateEffects.S5Extra4()} \u27F6 ${calculateEffects.S5Extra4(player.researchesExtra[5][4] + 1)})${visualUniverseLevels(80, 100)}`,\n                () => `Unlock the second Merge result${global.researchesExtraInfo[5].max[5] > 1 ? ' and it make able to use excess Galaxies at level 2' : ''}${visualUniverseLevels(100)}.`\n            ],\n            cost: [],\n            firstCost: [1e80, 1e270, '1e360', '1e390', '1e510', '1e660'] as unknown as Overlimit[],\n            scaling: [1, 1e120, 1e30, 1e90, 1e90, 1e270],\n            max: [1, 1, 1, 1, 1, 1],\n            maxActive: 1\n        }, { //Stage 6\n            name: [\n                'Faster aggregation',\n                'Time dilation',\n                'Expansion',\n                'Quintessence',\n                'Stability'\n            ],\n            effectText: [\n                () => \"Increases how many levels of 'Dark aggregation' boost production by 3 instead of 2 and max level by +1.\",\n                () => \"Delay 'Global boost' Inflaton Inflation softcap by (1 + level) ^2.\\nAlso increase max level of 'Acceleration' by +2.\",\n                () => { //[2]\n                    const energy = calculateEffects.effectiveDarkEnergy();\n                    return `Delay Dark matter softcap by current Dark energy ^(level / 5).\\n(Current delay: ${format(energy ** (player.researchesExtra[6][2] / 5), { padding: true })} \u27F6 ${format(energy ** ((player.researchesExtra[6][2] + 1) / 5), { padding: true })})`;\n                },\n                () => { //[3]\n                    const delay = calculateEffects.darkSoftcap(true);\n                    return `Buff Universes with Dark matter softcap delays ^(level / 40) by improving the ratio of kinetic and potential Dark energy.\\n(Current effect: ${format(delay ** (player.researchesExtra[6][3] / 40), { padding: true })} \u27F6 ${format(delay ** ((player.researchesExtra[6][3] + 1) / 40), { padding: true })})`;\n                },\n                () => `Increase Dark fluid gain by +^${format(0.05)} and starting effective Dark energy by +Dark fluid effect * level / 4.`\n            ],\n            cost: [],\n            firstCost: [25, 25, 50, 100, 100],\n            scaling: [25, 25, 50, 100, 200],\n            max: [4, 4, 5, 8, 4],\n            maxActive: 0\n        }\n    ],\n    researchesAutoInfo: {\n        name: [\n            'Upgrade automatization',\n            'Element automatization',\n            'Reset automatization'\n        ],\n        effectText: [\n            () => { //[0]\n                let unlocked = 'none';\n                if (player.researchesAuto[0] >= 1) { unlocked = 'auto Upgrades'; }\n                if (player.researchesAuto[0] >= 2) { unlocked += `, Stage${player.researchesAuto[0] >= 3 ? ' and Special' : ''} Researches`; }\n                return `Automatically create all ${['Upgrades', 'Stage Researches', 'Special Researches'][Math.min(player.researchesAuto[0], 2)]} from any Stage.\\n(Unlocked automatization: ${unlocked})`;\n            },\n            () => 'Elements will no longer require Collapse for activation.\\nSecond level will unlock auto creation of Elements.',\n            () => { //[2]\n                const base = `Unlock auto ${['Discharge', player.inflation.vacuum ? 'Rank' : 'Vaporization', player.inflation.vacuum ? 'Vaporization' : 'Rank', 'Collapse'][Math.min(player.inflation.vacuum ? player.researchesAuto[2] : (player.stage.current - 1), 3)]} level 1.`;\n                if (!player.inflation.vacuum) { return base; }\n                const unlocks = [];\n                if (player.researchesAuto[2] >= 1 || player.strangeness[1][4] >= 1) { unlocks.push('Discharge'); }\n                if (player.researchesAuto[2] >= 2 || player.strangeness[3][4] >= 1) { unlocks.push('Rank'); }\n                if (player.researchesAuto[2] >= 3 || player.strangeness[2][4] >= 1) { unlocks.push('Vaporization'); }\n                if (player.researchesAuto[2] >= 4 || player.strangeness[4][4] >= 1) { unlocks.push('Collapse'); }\n                return `${base}\\nAuto resets unlocked through Strangeness will skip related levels and reduce cost by skipped levels.\\n(Unlocked and skipped auto resets: ${unlocks.length === 0 ? 'none' : unlocks.join(', ')})`;\n            }\n        ],\n        costRange: [\n            [1e13, 2e34, 1e30],\n            [136000, 272000],\n            [1200, 1800, 2400, 3000, 3600]\n        ],\n        autoStage: [\n            [2, 3, 4],\n            [1, 1],\n            [6, 6, 6, 6, 6]\n        ],\n        max: [3, 2, 1]\n    },\n    ASRInfo: {\n        name: 'Auto Structures',\n        effectText: () => {\n            const stageIndex = player.stage.active;\n            const index = Math.min(player.ASR[stageIndex] + 1, Math.max(global.ASRInfo.max[stageIndex], 1));\n            let unlocked = true;\n            if (stageIndex === 3) {\n                if (index === 2) {\n                    unlocked = player.proggress.main >= 11 || player.upgrades[3][2] === 1 || player.buildings[3][2].trueTotal.moreThan(0);\n                } else if (index === 3) {\n                    unlocked = player.proggress.main >= 11 || player.upgrades[3][4] === 1 || player.buildings[3][3].trueTotal.moreThan(0);\n                } else if (index === 5) {\n                    unlocked = player.proggress.main >= 16 || player.upgrades[3][11] === 1 || player.buildings[3][5].trueTotal.moreThan(0);\n                }\n            } else if (stageIndex === 4) {\n                if (index === 5) {\n                    unlocked = player.proggress.main >= 16;\n                }\n            } else if (stageIndex === 5) {\n                if (index === 1) {\n                    unlocked = player.proggress.main >= 15 || player.milestones[2][0] >= 7;\n                } else if (index === 2) {\n                    unlocked = player.proggress.main >= 15 || player.milestones[3][0] >= 7;\n                } else if (index === 3) {\n                    unlocked = player.proggress.main >= 15 || player.milestones[4][1] >= 8;\n                }\n            } else if (stageIndex === 6) {\n                if (index === 1) {\n                    unlocked = player.proggress.main >= 23 || player.upgrades[6][0] === 1 || player.researches[6][0] >= 6;\n                }\n            }\n            const names = global.buildingsInfo.name[stageIndex];\n            let unlocks = '';\n            for (let i = 1; i < player.ASR[stageIndex] + 1; i++) {\n                if (i !== 1) { unlocks += ', '; }\n                unlocks += names[i];\n                if (\n                    (stageIndex === 1 && (player.tree[1][8] >= 1 || (i === 1 && player.inflation.vacuum && player.strangeness[1][8] >= 1 && (player.challenges.supervoid[3] >= 5 || player.researchesExtra[1][2] >= 1)))) ||\n                    (stageIndex === 2 && player.tree[1][8] >= 2) ||\n                    (stageIndex === 3 && player.tree[1][8] >= 3) ||\n                    (stageIndex === 4 && player.tree[1][8] >= 4) ||\n                    (stageIndex === 5 && (player.tree[1][8] >= 4 || i === 3))\n                ) { unlocks += '!'; }\n            }\n            return `Automatically make ${unlocked ? names[index] : '(Unknown)'} (counts as self-made) if cost is ${format(player.toggles.shop.wait[stageIndex])} times of the available resources.\\n(Unlocked auto Structures: ${unlocks !== '' ? `${unlocks}${unlocks.includes('!') ? \". '!' means that it ignores wait value\" : ''}` : 'none'})`;\n        },\n        costRange: [\n            [],\n            [2000, 8000, 16000, 32000, 56000],\n            [1e10, 1e14, 1e18, 1e23, 1e28, 1e30],\n            [1e-7, 1e10, 5e29, 2.45576045e31, 2e36],\n            [1e6, 1e17, 1e28, 1e39, 1e52],\n            [1e56, 1e60, 1e100],\n            [8e12]\n        ],\n        max: [0, 3, 5, 4, 4, 3, 0]\n    },\n    elementsInfo: {\n        name: [\n            '[0] Neutronium',\n            '[1] Hydrogen',\n            '[2] Helium',\n            '[3] Lithium',\n            '[4] Beryllium',\n            '[5] Boron',\n            '[6] Carbon',\n            '[7] Nitrogen',\n            '[8] Oxygen',\n            '[9] Fluorine',\n            '[10] Neon',\n            '[11] Sodium',\n            '[12] Magnesium',\n            '[13] Aluminium',\n            '[14] Silicon',\n            '[15] Phosphorus',\n            '[16] Sulfur',\n            '[17] Chlorine',\n            '[18] Argon',\n            '[19] Potassium',\n            '[20] Calcium',\n            '[21] Scandium',\n            '[22] Titanium',\n            '[23] Vanadium',\n            '[24] Chromium',\n            '[25] Manganese',\n            '[26] Iron',\n            '[27] Cobalt',\n            '[28] Nickel',\n            '[29] Copper',\n            '[30] Zinc',\n            '[31] Gallium',\n            '[32] Germanium',\n            '[33] Arsenic',\n            '[34] Selenium',\n            '[35] Bromine',\n            '[36] Krypton'\n        ],\n        effectText: [\n            () => `Element with no protons, true head of this table.\\nThis one is ${Math.random() < 0.1 ? (Math.random() < 0.1 ? 'an illusive Tetraneutron, or maybe even Pentaneutron. Wait where did it go? Was it even there?' : 'a rare Dineutron, but it is already gone...') : 'a simple Mononeutron, it will stay with you for as long as it can.'}`,\n            () => `The most basic Element, increases Brown dwarfs${player.inflation.vacuum ? ' and Puddles' : ''} production by 2.`,\n            () => `Fusion reaction byproduct, makes Interstellar Stars cost scale -${format(0.1)} less.`,\n            () => `First metal, base for Solar mass gain${player.inflation.vacuum ? ' and delay to the Cosmic dust hardcap' : ''} from Brown dwarfs will be lightly increased.\\n(Additive, boost is equal to ${format(1.5)}x when nothing else boosting it)`,\n            () => `Brittle earth metal and so is the brittle increase to the production.\\n(${format(1.4)}x boost to Interstellar Stars${player.inflation.vacuum ? ' and Cosmic dust' : ''})`,\n            () => `A new color and a new additive boost to the base of Solar mass gain base ${player.inflation.vacuum ? ' (and delay to the Cosmic dust hardcap)' : ''} that is based on self-made Brown dwarfs.`,\n            () => `Base for organics, it will increase the boost from Red giants by ^${format(calculateEffects.element6())}.`,\n            () => \"The most abundant Element in the atmosphere of some Planets, it allows for 2 more levels of 'Star system'.\",\n            () => `An oxidizing agent that will make Interstellar Stars cost scale even slower. (-${format(0.05)} less)`,\n            () => \"Highly toxic and reactive, +12 to max level of 'Planetary system'.\",\n            () => `A noble 2x boost to the Solar mass gain${player.inflation.vacuum ? ' and delay to the Preons hardcap' : ''}.`,\n            () => \"Through leaching will increase max level of 'Protoplanetary disk' by +1.\",\n            () => 'Stars are inside you, as well Neutron stars will improve themselfs by log4 of their own amount.',\n            () => 'Has a great affinity towards Oxygen and to decrease cost of Interstellar Stars by 100.',\n            () => `Just another tetravalent metalloid, and so is another ${format(1.4)}x boost to Interstellar Stars${player.inflation.vacuum ? ' and Cosmic dust' : ''}.`,\n            () => `One of the fundamentals for Life and to make all self-made Stars to boost Solar mass gain${player.inflation.vacuum ? ' and delay Cosmic dust hardcap' : ''}.`,\n            () => \"A burning rock that will increase max level of 'Star system' by 1.\",\n            () => \"Extremely reactive to extend max level of 'Planetary system' by another 24 levels.\",\n            () => 'Less noble, but Black holes effect will be a little stronger.',\n            () => \"Don't forget about it and it will increase effective level of 'Planetary system' by +1.\",\n            () => \"Get stronger by increasing max level of 'Star system' by +1.\",\n            () => `A new color and a rare bonus of ^${format(1.1)} to the Solar mass effect.`,\n            () => 'Part of a new alloy that will allow for Red giants to be added into an effective amount of Neutron stars.',\n            () => `Catalyst for production of Stardust. 'Gamma-ray burst' effect will be increased by Solar mass ^${format(0.1)}.\\n(Effect increase: ${format(player.collapse.mass ** 0.1, { padding: true })})`,\n            () => `No corrosion, only boost to Interstellar Stars that is based on unspent Stardust ^${format(calculateEffects.element24_power())}.\\n(Boost to Stars: ${format(calculateEffects.element24(), { padding: true })})`,\n            () => \"Brittle Element, but not the bonus \u2012 1 more level in 'Star system'.\",\n            () => `Any further fusion will be an endothermic process, but will still ${player.inflation.vacuum ? `unlock a new Star type${player.strangeness[5][3] >= 1 ? ' and Intergalactic Stage' : ''}` : 'allow to enter Intergalactic space'}.\\n${player.proggress.main >= 11 ? `Current base increase for Stage reset reward is +${format(effectsCache.element26, { padding: true })}, which is equal to ${player.elements[29] >= 1 ? \"'X + Step * (X^2 - X) / 2', X is \" : ''}log10(Stardust produced this Stage) - 48.` : '(Can change active Stage from footer, new effect will be added after another Stage reset)'}`,\n            () => `Combined and ready to make Red giants effect improve Brown dwarfs.\\nAlso improves '[24] Chromium' Element by +^${format(0.01)}.`,\n            () => `Slow to react, but it will increase effective amount of Red giants ${format(1.5)}.\\nOh, and it also will increase max level of 'Star system' by +1.`,\n            () => `Does not need to be prepared to increase Stage reset reward base by Arithmetic progression with Step of ${format(0.01)}.`,\n            () => `First of new Elements to come, increases max allowed Merge resets by +1 for every new Element past '[29] Copper'.\\n(Currently highest created Element in the current Stage reset is '${global.elementsInfo.name[player.collapse.maxElement]}', equals to +${Math.max(Math.min(player.collapse.maxElement, 29 + player.verses[0].true) - 29, 0)} allowed Merges)`,\n            () => \"Will melt in the palm of your hand to increase max level of 'Star system' by +1.\",\n            () => `Too late to appear, but it will make Galaxies scale in cost slower by ${format(-0.01)} anyway.`,\n            () => 'Toxic enough to make Red giants effect improve Red supergiants.',\n            () => \"Capable of sensing an +1 increase to the max level of 'Star system'.\",\n            () => \"The only liquid nonmetal to increase the max level of 'Inner Black hole' by +1.\",\n            () => `Nothing special, just an ${format(1.21)}x decrease to Galaxies cost.`\n        ],\n        cost: [ //New Element cost must be higher than previous one\n            0, 1000, 4000, 2e4, 1e5, 1e8, 1e10, 4e11, 8e12, 6e13,\n            1e15, 1e20, 1e22, 1e24, 1.4e26, 1e28, 1e30, 1e32, 2e36, 1e38,\n            1e39, 1e41, 2e42, 3e43, 4e44, 5e45, 1e48, 1e54, 1e58, 1e140,\n            1e220, 1e240, 1e260, '1e330', '1e450', '1e6000', '1e8200'\n        ] as unknown as Overlimit[],\n        maxActive: 29\n    },\n    strangenessInfo: [\n        {} as globalType['strangenessInfo'][0], { //Stage 1\n            name: [\n                'Fundamental boost',\n                'Better improvement',\n                'Cheaper Discharge',\n                'Free Discharge',\n                'Automatic Discharge',\n                'Auto Structures',\n                'Strange boost',\n                'Energy increase',\n                'Conservation of Mass',\n                'Conservation of Energy'\n            ],\n            effectText: [\n                () => `Boost Microworld Structures by ${format(player.inflation.vacuum ? 2 : 1.8)}.`,\n                () => `Base for 'Improved Tritium' Research will be bigger by +${format(player.inflation.vacuum ? (player.tree[1][5] >= 3 ? 2 : 1.5) : 1)}.\\n(Boost from it at current Research level is ${format((calculateEffects.S1Research2(player.strangeness[1][1] + 1) / calculateEffects.S1Research2()) ** player.researches[1][2], { padding: true })})`,\n                () => `Discharge goals requirement will scale slower. (-${format(0.5)})\\n(Creating this Strangeness will make the next Discharge goal to be ${format(calculateEffects.dischargeCost(calculateEffects.dischargeScaling(undefined, player.strangeness[1][2] + 1)))} Energy)`,\n                () => `Obtain +${format(0.5)} bonus Discharge goals.`,\n                () => `Automatically Discharge upon reaching next Goal or spending Energy. (Needs to be enabled in Settings)${global.strangenessInfo[1].max[4] > 1 ? '\\nSecond level will make Discharge goals to be based on true Energy and without needing to reset.' : ''}`,\n                () => 'Make auto for all Microworld Structures permanent.',\n                () => `Unspent Strange quarks will boost Microworld by improving its Structures${global.strangenessInfo[1].max[6] > 1 ? ' at level 1 and by improving Tritium, reducing Discharge goals requirement at level 2' : ''}.\\n(Formula: Strange quarks ^${format(player.inflation.vacuum ? 0.26 : 0.22)} | Effect: ${format(global.strangeInfo.stageBoost[1], { padding: true })})`,\n                () => 'Increase Energy gain from creating Preons by +2.',\n                () => { //[8]\n                    const improved = player.challenges.supervoid[3] >= 5;\n                    return `No Mass will be lost when creating Preons${improved ? '' : ', only works when Accretion Stage is unlocked'}.\\nSecond level will disable auto Accretion Structures while Cosmic dust is hardcapped and don't have enough Mass for the highest Solar mass conversion${improved ? \" or to increase current Rank, but only if Rank is below 'Protostar' and 'Automatic Rank' level is below 2\" : ', only works if Interstellar Stage is unlocked'}.`;\n                },\n                () => `No Energy will be lost when creating Upgrades or Researches${player.challenges.supervoid[3] < 5 ? ', only works when Interstellar Stage is unlocked' : ''}.`\n            ],\n            cost: [],\n            firstCost: [1, 1, 1, 2, 12, 2, 24, 2, 12, 15600],\n            scaling: [2.46, 2, 6, 4, 400, 1, 2.5e13, 6, 10, 1e308],\n            max: [6, 4, 4, 2, 1, 1, 1, 2, 2, 1],\n            maxActive: 7\n        }, { //Stage 2\n            name: [\n                'More Moles',\n                'Bigger Puddles',\n                'More spread',\n                'Cloud density',\n                'Automatic Vaporization',\n                'Auto Structures',\n                'Strange boost',\n                'Improved flow',\n                'Mechanical spread',\n                'Ocean world'\n            ],\n            effectText: [\n                () => `Drops will ${player.inflation.vacuum ? 'improve Tritium' : 'produce'} ${format(player.inflation.vacuum && player.tree[1][5] >= 3 ? 2.2 : 2)} times more${player.inflation.vacuum ? '' : ' Moles'}.`,\n                () => `Puddles will produce ${format(player.inflation.vacuum ? (player.tree[1][5] >= 3 ? 2 : 1.8) : 1.6)} times more Drops.`,\n                () => `Increase max level for 'More streams' Stage Research by +1 at first level and 'Distributary channel' Stage Research by +1 at second level.\\nFinal level will instead unlock a new Upgrade \u2012 '${player.strangeness[2][2] >= 3 || player.proggress.main >= 15 ? 'Tsunami' : '(Unknown)'}' that costs ${format(1e28)} Drops.`,\n                () => `Decrease amount of Drops required to get a Cloud by ${format(player.inflation.vacuum ? 2.5 : 2)}.`,\n                () => `Automatically Vaporize when reached enough boost from new Clouds. (Needs to be enabled in Settings)${global.strangenessInfo[2].max[4] > 1 ? `\\nSecond level will unlock ${format(2.5)}% passive gain of Clouds per second${player.tree[1][5] >= 2 ? ' or will instead increase passive gain by 10 if its already unlocked' : ''}.${player.proggress.main >= 19 ? ' (Not affected by global speed)' : ''}` : ''}`,\n                () => 'Make auto for all Submerged Structures permanent.',\n                () => `Unspent Strange quarks will boost Submerged by improving Puddles${global.strangenessInfo[2].max[6] > 1 ? ' at level 1 and by reducing Drops requirement for Clouds at level 2' : ''}.\\n(Formula: Strange quarks ^${format(player.inflation.vacuum ? 0.22 : 0.18)} | Effect: ${format(global.strangeInfo.stageBoost[2], { padding: true })})`,\n                () => `Submerged Structures that improve other Submerged Structures will do it ${format(player.tree[1][5] >= 3 ? 1.28 : 1.24)} times stronger.\\n(Affected Structures are Ponds, Lakes, Seas and Oceans)`,\n                () => `Increase max level for 'Stronger surface tension' Stage Research by +3 at first level and 'Stronger surface stress' Stage Research by +1 at second level.\\nFinal level will instead unlock an even better new Upgrade \u2012 '${player.strangeness[2][8] >= 3 || player.proggress.main >= 19 ? 'Tide' : '(Unknown)'}' that costs ${format(2e48)} Drops.`,\n                () => { //[9]\n                    const improved = player.tree[1][5] >= 1;\n                    return `Increase Stage reset reward based on current Cloud amount.\\n(${improved ? 'Improves current formula' : 'Formula'}: log10(Clouds) / 80 + 1${improved ? ` > Clouds ^${format(0.01)}` : ''} | Effect: ${format(calculateEffects.S2Strange9(false), { padding: true })}${improved ? ` > ${format(calculateEffects.S2Strange9(true), { padding: true })}` : ''})`;\n                }\n            ],\n            cost: [],\n            firstCost: [1, 1, 2, 2, 12, 4, 24, 16, 800, 9600],\n            scaling: [2.46, 2, 3, 4, 800, 1, 2.5e13, 3.4, 3, 1],\n            max: [4, 8, 3, 2, 1, 1, 1, 6, 3, 1],\n            maxActive: 7\n        }, { //Stage 3\n            name: [\n                'Faster Accretion',\n                'Intense weathering',\n                'More levels',\n                'Improved Satellites',\n                'Automatic Rank',\n                'Auto Structures',\n                'Upgrade automatization',\n                'Strange boost',\n                'Mass delay',\n                'Rank raise'\n            ],\n            effectText: [\n                () => `Increase strength of Cosmic dust by ${format(1.8)}.`,\n                () => `Accretion Structures that produce other Accretion Structures will do it ${format(player.inflation.vacuum ? 1.48 : 1.6)} times faster.\\n(Affected Structures are Planetesimals and Protoplanets)`,\n                () => `Increase max level for 'Rank boost' Rank Research by +6 at first level and 'Efficient growth' Rank Research by +2 at second level.\\nFinal level will instead unlock a new Upgrade \u2012 '${player.strangeness[3][2] >= 3 || player.proggress.main >= 15 ? 'Hydrostatic equilibrium' : '(Unknown)'}' that costs ${format(1e22)} Mass.`,\n                () => { //[3]\n                    if (!global.stageInfo.activeAll.includes(3)) { assignBuildingsProduction.stage3Cache(); }\n                    return `Satellites will be able to improve remaining ${player.inflation.vacuum ? 'Accretion ' : ''} Structures, but at reduced strength (^${format(player.inflation.vacuum ? 0.1 : 0.2)}).\\n(Affected Structures are Cosmic dust and Planetesimals, boost is equal to ${format(effectsCache.S3Strange3, { padding: true })})`;\n                },\n                () => `Automatically increase Rank when possible. (Needs to be enabled in Settings)${global.strangenessInfo[3].max[4] > 1 ? `\\nSecond level will make Rank ${player.challenges.supervoid[3] >= 2 ? 'to be based on Mass produced this reset and without needing to reset' : 'increase use Mass produced this reset instead of current'}.` : ''}`,\n                () => 'Make auto for all Accretion Structures permanent.',\n                () => { //[6]\n                    let unlocked = 'none';\n                    if (player.strangeness[3][6] >= 1) { unlocked = 'auto Upgrades'; }\n                    if (player.strangeness[3][6] >= 2) { unlocked += `, Stage${player.strangeness[3][6] >= 3 ? ' and Special' : ''} Researches`; }\n                    return `Always automatically create all ${['Upgrades', 'Stage Researches', 'Special Researches'][Math.min(player.strangeness[3][6], 2)]} from any Stage${!player.inflation.vacuum && player.strangeness[5][3] < 1 && player.verses[0].current < 3 ? ' before Intergalactic' : ''}.\\n(Needs to be enabled in Settings, unlocked automatization: ${unlocked})`;\n                },\n                () => `Unspent Strange quarks will boost Accretion by reducing cost of its Structures${global.strangenessInfo[3].max[7] > 1 ? \" at level 1 and by reducing Rank requirements above 'Protogalaxy', improving Satellites at level 2\" : ''}.\\n(Formula: Strange quarks ^${format(player.inflation.vacuum ? 0.68 : 0.76)} | Effect: ${format(global.strangeInfo.stageBoost[3], { padding: true })})`,\n                () => `Delay Cosmic dust hardcap by ${format(1.4)} per level.`,\n                () => `Unlock a new Accretion Rank to achieve.${global.strangenessInfo[3].max[9] > 1 ? '\\nSecond level will allow Ranks to go above the max, but they will not unlock anything new.' : ''}`\n            ],\n            cost: [],\n            firstCost: [1, 2, 2, 24, 12, 4, 4, 24, 18000, 2.16e6],\n            scaling: [2, 3.4, 3, 1, 100, 1, 1.74, 2.5e13, 2.46, 1e7],\n            max: [8, 4, 3, 1, 1, 1, 3, 1, 6, 1],\n            maxActive: 8\n        }, { //Stage 4\n            name: [\n                'Hotter Stars',\n                'Cheaper Stars',\n                'New Upgrade',\n                'Main giants',\n                'Automatic Collapse',\n                'Auto Structures',\n                'Element automatization',\n                'Strange boost',\n                'Neutronium',\n                'Newer Upgrade'\n            ],\n            effectText: [\n                () => `Interstellar Stars will produce ${format(1.6)} times more Stardust.`,\n                () => 'Interstellar Stars will be 2 times cheaper.',\n                () => `Unlock a new Upgrade, its pretty good:\\n${format(1e11)} Stardust Stage Research \u2012 '${player.strangeness[4][2] >= 1 || player.proggress.main >= 15 ? 'Planetary nebula' : '(Unknown)'}', ${format(1e50)} Stardust Collapse Research \u2012 '${player.strangeness[4][2] >= 2 || player.proggress.main >= 15 ? 'White dwarfs' : '(Unknown)'}', ~${format(player.inflation.vacuum ? 1e54 : 1e52)} Stardust Upgrade \u2012 '${player.strangeness[4][2] >= 3 || player.proggress.main >= 15 ? 'Helium fusion' : '(Unknown)'}'.`,\n                () => { //[3]\n                    const mainStars = player.inflation.vacuum && player.challenges.supervoid[4] >= 3;\n                    const conversion = mainStars ? (5 + 5 * player.strangeness[4][3]) * player.strangeness[4][3] : 10;\n                    const after = (10 + 5 * player.strangeness[4][3]) * (1 + player.strangeness[4][3]);\n                    return `${conversion}%${mainStars ? ` \u27F6 ${after}%` : ''} of Brown dwarfs will be able to turn into Red giants after Collapse.${mainStars ? `\\nAlso ${conversion}% \u27F6 ${after}% of Main-sequence into Neutron stars.` : ''}`;\n                },\n                () => `Automatically Collapse once reached enough boost or Solar mass. (Needs to be enabled in Settings)${global.strangenessInfo[4].max[4] > 1 ? `\\nSecond level will auto claim Star remnants without needing to reset ${global.strangenessInfo[4].max[4] > 2 ? ', includes Solar mass at third level' : ''}.` : ''}`,\n                () => 'Make auto for all Interstellar Structures permanent.',\n                () => `Elements will no longer require Collapse for activation${player.inflation.vacuum ? ' and related automatization Research will cost as if its level is -1' : ''}.\\nSecond level will unlock auto creation of Elements. (${global.strangenessInfo[4].max[6] > 1 ? 'Needs to be enabled in settings' : 'Not yet unlocked for Interstellar space'})`,\n                () => `Unspent Strange quarks will boost Interstellar by improving its Structures${global.strangenessInfo[4].max[7] > 1 ? ' at level 1 and by reducing cost of Brown dwarfs at level 2' : ''}.\\n(Formula: Strange quarks ^${format(player.elements[26] >= 1 ? 0.32 : 0.16)}, exponent is 2 times bigger with '[26] Iron' | Effect: ${format(global.strangeInfo.stageBoost[4], { padding: true })})`,\n                () => `Increase effective amount of Neutron stars (doesn't include ones from '[22] Titanium') by 1 + level and improve Neutron stars strength by +^${format(0.125)}.`,\n                () => `Unlock yet another an even better new Upgrade: (all of them cost around ${format(1e140)} Stardust)\\nUpgrade \u2012 '${player.strangeness[4][9] >= 1 || player.proggress.main >= 18 ? 'Nucleosynthesis' : '(Unknown)'}', Collapse Research \u2012 '${player.strangeness[4][9] >= 2 || player.proggress.main >= 18 ? 'Quark-nova' : '(Unknown)'}', Stage Research \u2012 '${player.strangeness[4][9] >= 3 || player.proggress.main >= 18 ? 'Inner Black hole' : '(Unknown)'}'.`\n            ],\n            cost: [],\n            firstCost: [1, 2, 4, 2, 12, 6, 6, 24, 12000, 2.4e5],\n            scaling: [2, 3.4, 3, 4, 1900, 1, 1.74, 2.5e13, 2, 3],\n            max: [8, 4, 3, 2, 1, 1, 1, 1, 8, 3],\n            maxActive: 8\n        }, { //Stage 5\n            name: [\n                'Bigger Structures',\n                'Higher density',\n                'Strange gain',\n                'Gravitational bound',\n                'Automatic Galaxy',\n                'Auto Structures',\n                'Automatic Stage',\n                'Strange boost',\n                'Strange growth',\n                'Automatic Merge',\n                'Galactic tide'\n            ],\n            effectText: [\n                () => `More matter for the Accretion (flavor text), first two Intergalactic Structures will be ${format(player.inflation.vacuum ? 1.4 : 1.6)} times stronger.`,\n                () => `With higher density, first two Intergalactic Upgrades will be even stronger. Effects will be increased by ${format(player.inflation.vacuum ? 1.6 : 1.8)}.`,\n                () => `Gain ${format(1.4)} times more Strange quarks from any Stage reset.`,\n                () => player.inflation.vacuum ? 'Unlock Intergalactic Stage and increase Strange quarks from Stage resets by +1.' : `Make Intergalactic Stage immune to Collapse reset${player.verses[0].current < 3 ? \" and allow 'Upgrade automatization' to work within the Intergalactic Stage\" : ''}.`,\n                () => 'Automatically Collapse if able to afford a new Galaxy and auto Galaxy is enabled.\\n(Also unlocks permanent auto Galaxies and removes Mass limit for auto Collapse points)',\n                () => `Make auto for ${player.strangeness[5][4] >= 1 ? 'all' : 'the first two'} Intergalactic Structures permanent${player.strangeness[5][4] < 1 ? ' and prevent higher levels from resetting' : ''}.`,\n                () => `Automatically trigger Stage reset${player.inflation.vacuum ? ' and automatically exit Challenges if out of time' : \", doesn't work for the Interstellar Stage until second level\"}. (Needs to be enabled in Settings)`,\n                () => `Unspent Strange quarks will boost Intergalactic by increasing Solar mass gain${global.strangenessInfo[5].max[7] > 1 ? ' at level 1 and by improving first two Structures at level 2' : ''}.\\n(Formula: Strange quarks ^${format(0.06)} | Effect: ${format(global.strangeInfo.stageBoost[5], { padding: true })})`,\n                () => 'Unlock another Strange Structure.\\n(Click on that Structure to see its effects)',\n                () => `Automatically Merge Galaxies if can't get any more of them quickly. (Needs to be enabled in Settings)${global.strangenessInfo[5].max[9] > 1 ? '\\nSecond level will auto claim Merge results without needing to reset.' : ''}`,\n                () => { //[10]\n                    let passive = 'none';\n                    let upgrades = 'none';\n                    if (player.strangeness[5][10] >= 1) {\n                        passive = `increasing Energy gain from Galaxies by 5, decreasing Goals requirement by ${format(global.mergeInfo.galaxies ** 2 + 1, { padding: 'exponent' })}`;\n                        upgrades = \"'Nuclear fission' (Microworld Upgrade), 'Radioactive decay' (Energy Research)\";\n                    }\n                    if (player.strangeness[5][10] >= 2) {\n                        passive += `, boosting Puddles ${player.strangeness[5][10] >= 3 ? 'and Cosmic dust strength ' : ''}by ${format(global.mergeInfo.galaxies + 1, { padding: 'exponent' })}`;\n                        upgrades += `${player.tree[1][5] >= 3 ? \", 'Megatsunami' (Submerged Research)\" : ''}, 'Jeans Mass' (Clouds Research)`;\n                    }\n                    if (player.strangeness[5][10] >= 3) {\n                        passive += `, delaying Cosmic dust hardcap by ${format(global.mergeInfo.galaxies / 100 + 1, { padding: true })}`;\n                        upgrades += \", 'Self-gravity' (Accretion Upgrade), 'Ablative armor' (Rank Research)\";\n                    }\n                    if (player.strangeness[5][10] >= 4) {\n                        if (player.tree[1][7] >= 3) { passive += `, boosting Solar mass gain by ${format(global.mergeInfo.galaxies / 1000 + 1, { padding: true })}`; }\n                        upgrades += \", 'Proton capture' (Interstellar Upgrade), 'White holes' (Collapse Research)\";\n                    }\n                    return `Boost lower Stages based on current Galaxies and unlock new Upgrades for them.\\n(Passive effects: ${passive})\\n(New Upgrades: ${upgrades})`;\n                }\n            ],\n            cost: [],\n            firstCost: [24, 36, 4, 24, 15600, 24, 480, 120, 6000, 6e6, 2e7],\n            scaling: [2, 2, 4, 1, 1e308, 1, 1, 5e12, 1e308, 1e308, 3],\n            max: [8, 8, 2, 1, 1, 1, 1, 1, 1, 1, 3],\n            maxActive: 8\n        }, { //Stage 6\n            name: [\n                'Global boost',\n                'Stranger gain',\n                'More Strangeness',\n                'Darkness'\n            ],\n            effectText: [\n                () => `Boost global speed by ${format(1.4)}.`,\n                () => `Gain ${format(1.4)} times more Strangelets from the Stage resets.`,\n                () => \"Increase max levels for a lot of Strangeness by +1, these include:\\n'Fundamental boost', 'Bigger Puddles', 'Faster Accretion', 'Hotter Stars' and 'Bigger Structures'\",\n                () => \"Unlock a new Challenge 'Darkness'.\"\n            ],\n            cost: [],\n            firstCost: [2e15, 4e15, 6e15, 4e14],\n            scaling: [4, 4, 4, 1],\n            max: [9, 9, 6, 1],\n            maxActive: 0\n        }\n    ],\n    treeInfo: [{ //Inflatons\n        name: [\n            'Overboost',\n            'Global boost',\n            'Strange gain',\n            'Instability',\n            'Void Milestones',\n            'Improved Offline',\n            'Better rewards'\n        ],\n        effectText: [\n            () => `Boost global speed by 2, but reduce time limit for ${player.challenges.stability >= 1 ? 'Challenges' : 'on everything that has it'} by 4, if level is below 2.\\nIf ${player.challenges.stability >= 1 ? 'not inside any Challenge' : 'there is no time limit'}, then 2nd level will instead boost global speed by ${player.challenges.stability >= 1 ? 2 : `${format(calculateEffects.T0Inflation0(), { padding: true })} (strength depletes over 1 hour of the Stage time)`}.`,\n            () => { //[1]\n                const effect = calculateEffects.T0Inflation1();\n                return `Boost global speed by unspent Dark matter ^${format((effect > 1 ? logAny(effect, player.buildings[6][0].current.toNumber() + 1) : 0.04) * player.tree[0][1], { padding: true })}.\\n(Boost per level: ${format(effect, { padding: true })}, softcaps after ${format(calculateEffects.TOInflation1_softcap())} Dark matter. Global speed doesn't speed up game ticks)`;\n            },\n            () => `Gain ${format(1.4)} times more Strange quarks from any Stage reset per level.${player.challenges.stability >= 1 ? `\\nFirst ${player.challenges.stability} levels (1 per Vacuum stability completion) will also boost global speed by ${format(1.1)}, but only while inside any Challenge.` : ''}`,\n            () => `Boost global speed and Stage reset reward by ${format(calculateEffects.T0Inflation3())}, strength is based on Supervoid progress in the current End reset.`,\n            () => 'For false Vacuum it will remove time limit from Milestones.\\nFor true Vacuum it will unlock false Vacuum Milestones for Void. Their effects are active everywhere, but only if this Inflation is active.',\n            () => {\n                const level = player.tree[0][5];\n                const darkness = player.darkness.active && player.verses[0].lowest[0] <= 1;\n                return `Unlock 1 minute Warps for the price of ${Math.min(7 - level, 6)}${level < 4 ? ` \u27F6 ${6 - level}` : ''} minutes of stored Offline time.\\nIncrease Export storage by +${(2 + 2 * level) * level}%${level < 4 ? ` \u27F6 ${(4 + 2 * level) * (level + 1)}%` : ''} of the Stage reset value after any Stage reset.\\n${darkness ? 'Boosts' : 'If inside any Challenge, then it will boost'} global speed by ${format(5 / (5 - level))}${level < 4 ? ` \u27F6 ${format(5 / (4 - level))}` : ''}, but decrease${darkness ? 's' : ''} time limit${darkness ? ' (global speed if outside of any Challenge)' : ''} by ${format(6 / (6 - level))}${level < 4 ? ` \u27F6 ${format(6 / (5 - level))}` : ''}.\\n(Offline time can be stored by rejecting it, max storage is 12 hours)`;\n            },\n            () => `More rewards from first 4 in Stage resets:\\n+3 free Goals, 2 times more Clouds, +1 effective Rank and ${format(1.1)}x to the Solar mass gain.`\n        ],\n        cost: [],\n        firstCost: [0, 1, 1, 2, 4, 1, 999],\n        scaling: [2, 0.75, 0.5, 2, 0, 1, 0],\n        max: [2, 6, 8, 4, 1, 4, 1]\n    }, { //Cosmon\n        name: [\n            'More global speed',\n            'More Strange quarks',\n            'More Cosmons',\n            'Stranger gain',\n            'Discharge improvement',\n            'Vaporization improvement',\n            'Rank improvement',\n            'Collapse improvement',\n            'Conservation of resources'\n        ],\n        effectText: [\n            () => `Boost global speed again by ${format(1.4)}.`,\n            () => `Boost Strange quarks gain from the Stage resets again by ${format(1.2)}.`,\n            () => `Gain ${format(1.4)} times more Cosmons from End resets.\\n(Max level will be increased after spending ${format((4 ** (global.treeInfo[1].max[2] + 2) - 4) / 3 - player.cosmon[1].total + player.cosmon[1].current, { padding: true })} more Cosmons)`,\n            () => `Boost Strangelets gain from the Stage resets by ${format(1.4)} and increase max level of 'Strange gain' Inflation by +1.`,\n            () => `True Vacuum only, gain +1 free Goal, improve Discharge base by +${format(0.1)} (immune to the softcap) and decrease requirement scaling by -${format(0.5)} with every level.`,\n            () => `True Vacuum only, make 'Ocean world' Strangeness old effect always active and add new effect to improve related formula.\\nSecond level will make 'Natural Vaporization' Cloud Research old effect of 'Clouds use total Drops this reset' always active and add new effect to unlock 1% > 10% passive Clouds gain over 5 levels, 10 times stronger with 'Automatic Vaporization' Strangeness level 2.\\nThird level will improve a lot of Strangeness, also max level will be affected by Void for the first two in the list: +${format(0.5)} to 'Better improvement', +${format(0.2)} to 'More Moles' and 'Bigger Puddles', +${format(0.04)} to 'Improved flow' and finally new Upgrade from 'Galactic tide' level 2.\\nFinal level will make most of Submerged immune to non-Vaporization resets and Vaporization won't reset Stages higher than Submerged.`,\n            () => `True Vacuum only, make effective Rank boost even more: (all effects are per Rank)\\n+${format(0.5)} Discharge goals at level 1, +1 to max level of 'Planetary system' Interstellar Research at level 2, ${format(1.01)}x to the Solar mass gain at level 3 and finally ${format(1.02)}x to Stage reset reward at level 4.`,\n            () => \"True Vacuum only, reclaim up to 25% of Remnants once (doesn't affect Milestones).\\nSecond level will increase max level of 'Galactic tide' Strangeness, but without passive effects until level 3.\\nFinal level will increase max level of 'Automatic Collapse' Strangeness.\",\n            () => { //[8]\n                let unlocks = 'none';\n                if (player.tree[1][8] >= 1) { unlocks = 'Microworld'; }\n                if (player.tree[1][8] >= 2) { unlocks += ', Submerged'; }\n                if (player.tree[1][8] >= 3) { unlocks += ', Accretion'; }\n                if (player.tree[1][8] >= 4) { unlocks += ', Interstellar, Intergalactic'; }\n                const index = Math.min(player.tree[1][8] + 1, 4);\n                return `Keep more of ${global.stageInfo.word[index]}${index === 4 ? ' and Intergalactic' : ''} Resources by making related Structures${index >= 4 ? \" (doesn't include Galaxies)\" : ''} not spend them on creation.\\n(Affected Stages: ${unlocks})`;\n            }\n        ],\n        cost: [],\n        firstCost: [1, 1, 4, 400, 1.2, 8, 1, 600, 6],\n        scaling: [0.5, 0.5, 4, 2, 0.8, 4.4, 2.8, 3.4, 3.4],\n        max: [1e6, 1e6, 1, 8, 4, 4, 4, 4, 4]\n    }],\n    milestonesInfo: [\n        {} as globalType['milestonesInfo'][0], { //Stage 1\n            name: [\n                'Fundamental Matter',\n                'Energized'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[1].need[0])} ${player.inflation.vacuum ? 'Preons' : 'Quarks'} this reset.`,\n                () => `Have current Energy reach ${format(global.milestonesInfo[1].need[1])}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Microworld Structures strength increased by ${format(global.milestonesInfo[1].reward[0], { padding: true })}.` : 'Increase base for Strange quarks from any Stage reset by +1.',\n                () => player.inflation.vacuum ? `Effective Energy increased by ${format(global.milestonesInfo[1].reward[1], { padding: true })}.` : 'Permanent Microworld Stage.'\n            ],\n            need: [],\n            reward: [0, 0],\n            scaling: [\n                [1e152, 1e158, 1e164, 1e170, 1e178, 1e190],\n                [23800, 24600, 25800, 27000, 28200, 29600]\n            ],\n            recent: [0, 0]\n        }, { //Stage 2\n            name: [\n                'A Nebula of Drops',\n                'Just a bigger Puddle'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[2].need[0])} Drops this reset.`,\n                () => `${player.inflation.vacuum ? 'Vaporize to' : 'Have'} at least ${format(global.milestonesInfo[2].need[1])} ${player.inflation.vacuum ? 'Clouds' : 'Puddles at the same time'}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Puddles strength increased by ${format(global.milestonesInfo[2].reward[0], { padding: true })}.` : 'First Intergalactic Structure. (Nebula)',\n                () => player.inflation.vacuum ? `Decrease Drops requirement to get a Cloud by ${format(global.milestonesInfo[2].reward[1], { padding: true })}.` : 'Permanent Submerged Stage.'\n            ],\n            need: [],\n            reward: [0, 0],\n            scaling: [\n                [1e30, 1e32, 1e34, 1e36, 1e38, 1e40, 1e44],\n                [1500, 2300, 3100, 3900, 4700, 5500, 6400]\n            ],\n            recent: [0, 0]\n        }, { //Stage 3\n            name: [\n                'Cluster of Mass',\n                'Satellites of Satellites'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[3].need[0])} Mass this reset.`,\n                () => `Have more or equal to ${format(global.milestonesInfo[3].need[1])} Satellites${player.inflation.vacuum ? ' and Subsatellites' : ''}.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Cosmic dust strength increased by ${format(global.milestonesInfo[3].reward[0], { padding: true })}.` : 'Second Intergalactic Structure. (Star cluster)',\n                () => player.inflation.vacuum ? `Increase effective Rank by +${format(global.milestonesInfo[3].reward[1])}.` : 'Permanent Accretion Stage.'\n            ],\n            need: [],\n            reward: [0, 0],\n            scaling: [\n                [1e32, 1e34, 1e36, 1e38, 1e40, 1e42, 1e45],\n                [24, 28, 32, 36, 40, 44, 50]\n            ],\n            recent: [0, 0]\n        }, { //Stage 4\n            name: [\n                'Remnants of past',\n                'Supermassive'\n            ],\n            needText: [\n                () => `Produce at least ${format(global.milestonesInfo[4].need[0])} Stardust this reset.`,\n                () => `Have ${player.inflation.vacuum ? 'current Black holes' : 'Solar mass after Collapse'} reach ${format(global.milestonesInfo[4].need[1])} or more.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `Interstellar Stars strength increased by ${format(global.milestonesInfo[4].reward[0], { padding: true })}.` : \"New Intergalactic themed Strangeness, Milestone and second level of 'Element automatization'.\",\n                () => player.inflation.vacuum ? `Black holes effect increased by ${format(global.milestonesInfo[4].reward[1], { padding: true })}.` : `Unlocked new type of Intergalactic Researches and a new Milestone.${player.proggress.main < 15 ? '\\n(Also unlocked new toggle to automatically change active Stage to Intergalactic)' : ''}`\n            ],\n            need: [],\n            reward: [0, 0],\n            scaling: [\n                [1e48, 1e49, 1e50, 1e52, 1e54, 1e56, 1e58, 1e60],\n                [9000, 12000, 16000, 22000, 30000, 42000, 60000, 84000]\n            ],\n            recent: [0, 0]\n        }, { //Stage 5\n            name: [\n                'Light in the dark',\n                'End of Greatness'\n            ],\n            needText: [\n                () => `Have ${player.inflation.vacuum ? 'total produced' : 'self-made'} Stars ${player.inflation.vacuum ? 'this reset' : 'count'} reach at least ${format(global.milestonesInfo[5].need[0])}.`,\n                () => `Have ${format(global.milestonesInfo[5].need[1])} ${player.inflation.vacuum ? 'self-made ' : ''}Galaxies or more.`\n            ],\n            rewardText: [\n                () => player.inflation.vacuum ? `First two Intergalactic Structures strength increased by ${format(global.milestonesInfo[5].reward[0], { padding: true })}.` : \"Unlock a new Intergalactic Strangeness 'Strange gain' and second level of 'Automatic Stage'.\",\n                () => player.inflation.vacuum ? `Boost per Galaxy is increased by +${format(global.milestonesInfo[5].reward[1])}.` : \"Unlock a new Intergalactic Upgrade 'Galactic Merger'.\"\n            ],\n            need: [],\n            reward: [0, 0],\n            scaling: [\n                [1460, 1540, 1620, 1700, 1780, 1860, 1940, 2020],\n                [1, 2, 4, 6, 10, 14, 18, 22]\n            ],\n            recent: [0, 0]\n        }\n    ],\n    challengesInfo: [{ //Challenge [0]\n        name: 'Void',\n        description: () => `Result of Vacuum Instability, investigate at your own will\\n(${player.inflation.vacuum || player.challenges.super ? `Entering will force a ${player.challenges.super ? 'Vacuum' : 'Stage'} reset, will be reverted after exiting` : 'No reason to enter from false Vacuum, since all rewards are disabled'})`,\n        effectText: () => {\n            const challenges = player.challenges;\n            const progress = challenges.voidCheck;\n            let text = `<p class=\"cyanText\">\u2012 Microworld Structures are 4 times weaker${progress[1] >= 1 ? `\\n\u2012 Discharge base is raised to the root of 2 (^${format(0.5)})` : ''}${progress[1] >= 2 ? '\\n\u2012 Energy gain from Submerged and Accretion Stages is divided by 2' : ''}\\n${progress[3] >= 5 ? '\u2012 Energy gain from Interstellar and Intergalactic Stages is divided by 4' : 'More nerfs will be shown with more rewards'}</p>`;\n            if (progress[1] >= 3) { text += `<p class=\"blueText\">\u2012 Drops above 1 do not increase their own strength\\n\u2012 Puddles are ${format(8e3)} times weaker\\n${progress[2] >= 1 ? `\u2012 Clouds gain is decreased by ^${format(0.8)}` : 'More nerfs will be shown with more rewards'}${challenges.super ? (challenges.supervoid[1] >= 3 ? \"\\n\u2012 'Water spread' and the first two Researches are weaker\\n\u2012 Ponds, Lakes and Seas are 2 times weaker\" : '\\nMore nerfs will be shown with more rewards') : ''}</p>`; }\n            if (progress[1] >= 2) { text += `<p class=\"grayText\">\u2012 Cosmic dust is softcapped (^${format(0.9)})\\n${progress[3] >= 4 ? `\u2012 Softcap is stronger after reaching 'Jovian planet' Rank (^${format(0.8)})` : 'More nerfs will be shown with more rewards'}${challenges.super ? `${challenges.supervoid[3] >= 1 ? \"\\n\u2012 Increasing Rank doesn't increase effective Rank\" : ''}\\n${challenges.supervoid[3] >= 4 ? \"\u2012 Effective Rank is reduced by -1 after reaching 'Jovian planet' Rank\" : 'More nerfs will be shown with more rewards'}` : ''}</p>`; }\n            if (progress[3] >= 5) { text += `<p class=\"orangeText\">\u2012 Interstellar Stars are ${format(8e3)} times weaker${progress[4] >= 1 ? '\\n\u2012 Solar mass gain is 2 times smaller' : ''}${progress[4] >= 2 ? `\\n\u2012 Solar mass effect is softcapped ^${format(0.2)} after 1` : ''}\\n${progress[4] >= 5 ? \"\u2012 Can't create or gain Quasi-stars\" : 'More nerfs will be shown with more rewards'}${challenges.super ? (challenges.supervoid[3] >= 5 ? '\\n\u2012 Everything cost 100 times more Stardust, excludes Brown dwarfs' : '\\nMore nerfs will be shown with more rewards') : ''}</p>`; }\n            if (progress[3] >= 1) { text += `<p class=\"darkorchidText\">\u2012 All resets affect all ${player.proggress.main >= 18 ? 'pre-Abyss ' : ''}Stages\\n${progress[5] >= 1 ? `\u2012 Galaxies cost scaling increased by +${format(0.05)}` : 'More nerfs will be shown with more rewards'}${challenges.super ? `\\n\u2012 'Global boost' Inflation softcaps instantly\\n${challenges.supervoid[4] >= 5 ? '\u2012 Stage reset is disabled' : 'More nerfs will be shown with more rewards'}` : ''}</p>`; }\n            return text;\n        },\n        needText: [\n            [], [\n                () => 'Perform the Discharge',\n                () => 'Unlock Accretion Stage',\n                () => 'Unlock Submerged Stage'\n            ], [\n                () => 'Vaporize the Drops',\n                () => `Have more than ${format(1e4)} Clouds`,\n                () => player.proggress.main >= 20 ? `Reach ${format(1e12)} Clouds without Rank resets` : null\n            ], [\n                () => \"Reach 'Meteoroid' Rank\",\n                () => \"Reach 'Asteroid' Rank\",\n                () => \"Reach 'Planet' Rank\",\n                () => \"Reach 'Jovian planet' Rank\",\n                () => \"Reach 'Protostar' Rank\",\n                () => player.proggress.main >= 18 ? \"Reach 'Protogalaxy' Rank\" : null\n            ], [\n                () => 'Cause the Collapse',\n                () => 'Get the first Red giant',\n                () => 'Get the first Neutron star',\n                () => 'Get the first Black hole',\n                () => 'Unlock Intergalactic Stage'\n            ], [\n                () => 'Create a Galaxy',\n                () => player.proggress.main >= 20 ? 'Force the Galactic Merge' : null,\n                () => player.proggress.results >= 1 ? 'Create a Galaxy group' : null,\n                () => player.proggress.results >= 2 ? 'Create a Galaxy cluster' : null\n            ]\n        ],\n        rewardText: [[\n            [],\n            [\"'Energy increase' (Microworld)\", \"'Conservation of Mass' (Microworld)\", \"'Improved flow' (Submerged)\"],\n            [\"'Mechanical spread' (Submerged)\", \"'Ocean world' (Submerged)\", \"'Galactic tide' (Intergalactic)\"],\n            ['Multiple max level increases', 'Multiple max level increases', 'Multiple max level increases', 'Multiple max level increases', \"'Strange growth' (Intergalactic)\", \"'Automatic Merge' (Intergalactic)\"],\n            ['Max level increased for auto resets', \"'Conservation of Energy' (Microworld)\", \"'Neutronium' (Interstellar)\", \"'Mass delay' (Accretion)\", \"'Newer Upgrade' (Interstellar)\"],\n            [\"'Rank raise' (Accretion)\", 'New Abyss themed Strangeness', 'Max level increased for auto resets', 'Work in progress']\n        ], [\n            [],\n            [\"'Discharge improvement' (Cosmons)\", \"'Indestructible matter' (Milestone)\", \"'Conservation of resources' (Cosmons)\"],\n            [\"'Vaporization improvement' (Cosmons)\", \"'Better rewards' (Inflatons)\", \"'Isolation' (No idea, WIP)\"],\n            [\"'Rank improvement' (Cosmons)\", \"'Passive Ranks' (Milestone)\", \"'More Cosmons' (Cosmons)\", \"'Improved Offline' (Inflatons)\", \"'Improved conservation' (Milestone)\", 'Work in progress'],\n            [\"'Collapse improvement' (Cosmons)\", \"'Stranger gain' (Cosmons)\", \"'Main Stars' (Milestone)\", \"'Limitless Mass' (Milestone)\", \"'Inflationary boost' (Inflatons, WIP)\"],\n            ['Work in progress', 'Work in progress', 'Work in progress', 'Work in progress']\n        ]],\n        resetType: 'stage',\n        time: 3600,\n        color: 'darkviolet'\n    }, { //Challenge [1]\n        name: 'Vacuum stability',\n        description: () => 'A more stable, but still the false Vacuum state\\n(Entering will force a Vacuum reset, will be reverted after exiting)',\n        effectText: () => {\n            const completions = player.challenges.stability;\n            return `<p class=\"orchidText\">\u2012 Global speed is decreased by ${format(4 * 8 ** completions, { padding: 'exponent' })}\\n\u2012 Milestones time limit is 0 seconds\\n\u2012 Permanent Stages are removed from reset cycle</p>\n            <p class=\"greenText\">\u2012 Strange quarks from Stage resets are decreased by ${format(2 ** completions, { padding: 'exponent' })}\\n\u2012 Strange quarks from non-Interstellar Stage resets are further decreased by ${format(4 * 2 ** completions, { padding: 'exponent' })}\\n\u2012 Stage resets above ${8 - completions} decrease Strange quarks from the Stage resets by 2\\n\u2012 Going above 10 minutes of the Stage time will force Stage reset</p>\n            <p class=\"darkvioletText\">\u2012 Galaxies scale in cost faster by +${format(0.01)}\\n\u2012 Intergalactic Upgrade 'Galactic Merger' cost ${format(1e10)} times more</p>`;\n        },\n        needText: ['1 Completion', '2 Completions (WIP)', '3 Completions (WIP)', '4 Completions (WIP)'],\n        rewardText: [\n            \"Improve 'Overboost' and 'Strange gain' Inflaton Inflations\", //1\n            \"Make 'Instability' Inflation immune to all resets (WIP)\", //2\n            'Start Vacuum resets with Void equal to the Supervoid (WIP)', //3\n            'Start Vacuum resets with Microworld Milestones equal to best in Supervoid (WIP)' //4\n        ],\n        resetType: 'vacuum',\n        time: 7200,\n        color: 'darkorchid'\n    }, { //Challenge [2]\n        name: 'Darkness',\n        description: () => `Expansion for the Abyss Stage through Dark matter Upgrades\\n(Entering doesn't reset anything, but ${player.strangeness[6][3] < 1 ? \"requires 'Darkness' Strangeness\" : 'can only be exited on End resets'})`,\n        effectText: () => {\n            return `<p class=\"orchidText\">\u2012 Doesn't count as a Challenge${player.verses[0].lowest[0] <= 1 ? \", but positive effects are enabled\\n\u2012 'Improved Offline' uses new effect related to the Challenges\" : '\\nMore information to be revealed'}</p>\n            <p class=\"darkvioletText\">\u2012 Disables update of the Big Crunches stats\\n\u2012 Automatizations are disabled for Darkness Stage\\n\u2012 Darkness is disabled in false Vacuum\\nMore information to be revealed (WIP)</p>\n            <p class=\"cyanText\">\u2012 Time limit is based on Universe age\\nMore information to be revealed (WIP)</p>`;\n        },\n        rewardText: [\n            'Darkness Tier can be increased to 2 (WIP)', //0\n            'Darkness now allows positive Challenge effects', //1\n            'Auto Dark energy Researches', //2\n            'Auto Nucleation', //3\n            'Auto Abyss Upgrades', //4\n            \"Auto 'Dark planets'\", //5\n            'Auto Abyss Researches' //6\n        ],\n        resetType: 'universe',\n        time: 3.1556952e16,\n        color: 'gray'\n    }],\n    historyStorage: {\n        stage: [],\n        end: []\n    },\n    loadouts: {\n        input: [],\n        open: false,\n        buttons: []\n    }\n};\n\n/* Values for arrays are taken from global object */\nexport const vacuumStart: vacuumStartType = {\n    true: {\n        build0Start: [new Overlimit(0), new Overlimit(5.476e-3), new Overlimit(0), new Overlimit(9.76185667392e-36), new Overlimit(1)],\n        buildS1Cost: [],\n        upgradesS1: [],\n        upgradesS4: [],\n        upgradesS5: [],\n        researchesS1Cost: [],\n        researchesS1Scale: [],\n        researchesS4: [],\n        researchesS5: [],\n        extrasS4: [],\n        extrasS5: [],\n        ASRS1: [],\n        ASR3S3: global.ASRInfo.costRange[3][3],\n        elements: [],\n        strangenessS1Cost: [],\n        strangenessS1Scale: [],\n        strangenessS2Cost: [],\n        strangenessS2Scale: [],\n        strangenessS3Cost: [],\n        strangenessS3Scale: [],\n        strangenessS4Cost: [],\n        strangenessS4Scale: [],\n        strangenessS5Cost: [],\n        strangenessS5Scale: [],\n        rest: [new Overlimit(global.upgradesInfo[2].cost[0]), global.researchesInfo[2].scaling[2], global.researchesInfo[2].scaling[3]]\n    },\n    false: {\n        build0Start: [new Overlimit(0), new Overlimit(3), new Overlimit(2.7753108348135e-3), new Overlimit(1e-19), new Overlimit(1)],\n        buildS1Cost: [0, 3, 24, 3],\n        upgradesS1: [0, 0, 12, 36, 120, 240, 480, 1600, 3200, 20800],\n        upgradesS5: [new Overlimit(1e150)],\n        researchesS1Cost: [600, 2000, 4000, 4000, 6000, 6000],\n        researchesS1Scale: [200, 400, 2000, 12000, 4000, 6000],\n        ASRS1: [2000, 8000, 16000],\n        ASR3S3: 2e30,\n        elements: [new Overlimit(1e52), new Overlimit(1e54)],\n        strangenessS1Cost: [1.25, 1, 1.5, 2, 4, 2, 24],\n        strangenessS1Scale: [0.75, 0.5, 0.5, 2, 0, 0, 0],\n        strangenessS2Cost: [1, 1.2, 2, 2, 4, 2, 24],\n        strangenessS2Scale: [0.5, 0.6, 1, 2, 0, 0, 0],\n        strangenessS3Cost: [1.2, 1, 2, 4, 4, 2, 4, 24],\n        strangenessS3Scale: [0.6, 1, 1, 0, 0, 0, 2, 0],\n        strangenessS4Cost: [1.5, 1.5, 4, 2, 4, 2, 4, 24],\n        strangenessS4Scale: [0.75, 1.5, 1, 2, 0, 0, 68, 0],\n        strangenessS5Cost: [20, 24, 240, 24, 6000, 24, 20, 120],\n        strangenessS5Scale: [20, 24, 240, 0, 0, 0, 220, 0],\n        rest: [new Overlimit(1e4), 1e3, 1e2]\n    }\n};\n\n/** To make it easier to edit every case where it used at once, provided numbers need to be in ascending order */\nconst visualUniverseLevels = (...unlocks: number[]): string => {\n    const universes = getVerseType();\n    for (let i = 0; i < unlocks.length; i++) {\n        if (universes >= unlocks[i]) { continue; }\n        return `\\n(Max level will be increased at ${unlocks[i]} ${player.challenges.active === 0 ? 'Void' : 'basic self-made'} Universes)`;\n    }\n    return '';\n};\n\n/** Only for effects that are calculated multiple times per tick */\nexport const effectsCache = { //Cannot be in Stage.ts due to esbuild file ordering\n    microworld: 0,\n    S1Upgrade6: 0,\n    S1Upgrade7: 0,\n    /** Alternative names are S1Upgrade8 and S1Build6 */\n    tritium: 0,\n    S2Upgrade3: 0,\n    S2Upgrade4: 0,\n    interstellar: 0,\n    star: [0, 0, 0],\n    galaxyBase: 0,\n    strangeMiltipliers: 0,\n    element26: 0,\n    S1SolarDelay: 0,\n    S3SolarDelay: 0,\n    fluid: 0,\n    S3Strange1: 0,\n    S3Strange3: 0,\n    /** Total effect */\n    T0Inflation3: 0\n};\n\n/** Sets playerStart, global and HTML values */\nexport const prepareVacuum = (state: boolean) => { //Must not use direct player values\n    const info = vacuumStart[state ? 'true' : 'false'];\n    const { buildingsInfo, upgradesInfo, researchesInfo, researchesExtraInfo, elementsInfo, strangenessInfo } = global;\n    const buildings = playerStart.buildings;\n    for (let s = 1; s <= 3; s++) {\n        buildings[s][0].current.setValue(info.build0Start[s]);\n        buildings[s][0].total.setValue(info.build0Start[s]);\n        buildings[s][0].trueTotal.setValue(info.build0Start[s]);\n    }\n    buildingsInfo.firstCost[1] = cloneArray(info.buildS1Cost);\n    upgradesInfo[1].cost = cloneArray(info.upgradesS1);\n    upgradesInfo[2].cost[0] = new Overlimit(info.rest[0]);\n    upgradesInfo[5].cost[3] = new Overlimit(info.upgradesS5[state ? 3 : 0]);\n    researchesInfo[1].firstCost = cloneArray(info.researchesS1Cost);\n    researchesInfo[1].scaling = cloneArray(info.researchesS1Scale);\n    researchesInfo[2].scaling[2] = info.rest[1];\n    researchesInfo[2].scaling[3] = info.rest[2];\n    global.ASRInfo.costRange[1] = cloneArray(info.ASRS1);\n    global.ASRInfo.costRange[3][3] = info.ASR3S3;\n    elementsInfo.cost[27].setValue(info.elements[state ? 27 : 0]);\n    elementsInfo.cost[28].setValue(info.elements[state ? 28 : 1]);\n    strangenessInfo[1].firstCost = cloneArray(info.strangenessS1Cost);\n    strangenessInfo[1].scaling = cloneArray(info.strangenessS1Scale);\n    strangenessInfo[2].firstCost = cloneArray(info.strangenessS2Cost);\n    strangenessInfo[2].scaling = cloneArray(info.strangenessS2Scale);\n    strangenessInfo[3].firstCost = cloneArray(info.strangenessS3Cost);\n    strangenessInfo[3].scaling = cloneArray(info.strangenessS3Scale);\n    strangenessInfo[4].firstCost = cloneArray(info.strangenessS4Cost);\n    strangenessInfo[4].scaling = cloneArray(info.strangenessS4Scale);\n    strangenessInfo[5].firstCost = cloneArray(info.strangenessS5Cost);\n    strangenessInfo[5].scaling = cloneArray(info.strangenessS5Scale);\n\n    const milestone1S1 = getQuery('#milestone1Stage1Div > input') as HTMLImageElement;\n    const milestone1S2 = getQuery('#milestone1Stage2Div > input') as HTMLImageElement;\n    const milestone2S2 = getQuery('#milestone2Stage2Div > input') as HTMLImageElement;\n    const milestone1S3 = getQuery('#milestone1Stage3Div > input') as HTMLImageElement;\n    const milestone2S4 = getQuery('#milestone2Stage4Div > input') as HTMLImageElement;\n    if (state) {\n        specialHTML.footerStatsHTML[1][0] = ['Energy%20mass.png', 'stage1borderImage cyanText', 'Mass'];\n        buildingsInfo.hoverText[2][0] = 'Tritium';\n        buildingsInfo.hoverText[3][0] = 'Preons hardcap';\n        buildingsInfo.type[2][0] = 'improving';\n        buildingsInfo.type[3][0] = 'delaying';\n        if (buildingsInfo.name[1][0] !== 'Mass') {\n            buildingsInfo.name[1].unshift('Mass', 'Preons');\n            buildingsInfo.hoverText[1].unshift('Mass', 'Preons');\n            specialHTML.buildingHTML[1].unshift('Preon.png', 'Quarks.png');\n        }\n\n        for (let s = 1; s < 7; s++) {\n            if (s !== 5) { buildingsInfo.maxActive[s] = buildingsInfo.firstCost[s].length; }\n            upgradesInfo[s].maxActive = upgradesInfo[s].cost.length;\n            if (s !== 1 && s !== 3) { researchesInfo[s].maxActive = researchesInfo[s].firstCost.length; }\n            researchesExtraInfo[s].maxActive = researchesExtraInfo[s].firstCost.length;\n            strangenessInfo[s].maxActive = strangenessInfo[s].firstCost.length;\n        }\n        elementsInfo.maxActive = elementsInfo.cost.length;\n\n        getId('milestonesExtra').innerHTML = 'Requires <span class=\"darkvioletText\">Void Milestones</span> Inflation to be active to enable effects';\n        milestone1S1.src = 'Used_art/Preon.png';\n        global.milestonesInfo[2].name[0] = 'Just a bigger Puddle';\n        getQuery('#milestone1Stage2Main > span').textContent = 'Just a bigger Puddle';\n        milestone1S2.alt = 'Just a bigger Puddle';\n        global.milestonesInfo[2].name[1] = 'Distant Clouds';\n        getQuery('#milestone2Stage2Main > span').textContent = 'Distant Clouds';\n        milestone2S2.src = 'Used_art/Clouds.png';\n        milestone2S2.alt = 'Distant Clouds';\n        milestone1S3.alt = 'Center of gravity';\n        global.milestonesInfo[3].name[0] = 'Center of gravity';\n        getQuery('#milestone1Stage3Main > span').textContent = 'Center of gravity';\n        milestone2S4.src = 'Used_art/Black%20hole.png';\n        getId('mergeResetText').innerHTML = '<span class=\"darkvioletText\">Merge</span> does a <span class=\"grayText\">Galaxy</span> reset, while also converting all self-made <span class=\"grayText\">Galaxies</span> into bonus ones.';\n        getQuery('#stageHistory > h3').textContent = 'Stage resets:';\n\n        getId('preonCap').style.display = '';\n        getId('molesProduction').style.display = '';\n        getId('massProduction').style.display = '';\n        getId('mainCapHardS5').style.display = '';\n        getId('element0').style.display = '';\n        getId('strangePeak').style.display = '';\n        getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}5`).style.display = '';\n        getId('strange7Stage1').style.display = '';\n        getId('strange7Stage2').style.display = '';\n        getId('strange8Stage3').style.display = '';\n        getId('strange8Stage4').style.display = '';\n        getId('strange3Stage5').style.display = '';\n        getId('strange4Stage5').style.display = '';\n        getId('milestone1Stage5Div').style.display = '';\n        getId('milestone2Stage5Div').style.display = '';\n        getId('stageAutoInterstellar1').style.display = '';\n        getId('stageAutoInterstellar2').style.display = '';\n        getId('vaporizationLimit').style.display = '';\n        getId('collapseCapped').style.display = '';\n\n        getQuery('#stageAutoInterstellar1 span').style.display = 'none';\n        getQuery('#stageAutoElse > span').textContent = 'Auto disable if still capable to do more automatic Merges';\n        getQuery('#stageAutoElse > span:last-of-type').style.display = 'none';\n    } else {\n        specialHTML.footerStatsHTML[1][0] = ['Quarks.png', 'stage1borderImage cyanText', 'Quarks'];\n        buildingsInfo.hoverText[2][0] = 'Moles';\n        buildingsInfo.hoverText[3][0] = 'Mass';\n        buildingsInfo.type[2][0] = 'producing';\n        buildingsInfo.type[3][0] = 'producing';\n        if (buildingsInfo.name[1][0] === 'Mass') {\n            buildingsInfo.name[1].splice(0, 2);\n            buildingsInfo.hoverText[1].splice(0, 2);\n            specialHTML.buildingHTML[1].splice(0, 2);\n        }\n        global.buildingsInfo.producing[4][5].setValue(0);\n        getId('star3Effect').dataset.title = 'Boost to the Solar mass gain';\n\n        buildingsInfo.maxActive[1] = 4;\n        buildingsInfo.maxActive[2] = 6;\n        buildingsInfo.maxActive[3] = 5;\n        buildingsInfo.maxActive[4] = 5;\n        buildingsInfo.maxActive[6] = 0;\n        upgradesInfo[1].maxActive = 10;\n        upgradesInfo[2].maxActive = 8;\n        upgradesInfo[3].maxActive = 13;\n        upgradesInfo[4].maxActive = 4;\n        upgradesInfo[5].maxActive = 4;\n        upgradesInfo[6].maxActive = 0;\n        researchesInfo[2].maxActive = 6;\n        researchesInfo[4].maxActive = 5;\n        researchesInfo[5].maxActive = 2;\n        researchesInfo[6].maxActive = 0;\n        researchesExtraInfo[1].maxActive = 0;\n        researchesExtraInfo[2].maxActive = 3;\n        researchesExtraInfo[3].maxActive = 4;\n        researchesExtraInfo[4].maxActive = 3;\n        researchesExtraInfo[5].maxActive = 1;\n        researchesExtraInfo[6].maxActive = 0;\n        elementsInfo.maxActive = 29;\n        strangenessInfo[1].maxActive = 7;\n        strangenessInfo[2].maxActive = 7;\n        strangenessInfo[3].maxActive = 8;\n        strangenessInfo[4].maxActive = 8;\n        strangenessInfo[5].maxActive = 8;\n        strangenessInfo[6].maxActive = 0;\n\n        getId('milestonesExtra').innerHTML = 'Completing any tier will award 1 <span class=\"greenText\">Strange quark</span>';\n        milestone1S1.src = 'Used_art/Quarks.png';\n        global.milestonesInfo[2].name[0] = 'A Nebula of Drops';\n        getQuery('#milestone1Stage2Main > span').textContent = 'A Nebula of Drops';\n        milestone1S2.alt = 'A Nebula of Drops';\n        global.milestonesInfo[2].name[1] = 'Just a bigger Puddle';\n        getQuery('#milestone2Stage2Main > span').textContent = 'Just a bigger Puddle';\n        milestone2S2.src = 'Used_art/Puddle.png';\n        milestone2S2.alt = 'Just a bigger Puddle';\n        milestone1S3.alt = 'Cluster of Mass';\n        global.milestonesInfo[3].name[0] = 'Cluster of Mass';\n        getQuery('#milestone1Stage3Main > span').textContent = 'Cluster of Mass';\n        milestone2S4.src = 'Used_art/Main_sequence%20mass.png';\n        getId('mergeResetText').innerHTML = 'Attempt to <span class=\"darkvioletText\">Merge</span> <span class=\"grayText\">Galaxies</span> together, which will result in <span class=\"orchidText\">Vacuum</span> decaying into its true state.';\n        getQuery('#stageHistory > h3').textContent = 'Interstellar Stage resets:';\n\n        getId('strange8Stage5').style.display = '';\n        getId('milestonesProgressArea').style.display = '';\n        getQuery('#stageAutoElse > span').textContent = 'Reset pre-Interstellar Stages only if all Milestones are maxed';\n        getQuery('#stageAutoElse > span:last-of-type').style.display = '';\n        getId('rankStat0').style.display = '';\n\n        getId('preonCap').style.display = 'none';\n        getId('molesProduction').style.display = 'none';\n        getId('massProduction').style.display = 'none';\n        getId('dustCap').style.display = 'none';\n        getId('submersionBoost').style.display = 'none';\n        getId('mainCap').style.display = 'none';\n        getId('mainCapHardS5').style.display = 'none';\n        getId('mergeBoost').style.display = 'none';\n        getId('mergeEffects').style.display = 'none';\n        getId('mergeBoostTotal').style.display = 'none';\n        getId('darkEnergySpent').style.display = 'none';\n        getId('nucleationBoostTotal').style.display = 'none';\n        getId('researchAuto1').style.display = 'none';\n        getId('researchAuto2').style.display = 'none';\n        getId('vaporizationLimit').style.display = 'none';\n        getId('collapseCapped').style.display = 'none';\n        getId('element0').style.display = 'none';\n        getId(`strangeness${globalSave.MDSettings[0] ? 'Page' : 'Section'}6`).style.display = 'none';\n        for (let s = 1; s <= 5; s++) {\n            for (let i = strangenessInfo[s].maxActive + 1; i <= strangenessInfo[s].cost.length; i++) {\n                getId(`strange${i}Stage${s}`).style.display = 'none';\n            }\n        }\n        getQuery('#stageAutoInterstellar1 span').style.display = '';\n        getId('toggleAuto9Info').style.display = 'none';\n        getId('energyGainStage1Build1').style.display = 'none';\n        getId('energyGainStage1Build2').style.display = 'none';\n        for (let s = 2; s <= 6; s++) {\n            getId(`energyGainStage${s}`).style.display = 'none';\n        }\n        getId('mergeResets').style.display = 'none';\n        getId('mergeResetsS6').style.display = 'none';\n        getId('nucleationBoost').style.display = 'none';\n        getId('effectiveDarkEnergyStat').style.display = 'none';\n    }\n};\n/** Handles special logic related to required data in and out of every Challenge (must be after prepareVacuum) */\nexport const prepareChallenge = () => {\n    const challenge = player.challenges.active;\n    const next = challenge === null ? null : challenge === 0 && !player.challenges.super ? 0 : challenge + 1;\n    const old = global.debug.challenge;\n\n    const trueInfo = vacuumStart.true;\n    const startEl = global.elementsInfo.cost;\n    const startU4 = global.upgradesInfo[4].cost;\n    const startU5 = global.upgradesInfo[5].cost;\n    const startR4 = global.researchesInfo[4].firstCost;\n    const startR5 = global.researchesInfo[5].firstCost;\n    const startE4 = global.researchesExtraInfo[4].firstCost;\n    const startE5 = global.researchesExtraInfo[5].firstCost;\n    if (next === 0 || next === 1) {\n        global.buildingsInfo.producing[4][5].setValue(0);\n        global.buildingsInfo.maxActive[4] = 5;\n        if (next === 1) {\n            const offset = new Overlimit(100);\n            if (startEl[1].equal(trueInfo.elements[1])) {\n                for (let i = 1; i < startEl.length; i++) { startEl[i].multiply(offset); }\n                for (let i = 0; i < startU4.length; i++) { startU4[i].multiply(offset); }\n                for (let i = 0; i < startU5.length; i++) { startU5[i].multiply(offset); }\n                for (let i = 0; i < startR4.length; i++) { startR4[i].multiply(offset); }\n                for (let i = 0; i < startR5.length; i++) { startR5[i].multiply(offset); }\n                for (let i = 0; i < startE4.length; i++) { startE4[i].multiply(offset); }\n                for (let i = 0; i < startE5.length; i++) { startE5[i].multiply(offset); }\n            } else if (startEl[27].equal(trueInfo.elements[27])) {\n                startEl[27].multiply(offset);\n                startEl[28].multiply(offset);\n                startU5[3].multiply(offset);\n            }\n        }\n    } else if (next === 2) {\n        startU5[3].setValue(trueInfo.upgradesS5[3]);\n    }\n    if (next === old) { return; }\n    global.debug.challenge = next;\n\n    if (old === 0 || old === 1) {\n        if (player.inflation.vacuum) { global.buildingsInfo.maxActive[4] = global.buildingsInfo.firstCost[4].length; }\n        if (old === 1) {\n            for (let i = 1; i < startEl.length; i++) { startEl[i].setValue(trueInfo.elements[i]); }\n            for (let i = 0; i < startU4.length; i++) { startU4[i].setValue(trueInfo.upgradesS4[i]); }\n            for (let i = 0; i < startU5.length; i++) { startU5[i].setValue(trueInfo.upgradesS5[i]); }\n            for (let i = 0; i < startR4.length; i++) { startR4[i].setValue(trueInfo.researchesS4[i]); }\n            for (let i = 0; i < startR5.length; i++) { startR5[i].setValue(trueInfo.researchesS5[i]); }\n            for (let i = 0; i < startE4.length; i++) { startE4[i].setValue(trueInfo.extrasS4[i]); }\n            for (let i = 0; i < startE5.length; i++) { startE5[i].setValue(trueInfo.extrasS5[i]); }\n            if (!player.inflation.vacuum) {\n                startU5[3].setValue(vacuumStart.false.upgradesS5[0]);\n                startEl[27].setValue(vacuumStart.false.elements[0]);\n                startEl[28].setValue(vacuumStart.false.elements[1]);\n            }\n        }\n    } else if (old === 2) {\n        if (!player.inflation.vacuum) { startU5[3].setValue(vacuumStart.false.upgradesS5[0]); }\n    }\n};\n\nexport const fillMissingValues = <ArrayType extends any[]>(test: ArrayType, start: ArrayType) => {\n    for (let i = test.length; i < start.length; i++) { test[i] = deepClone(start[i]); }\n};\n\nexport const updatePlayer = (load: playerType): string => {\n    if (load.inflation === undefined) { throw new ReferenceError('This save file is not from this game or too old'); }\n    prepareVacuum(load.inflation.vacuum); //Only to set starting buildings values\n\n    const oldVersion = load.version;\n    if (oldVersion !== playerStart.version) {\n        if (['v0.1.2', 'v0.1.3', 'v0.1.4', 'v0.1.5', 'v0.1.6', 'v0.1.7', 'v0.1.8'].includes(load.version)) {\n            load.version = 'v0.1.9';\n            load.researchesAuto = cloneArray(playerStart.researchesAuto);\n            delete load.accretion['input' as keyof unknown];\n\n            /* Can be shortened */\n            load.discharge = deepClone(playerStart.discharge);\n        }\n        if (load.version === 'v0.1.9' || load.version === 'v0.2.0') {\n            load.version = 'v0.2.1';\n            load.inflation.resets = load.inflation.vacuum ? 1 : 0;\n            load.buildings = deepClone(playerStart.buildings); //Moving this down will allow to reset load.inflation\n\n            /* Can be shortened */\n            load.stage = deepClone(playerStart.stage);\n        }\n        if (load.version === 'v0.2.1') {\n            load.version = 'v0.2.2';\n            load.elements = cloneArray(playerStart.elements);\n            load.inflation.time = 0;\n\n            /* Can be shortened */\n            load.collapse = deepClone(playerStart.collapse);\n        }\n        if (['v0.2.2', 'v0.2.3', 'v0.2.4', 'v0.2.5'].includes(load.version)) {\n            load.version = 'v0.2.6';\n            load.inflation.loadouts = [];\n            delete load.inflation['spent' as keyof unknown];\n            delete load.inflation['tree' as keyof unknown];\n\n            /* Can be shortened */\n            load.vaporization = deepClone(playerStart.vaporization);\n            load.time = deepClone(playerStart.time);\n            load.toggles = deepClone(playerStart.toggles);\n        }\n        if (load.version === 'v0.2.6') {\n            load.version = 'v0.2.7';\n            load.merge = deepClone(playerStart.merge);\n        }\n        if (load.version === 'v0.2.7') {\n            load.version = 'v0.2.8';\n            load.proggress = deepClone(playerStart.proggress);\n            const trueVerses = load.verses === undefined ? 0 : (load.verses[0]?.true ?? 0);\n            const highestUniverse = Math.max(load.inflation.ends !== undefined ? (load.inflation.ends as number[])[2] : 0, trueVerses);\n            load.verses = deepClone(playerStart.verses);\n            load.inflation.age = 0;\n            load.inflation.ends = cloneArray(playerStart.inflation.ends);\n            load.inflation.peak = cloneArray(playerStart.inflation.peak);\n            load.upgrades[6] = cloneArray(playerStart.upgrades[6]);\n            load.researches[6] = cloneArray(playerStart.researches[6]);\n            load.researchesExtra[6] = cloneArray(playerStart.researchesExtra[6]);\n            load.strangeness[6] = cloneArray(playerStart.strangeness[6]);\n            load.stage.peak = cloneArray(playerStart.stage.peak);\n            load.stage.input = cloneArray(playerStart.stage.input);\n            load.darkness = deepClone(playerStart.darkness);\n            load.challenges = deepClone(playerStart.challenges);\n            load.cosmon = deepClone(playerStart.cosmon);\n            load.tree = deepClone(playerStart.tree);\n            load.history = deepClone(playerStart.history);\n            delete load.stage['true' as keyof unknown];\n            const voidVerses = load.inflation['voidVerses' as keyof unknown] as number;\n            delete load.inflation['voidVerses' as keyof unknown];\n            for (const key in load) {\n                if (playerStart[key as keyof unknown] === undefined) { delete load[key as keyof unknown]; }\n            }\n\n            /* Can be shortened */\n            load.buildings[6] = deepClone(playerStart.buildings[6]);\n            load.time.export[3] = 0;\n            if (highestUniverse > 2) {\n                load.cosmon[1].current = highestUniverse - 2;\n                load.cosmon[1].total = load.cosmon[1].current;\n            }\n            load.verses[0].true = Math.min(trueVerses, 2);\n            load.verses[0].current = load.verses[0].true;\n            load.verses[0].total = load.verses[0].true;\n            load.cosmon[0].current = trueVerses >= 2 ? 4 : trueVerses >= 1 ? 1 : 0;\n            if (load.inflation.vacuum && trueVerses >= 1) { load.cosmon[0].current++; }\n            if (voidVerses !== undefined) { load.cosmon[0].current += voidVerses; }\n            load.cosmon[0].total = load.cosmon[0].current;\n            load.toggles.confirm[6] = 'All';\n            delete load.discharge['energyMax' as keyof unknown];\n            delete load.vaporization['cloudsMax' as keyof unknown];\n            delete load.collapse['massMax' as keyof unknown];\n        }\n        if (load.version === 'v0.2.8') { load.version = 'v0.2.8_will_be_deleted'; }\n\n        if (load.version !== playerStart.version) {\n            throw new ReferenceError(`Save file version ${load.version} is not allowed`);\n        }\n    }\n    if (load.darkness.tier === undefined) { //Remove\n        load.proggress = deepClone(playerStart.proggress);\n    }\n    if (typeof load.darkness.tier !== 'number') { //Remove\n        load.darkness.tier = 0;\n        load.darkness.active = false;\n        load.verses[0].lowest = cloneArray(playerStart.verses[0].lowest);\n        load.tree[1] = cloneArray(playerStart.tree[1]);\n        load.cosmon[1].current = load.cosmon[1].total;\n    }\n\n    for (let s = 1; s <= 6; s++) {\n        fillMissingValues(load.buildings[s], playerStart.buildings[s]);\n        fillMissingValues(load.toggles.buildings[s], playerStart.toggles.buildings[s]);\n        if (!(load.toggles.shop.wait[s] >= 1)) { load.toggles.shop.wait[s] = 2; }\n\n        fillMissingValues(load.upgrades[s], playerStart.upgrades[s]);\n        fillMissingValues(load.researches[s], playerStart.researches[s]);\n        fillMissingValues(load.researchesExtra[s], playerStart.researchesExtra[s]);\n        load.ASR[s] ??= 0;\n        fillMissingValues(load.strangeness[s], playerStart.strangeness[s]);\n\n        if (s >= 6) { continue; }\n        fillMissingValues(load.milestones[s], playerStart.milestones[s]);\n    }\n    fillMissingValues(load.strange, playerStart.strange);\n    fillMissingValues(load.verses, playerStart.verses);\n    fillMissingValues(load.cosmon, playerStart.cosmon);\n\n    fillMissingValues(load.researchesAuto, playerStart.researchesAuto);\n    fillMissingValues(load.elements, playerStart.elements);\n    for (let s = 0; s < playerStart.tree.length; s++) { fillMissingValues(load.tree[s], playerStart.tree[s]); }\n\n    fillMissingValues(load.toggles.verses, playerStart.toggles.verses);\n    fillMissingValues(load.toggles.normal, playerStart.toggles.normal);\n    fillMissingValues(load.toggles.confirm, playerStart.toggles.confirm);\n    fillMissingValues(load.toggles.hover, playerStart.toggles.hover);\n    fillMissingValues(load.toggles.max, playerStart.toggles.max);\n    fillMissingValues(load.toggles.auto, playerStart.toggles.auto);\n\n    if (load.time.export[0] < -3600_000) { load.time.export[0] = -3600_000; }\n    if (load.time.offline < -3600_000) { load.time.offline = -3600_000; }\n    if (load.time.excess < -1200_000) { load.time.excess = -1200_000; }\n    if (load.accretion.rank === 0) { load.buildings[3][0].current = '5.9722e27' as unknown as Overlimit; } //Required\n\n    if (load.challenges.active !== null) {\n        const clone = load.clone;\n        for (let s = 1; s <= 6; s++) {\n            fillMissingValues(clone.upgrades[s], playerStart.upgrades[s]);\n            fillMissingValues(clone.researches[s], playerStart.researches[s]);\n            fillMissingValues(clone.researchesExtra[s], playerStart.researchesExtra[s]);\n            clone.ASR[s] ??= 0;\n\n            if (clone.depth === 'stage') { continue; }\n            fillMissingValues(clone.strangeness[s], playerStart.strangeness[s]);\n\n            if (s >= 6) { continue; }\n            fillMissingValues(clone.milestones[s], playerStart.milestones[s]);\n        }\n        fillMissingValues(clone.researchesAuto, playerStart.researchesAuto);\n        fillMissingValues(clone.elements, playerStart.elements);\n    } else { load.clone = {}; }\n\n    /* Restore data post JSON parse */\n    load.fileName = new TextDecoder().decode(Uint8Array.from(load.fileName, (c) => c.codePointAt(0) as number));\n    for (let i = 0; i < load.inflation.loadouts.length; i++) {\n        load.inflation.loadouts[i][0] = new TextDecoder().decode(Uint8Array.from(load.inflation.loadouts[i][0], (c) => c.codePointAt(0) as number));\n    }\n    for (let s = 1; s < load.buildings.length; s++) {\n        for (let i = 0; i < load.buildings[s].length; i++) {\n            const building = load.buildings[s][i];\n            building.current = new Overlimit(building.current);\n            building.total = new Overlimit(building.total);\n            building.trueTotal = new Overlimit(building.trueTotal);\n        }\n    }\n    Object.assign(player, load);\n\n    /* Final preparations */\n    prepareChallenge();\n    global.trueActive = player.stage.active;\n    global.debug.historyStage = null;\n    global.debug.historyEnd = null;\n    global.debug.timeLimit = false;\n\n    const progress = player.challenges.supervoidMax;\n    global.inflationInfo.totalSuper = progress[1] + progress[2] + progress[3] + progress[4] + progress[5];\n    const stars = player.buildings[4];\n    global.collapseInfo.trueStars = stars[1].true + stars[2].true + stars[3].true + stars[4].true + stars[5].true;\n    global.collapseInfo.pointsLoop = 0;\n    global.mergeInfo.galaxies = player.buildings[5][3].current.toNumber();\n    global.inflationInfo.trueUniverses = calculateEffects.trueUniverses();\n    global.historyStorage.stage = player.history.stage.list;\n    global.historyStorage.end = player.history.end.list;\n\n    for (let s = 1; s <= 5; s++) {\n        for (let i = 0; i < playerStart.milestones[s].length; i++) {\n            global.milestonesInfo[s].recent[i] = 0;\n            assignMilestoneInformation(i, s);\n        }\n    }\n    for (let s = 1; s <= 6; s++) {\n        const strangeness = player.strangeness[s];\n        const strangenessMax = global.strangenessInfo[s].max;\n        for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'strangeness');\n            if (strangeness[i] > strangenessMax[i]) { strangeness[i] = strangenessMax[i]; }\n        }\n        const extra = player.researchesExtra[s];\n        const extraMax = global.researchesExtraInfo[s].max;\n        for (let i = 0; i < global.researchesExtraInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'researchesExtra');\n            if (extra[i] > extraMax[i]) { extra[i] = extraMax[i]; }\n        }\n        const researches = player.researches[s];\n        const researchesMax = global.researchesInfo[s].max;\n        for (let i = 0; i < global.researchesInfo[s].maxActive; i++) {\n            calculateMaxLevel(i, s, 'researches');\n            if (researches[i] > researchesMax[i]) { researches[i] = researchesMax[i]; }\n        }\n        calculateMaxLevel(0, s, 'ASR');\n        global.automatization.autoU[s] = [];\n        global.automatization.autoR[s] = [];\n        global.automatization.autoE[s] = [];\n\n        getId(`stageSwitch${s}`).style.textDecoration = global.trueActive === s ? 'underline' : '';\n        global.lastUpgrade[s][0] = null;\n    }\n    for (let i = 0; i < playerStart.researchesAuto.length; i++) { calculateMaxLevel(i, 0, 'researchesAuto'); }\n    for (let s = 0; s < playerStart.tree.length; s++) {\n        const tree = player.tree[s];\n        const treeMax = global.treeInfo[s].max;\n        for (let i = 0; i < playerStart.tree[s].length; i++) {\n            calculateMaxLevel(i, s, 'inflations');\n            if (tree[i] > treeMax[i]) { tree[i] = treeMax[i]; }\n        }\n    }\n    global.automatization.element = 1;\n    global.automatization.autoS = [];\n\n    toggleSupervoid();\n    for (let i = 0; i < global.challengesInfo.length; i++) { assignChallengeInformation(i); }\n    global.lastElement = null;\n    global.lastStrangeness = [null, 0];\n    global.lastMilestone = [null, 0];\n    global.lastChallenge[0] = player.challenges.active !== null ? player.challenges.active : player.darkness.active ? 2 : 1;\n    global.lastInflation = [null, 0];\n\n    assignBuildingsProduction.strange1();\n    assignBuildingsProduction.strange0();\n    assignBuildingsProduction.S2Levels(true);\n    assignBuildingsProduction.S4Levels(true);\n    assignResetInformation.maxRank();\n    assignResetInformation.trueEnergy();\n\n    visualProggressUnlocks();\n    switchTab(); //Order matters\n    (getId('saveFileNameInput') as HTMLInputElement).value = player.fileName;\n    (getId('vaporizationInput') as HTMLInputElement).value = format(player.vaporization.input[0], { type: 'input' });\n    (getId('vaporizationInputMax') as HTMLInputElement).value = format(player.vaporization.input[1], { type: 'input' });\n    (getId('collapseInput') as HTMLInputElement).value = format(player.collapse.input[0], { type: 'input' });\n    (getId('collapseInputWait') as HTMLInputElement).value = format(player.collapse.input[1], { type: 'input' });\n    (getId('mergeInput') as HTMLInputElement).value = format(player.merge.input[0], { type: 'input' });\n    (getId('mergeInputSince') as HTMLInputElement).value = format(player.merge.input[1], { type: 'input' });\n    (getId('nucleationInput') as HTMLInputElement).value = format(player.darkness.input, { type: 'input' });\n    (getId('stageHistorySave') as HTMLInputElement).value = `${player.history.stage.input[0]}`;\n    (getId('stageHistoryShow') as HTMLInputElement).value = `${player.history.stage.input[1]}`;\n    (getId('endHistorySave') as HTMLInputElement).value = `${player.history.end.input[0]}`;\n    (getId('endHistoryShow') as HTMLInputElement).value = `${player.history.end.input[1]}`;\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) { toggleSwap(i, 'normal'); }\n    for (let i = 0; i < playerStart.toggles.confirm.length; i++) { toggleConfirm(i); }\n    for (let i = 0; i < playerStart.toggles.hover.length; i++) { toggleSwap(i, 'hover'); }\n    for (let i = 0; i < playerStart.toggles.max.length; i++) { toggleSwap(i, 'max'); }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) { toggleSwap(i, 'auto'); }\n    (getId('buyAnyInput') as HTMLInputElement).value = format(player.toggles.shop.input, { type: 'input' });\n    if (global.loadouts.open) {\n        global.loadouts.open = false;\n        getId('loadoutsMain').style.display = 'none';\n        if (globalSave.SRSettings[0]) { getId('inflationLoadouts').ariaExpanded = 'false'; }\n    }\n    updateCollapsePoints();\n\n    return oldVersion;\n};\n", "import { player, global, updatePlayer, prepareVacuum, fillMissingValues, vacuumStart } from './Player';\nimport { getUpgradeDescription, switchTab, numbersUpdate, visualUpdate, format, getChallengeDescription, stageUpdate, updateCollapsePoints, getChallengeRewards } from './Update';\nimport { assignBuildingsProduction, buyBuilding, buyStrangeness, buyStrangenessMax, buyUpgrades, buyVerse, calculateTreeCost, collapseResetUser, dischargeResetUser, endResetUser, enterExitChallengeUser, inflationRefund, mergeResetUser, nucleationResetUser, rankResetUser, setActiveStage, stageResetUser, switchStage, timeUpdate, toggleSupervoid, vaporizationResetUser } from './Stage';\nimport { Alert, Prompt, setTheme, changeFontSize, changeFormat, specialHTML, replayEvent, Confirm, preventImageUnload, Notify, MDStrangenessPage, globalSave, toggleSpecial, saveGlobalSettings, openHotkeys, openVersionInfo, errorNotify } from './Special';\nimport { assignHotkeys, buyAll, createAll, detectHotkey, detectShift, handleTouchHotkeys, offlineWarp, toggleAll } from './Hotkeys';\nimport { checkUpgrade } from './Check';\nimport type { hotkeysList } from './Types';\nimport Overlimit from './Limit';\n\n/** Not for the deep copy, works on Overlimit, but not prefered */\nexport const cloneArray = <ArrayClone extends Array<number | string | boolean | null | undefined>>(array: ArrayClone) => array.slice(0) as ArrayClone;\n//Actual type is any[], it's because TS is dumb; [...array] will be better after ~>10000 keys\n\n/** For non deep clone use { ...object } or cloneArray when possible */\nexport const deepClone = <CloneType>(toClone: CloneType): CloneType => {\n    if (typeof toClone !== 'object' || toClone === null) { return toClone; }\n\n    let value: any;\n    if (Array.isArray(toClone)) {\n        if (toClone instanceof Overlimit) { return new Overlimit(toClone) as CloneType; }\n\n        value = []; //Faster this way\n        for (let i = 0; i < toClone.length; i++) { value.push(deepClone(toClone[i])); }\n    } else {\n        value = {};\n        for (const check in toClone) { value[check] = deepClone(toClone[check]); }\n    }\n    return value;\n};\n\n/** Only for static HTML, by default (false) throws error if id is null */\nexport const getId = (id: string, noError = false): HTMLElement => {\n    const test = specialHTML.cache.idMap.get(id);\n    if (test !== undefined) { return test; }\n\n    const store = document.getElementById(id);\n    if (store !== null) {\n        specialHTML.cache.idMap.set(id, store);\n        return store;\n    }\n\n    if (noError) { return null as unknown as HTMLElement; }\n    errorNotify(`Error encountered, ID \u2012 '${id}' doesn't exist`);\n    throw new ReferenceError(`ID \u2012 '${id}' doesn't exist`);\n};\n\n/** Only for static HTML, by default (false) throws error if query isn't found is null */\nexport const getQuery = (query: string, noError = false): HTMLElement => {\n    const test = specialHTML.cache.queryMap.get(query);\n    if (test !== undefined) { return test; }\n\n    const store = document.querySelector(query) as HTMLElement; //Can't add null type due to eslint being buggy\n    if (store !== null) {\n        specialHTML.cache.queryMap.set(query, store);\n        return store;\n    }\n\n    if (noError) { return null as unknown as HTMLElement; }\n    errorNotify(`Error encountered, Query \u2012 '${query}' failed to find anything`);\n    throw new ReferenceError(`Query \u2012 '${query}' failed to find anything`);\n};\n\n/** Id collection will be auto updated by browser */\nexport const getClass = (idCollection: string): HTMLCollectionOf<HTMLElement> => {\n    const test = specialHTML.cache.classMap.get(idCollection);\n    if (test !== undefined) { return test; }\n    const store = document.getElementsByClassName(idCollection) as HTMLCollectionOf<HTMLElement>;\n    specialHTML.cache.classMap.set(idCollection, store);\n    return store;\n};\n\n/** Assigns and then caches value, returns true if change is detected. Calls getQuery if ID is a string */\nexport const assignInnerHTML = (id: HTMLElement | string, text: string): boolean => {\n    if (specialHTML.cache.innerHTML.get(id) === text) { return false; }\n    specialHTML.cache.innerHTML.set(id, text);\n    (typeof id === 'string' ? getQuery(id) : id).innerHTML = text;\n    return true;\n};\n\n/** Returns offline time in milliseconds */\nconst handleOfflineTime = (): number => {\n    const timeNow = Date.now();\n    const offlineTime = timeNow - player.time.updated;\n    player.time.updated = timeNow;\n    player.time.export[0] += offlineTime;\n    return offlineTime;\n};\nexport const simulateOffline = async(offline: number, autoConfirm = player.toggles.normal[4]) => {\n    const info = global.offline;\n    if (!info.active) { pauseGame(); }\n    offline += player.time.excess;\n    player.time.excess = 0;\n\n    let decline = false;\n    if (offline >= 20 && !autoConfirm) {\n        decline = !await Confirm(`Accept and use ${format(Math.min(offline / 1000, 43200), { type: 'time', padding: false })} worth of Offline time?${player.challenges.supervoid[3] >= 4 ? ' Or reject it to store it instead.' : ''}\\n(Includes time spent to click any of the buttons)`, 2) &&\n            (globalSave.developerMode || player.challenges.supervoid[3] >= 4 || !await Confirm(\"Press 'Cancel' again to confirm losing Offline time, 'Confirm' to use it instead\"));\n        const extra = handleOfflineTime();\n        global.lastSave += extra;\n        offline += extra;\n    }\n    if (offline > 43200_000) { offline = 43200_000; }\n    if (decline || offline < 20) {\n        if (decline) { player.time.offline = Math.min(player.time.offline + offline, 43200_000); }\n        if (offline < 0) { player.time.excess = offline - 20; }\n        pauseGame(false);\n        timeUpdate(20, 20); //Just in case\n        visualUpdate();\n        numbersUpdate();\n        if (info.autosave) {\n            info.autosave = false;\n            saveGame();\n        }\n        return;\n    }\n    let tick = 20;\n    const startValue = offline;\n    const startStage = player.stage.active;\n    info.stage[0] = null;\n    info.stage[1] = null;\n    player.time.online += offline;\n\n    const body = document.documentElement;\n    const mainHTML = getId('offlineMain');\n    const accelBtn = getId('offlineAccelerate');\n    const deaccelBtn = getId('offlineDeaccelerate');\n    const cancelBtn = getId('offlineCancel');\n    const oldFocus = document.activeElement as HTMLElement | null;\n    const accelerate = () => { tick *= 2; };\n    const deaccelerate = () => { tick = Math.max(tick / 2, 20); };\n    const finish = () => { tick = 0; };\n    const key = (event: KeyboardEvent) => {\n        const shift = detectShift(event);\n        if (shift === null || event.code !== 'Tab') { return; }\n        if (shift && document.activeElement === accelBtn) {\n            cancelBtn.focus();\n        } else if (!shift && document.activeElement === cancelBtn) {\n            accelBtn.focus();\n        } else { return; }\n        event.preventDefault();\n    };\n    const end = () => {\n        pauseGame(false);\n        if (info.stage[0] !== null) {\n            player.stage.active = startStage;\n            setActiveStage(info.stage[0]);\n        }\n        if (info.stage[1] !== null) {\n            stageUpdate(info.stage[1]);\n        } else {\n            visualUpdate();\n            numbersUpdate();\n        }\n        mainHTML.style.display = 'none';\n        accelBtn.removeEventListener('click', accelerate);\n        deaccelBtn.removeEventListener('click', deaccelerate);\n        cancelBtn.removeEventListener('click', finish);\n        body.removeEventListener('keydown', key);\n        oldFocus?.focus();\n        if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Offline calculation ended'; }\n\n        if (info.autosave) {\n            info.autosave = false;\n            saveGame();\n        }\n    };\n    accelBtn.addEventListener('click', accelerate);\n    deaccelBtn.addEventListener('click', deaccelerate);\n    cancelBtn.addEventListener('click', finish);\n    body.addEventListener('keydown', key);\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Offline calculation started'; }\n    mainHTML.style.display = '';\n    accelBtn.focus();\n\n    const tickHTML = getId('offlineTick');\n    const remainsHTML = getId('offlineRemains');\n    const percentageHTML = getId('offlinePercentage');\n    const calculate = () => {\n        const time = tick <= 0 ? offline : Math.min(600 * tick, offline);\n        offline -= time;\n        try {\n            timeUpdate(Math.max(time / 600, 20), time);\n        } catch (error) {\n            end();\n            const stack = (error as { stack?: string }).stack;\n            void Alert(`Offline calculation failed due to error:\\n${typeof stack === 'string' ? stack.replaceAll(`${window.location.origin}/`, '') : error}`, 1);\n            throw error;\n        }\n        if (offline >= 20) {\n            setTimeout(calculate);\n            tickHTML.textContent = format(tick);\n            remainsHTML.textContent = format(offline / 1000, { type: 'time' });\n            percentageHTML.textContent = `${format(100 - offline / startValue * 100, { padding: true })}% done`;\n        } else {\n            player.time.excess += offline;\n            end();\n        }\n    };\n    calculate();\n};\n\nconst changeIntervals = () => {\n    const intervalsId = global.intervalsId;\n    const paused = global.offline.active || global.paused;\n\n    clearInterval(intervalsId.main);\n    clearInterval(intervalsId.numbers);\n    clearInterval(intervalsId.visual);\n    intervalsId.main = paused ? undefined : setInterval(timeUpdate, 20, 20);\n    intervalsId.numbers = paused ? undefined : setInterval(numbersUpdate, globalSave.intervals.numbers);\n    intervalsId.visual = paused ? undefined : setInterval(visualUpdate, globalSave.intervals.visual);\n};\n/** Pauses and unpauses game based on 'pause' value */\nexport const pauseGame = (pause = true) => {\n    if (!pause && global.paused) {\n        const button = getId('pauseButton');\n        button.style.borderColor = '';\n        button.style.color = '';\n        getId('gamePaused').style.display = 'none';\n        global.paused = false;\n        if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Game unpaused'; }\n\n        global.intervalsId.autoSave = setTimeout(saveGame, globalSave.intervals.autoSave);\n    }\n    global.hotkeys.disabled = pause;\n    global.offline.active = pause;\n    changeIntervals();\n\n    if (!pause && global.offline.cacheUpdate) {\n        global.offline.cacheUpdate = false;\n        preventImageUnload();\n    }\n};\nexport const pauseGameUser = () => {\n    if (global.offline.active) { return; }\n    if (!global.paused) {\n        const button = getId('pauseButton');\n        button.style.borderColor = 'forestgreen';\n        button.style.color = 'var(--green-text)';\n        getId('gamePaused').style.display = '';\n        global.paused = true;\n        changeIntervals();\n        clearTimeout(global.intervalsId.autoSave);\n        if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Game paused'; }\n        return;\n    }\n    const offline = handleOfflineTime();\n    global.lastSave += offline;\n    void simulateOffline(offline);\n};\n\nconst saveGame = (noSaving = false): string | null => {\n    if (global.offline.active) {\n        global.offline.autosave = true;\n        return null;\n    }\n    try {\n        player.history.stage.list = global.historyStorage.stage.slice(0, player.history.stage.input[0]);\n        player.history.end.list = global.historyStorage.end.slice(0, player.history.end.input[0]);\n\n        const clone = { ...player };\n        clone.fileName = String.fromCharCode(...new TextEncoder().encode(clone.fileName));\n        clone.inflation = deepClone(clone.inflation);\n        for (let i = 0; i < clone.inflation.loadouts.length; i++) {\n            clone.inflation.loadouts[i][0] = String.fromCharCode(...new TextEncoder().encode(clone.inflation.loadouts[i][0]));\n        }\n        const save = btoa(JSON.stringify(clone));\n        if (!noSaving) {\n            localStorage.setItem(specialHTML.localStorage.main, save);\n            getId('isSaved').textContent = 'Saved';\n            global.lastSave = 0;\n            if (!global.paused) {\n                clearTimeout(global.intervalsId.autoSave);\n                global.intervalsId.autoSave = setTimeout(saveGame, globalSave.intervals.autoSave);\n            }\n        }\n        return save;\n    } catch (error) {\n        const stack = (error as { stack?: string }).stack;\n        void Alert(`Failed to save the game\\n${typeof stack === 'string' ? stack.replaceAll(`${window.location.origin}/`, '') : error}`, 1);\n        throw error;\n    }\n};\nconst loadGame = (save: string) => {\n    if (global.offline.active) { return; }\n    pauseGame();\n    try {\n        const versionCheck = updatePlayer(JSON.parse(atob(save)));\n\n        global.lastSave = handleOfflineTime();\n        Notify(`This save is ${format(global.lastSave / 1000, { type: 'time', padding: false })} old${versionCheck !== player.version ? `\\nSave file version is ${versionCheck}` : ''}`);\n        stageUpdate(true, true);\n\n        void simulateOffline(global.lastSave);\n    } catch (error) {\n        updatePlayer(player); //Fixes bugs\n        pauseGame(false);\n\n        void Alert(`Incorrect save file format\\n${error}`);\n        throw error;\n    }\n};\n\nconst replaceSaveFileSpecials = (name = player.fileName): string => {\n    const date = new Date();\n    const dateIndex = name.indexOf('[date');\n    if (dateIndex >= 0) {\n        const endIndex = name.indexOf(']', dateIndex + 5);\n        if (endIndex >= 0) {\n            let replaced = name.substring(dateIndex + 5, endIndex);\n            const special = [\n                'Y',\n                'M',\n                'D'\n            ];\n            const replaceWith = [\n                `${date.getFullYear()}`,\n                `${date.getMonth() + 1}`.padStart(2, '0'),\n                `${date.getDate()}`.padStart(2, '0')\n            ];\n            for (let i = 0; i < special.length; i++) {\n                replaced = replaced.replace(special[i], replaceWith[i]);\n            }\n            name = name.replace(name.substring(dateIndex, endIndex + 1), replaced);\n        }\n    }\n    const timeIndex = name.indexOf('[time');\n    if (timeIndex >= 0) {\n        const endIndex = name.indexOf(']', timeIndex + 5);\n        if (endIndex >= 0) {\n            let replaced = name.substring(timeIndex + 5, endIndex);\n            const special = [\n                'H',\n                'M',\n                'S'\n            ];\n            const replaceWith = [\n                `${date.getHours()}`.padStart(2, '0'),\n                `${date.getMinutes()}`.padStart(2, '0'),\n                `${date.getSeconds()}`.padStart(2, '0')\n            ];\n            for (let i = 0; i < special.length; i++) {\n                replaced = replaced.replace(special[i], replaceWith[i]);\n            }\n            name = name.replace(name.substring(timeIndex, endIndex + 1), replaced);\n        }\n    }\n\n    const special = [\n        '[version]',\n        '[stage]',\n        '[strange]',\n        '[inflaton]',\n        '[cosmon]',\n        '[vacuum]',\n        '[galaxy]',\n        '[universe]'\n    ];\n    const replaceWith = [\n        player.version,\n        global.stageInfo.word[player.stage.current],\n        format(player.strange[0].total, { type: 'input', padding: true }),\n        format(player.cosmon[0].total, { type: 'input', padding: 'exponent' }),\n        format(player.cosmon[1].total, { type: 'input', padding: true }),\n        `${player.inflation.vacuum}`,\n        `${format(player.buildings[5][3].current, { type: 'input', padding: 'exponent' })} [${format(player.buildings[5][3].true, { type: 'input', padding: 'exponent' })}]`,\n        `${format(player.verses[0].current, { type: 'input', padding: 'exponent' })} [${format(global.inflationInfo.trueUniverses, { type: 'input', padding: 'exponent' })}]`\n    ];\n    for (let i = 0; i < special.length; i++) {\n        name = name.replace(special[i], replaceWith[i]);\n    }\n    return `${name}.txt`;\n};\n\nexport const toggleSwap = (number: number, type: 'buildings' | 'verses' | 'normal' | 'hover' | 'max' | 'auto', change = false) => {\n    const toggles = type === 'buildings' ? player.toggles.buildings[player.stage.active] : player.toggles[type];\n    if (change) { toggles[number] = !toggles[number]; }\n\n    let extraText;\n    let toggleHTML;\n    if (type === 'buildings' || type === 'verses') {\n        toggleHTML = getId(`toggle${type === 'buildings' ? 'Building' : 'Verse'}${number}`);\n        extraText = 'Auto ';\n        if (change) { visualUpdate(); }\n    } else if (type === 'hover') {\n        toggleHTML = getId(`toggleHover${number}`);\n        extraText = 'Hover to create ';\n    } else if (type === 'max') {\n        toggleHTML = getId(`toggleMax${number}`);\n        extraText = 'Max create ';\n    } else if (type === 'auto') {\n        toggleHTML = getId(`toggleAuto${number}`);\n        extraText = 'Auto ';\n    } else {\n        toggleHTML = getId(`toggleNormal${number}`);\n        extraText = '';\n    }\n\n    if (!toggles[number]) {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n        toggleHTML.textContent = `${extraText}OFF`;\n    } else {\n        toggleHTML.style.color = 'var(--green-text)';\n        toggleHTML.style.borderColor = 'forestgreen';\n        toggleHTML.textContent = `${extraText}ON`;\n    }\n};\n\nexport const toggleConfirm = (number: number, change = false) => {\n    const toggles = player.toggles.confirm;\n    if (change) { toggles[number] = toggles[number] === 'All' ? 'Safe' : toggles[number] === 'Safe' ? 'None' : 'All'; }\n\n    const toggleHTML = getId(`toggleConfirm${number}`);\n    toggleHTML.textContent = toggles[number];\n    if (toggles[number] !== 'None') {\n        toggleHTML.style.color = 'var(--green-text)';\n        toggleHTML.style.borderColor = 'forestgreen';\n    } else {\n        toggleHTML.style.color = '';\n        toggleHTML.style.borderColor = '';\n    }\n};\n\nconst repeatFunction = (repeat: () => any) => {\n    if (global.intervalsId.mouseRepeat !== undefined) { return; }\n    global.intervalsId.mouseRepeat = setTimeout(() => {\n        global.intervalsId.mouseRepeat = setInterval(repeat, 50);\n    }, 200);\n};\nconst cancelRepeat = () => {\n    clearInterval(global.intervalsId.mouseRepeat);\n    global.intervalsId.mouseRepeat = undefined;\n};\n\n/** Prevents element from going offscreen, for now only works for centered labels */\nconst showAndFix = (element: HTMLElement) => {\n    element.style.right = '';\n    element.style.display = '';\n    const rect = element.getBoundingClientRect();\n    if (rect.left < 0) {\n        element.style.right = `calc(50% - ${-rect.left}px)`;\n    } else {\n        const width = document.documentElement.clientWidth;\n        if (rect.right > width) { element.style.right = `calc(50% + ${rect.right - width}px)`; }\n    }\n};\n\nconst hoverUpgrades = (index: number, type: 'upgrades' | 'researches' | 'researchesExtra' | 'researchesAuto' | 'ASR' | 'elements') => {\n    if (type === 'elements') {\n        global.lastElement = index;\n    } else {\n        if ((type === 'upgrades' || type === 'researches' || type === 'researchesExtra') && global[`${type}Info`][player.stage.active].maxActive <= index) { return; }\n        global.lastUpgrade[player.stage.active] = [index, type];\n    }\n    getUpgradeDescription(type);\n};\nconst hoverStrangeness = (index: number, stageIndex: number, type: 'strangeness' | 'milestones' | 'inflations') => {\n    if (type === 'inflations') {\n        global.lastInflation = [index, stageIndex];\n    } else if (type === 'strangeness') {\n        global.lastStrangeness = [index, stageIndex];\n    } else { global.lastMilestone = [index, stageIndex]; }\n    getUpgradeDescription(type);\n};\nconst hoverChallenge = (index: number) => {\n    global.lastChallenge[0] = index;\n    getChallengeDescription();\n    getChallengeRewards();\n    visualUpdate();\n};\n/** Creates X automatization Research or switches Stage to from which that Research auto can be created if done from wrong Stage */\nconst handleAutoResearchCreation = (index: number) => {\n    if (player.researchesAuto[index] >= global.researchesAutoInfo.max[index]) { return; }\n    const stageIndex = player.stage.active;\n    if (checkUpgrade(index, stageIndex, 'researchesAuto')) {\n        buyUpgrades(index, stageIndex, 'researchesAuto');\n        return;\n    }\n\n    const autoStage = global.researchesAutoInfo.autoStage[index][player.researchesAuto[index]];\n    global.lastUpgrade[autoStage][0] = index;\n    global.lastUpgrade[autoStage][1] = 'researchesAuto';\n    switchStage(autoStage, stageIndex);\n};\n\n/** Sets selected loadout to provided */\nexport const loadoutsFinal = (load: number[]) => {\n    if (!global.loadouts.open) { return; }\n    const max = global.treeInfo[0].max;\n    const appeared = {} as Record<number, number>;\n\n    let cost = 0;\n    let string = '';\n    for (let i = 0, dupes = 0; i < load.length; i += dupes, dupes = 0) {\n        const current = load[i];\n        appeared[current] ??= 0;\n        const unlocked = checkUpgrade(current, 0, 'inflations');\n        do {\n            if (appeared[current] >= 20) {\n                load.splice(i + dupes, 1);\n                continue;\n            }\n            if (unlocked && appeared[current] < max[current]) {\n                cost += calculateTreeCost(current, 0, appeared[current]);\n            }\n            appeared[current] += 1;\n            dupes++;\n        } while (load[i + dupes] === current);\n        if (dupes < 1) { continue; }\n        string += `${i > 0 ? ', ' : ''}${current + 1}${dupes !== 1 ? `x${dupes}` : ''}`;\n    }\n    global.loadouts.input = load;\n    getQuery('#loadoutsEditLabel > span').textContent = format(cost, { padding: 'exponent' });\n    (getId('loadoutsEdit') as HTMLInputElement).value = string;\n};\nconst loadoutsRecreate = () => {\n    const old = global.loadouts.buttons;\n    for (let i = 0; i < old.length; i++) { old[i][0].removeEventListener('click', old[i][1]); }\n    const newOld: typeof old = [];\n    const listHTML = getQuery('#loadoutsList > span');\n    listHTML.textContent = '';\n    for (let i = 0; i < player.inflation.loadouts.length; i++) {\n        const button = document.createElement('button');\n        button.textContent = player.inflation.loadouts[i][0];\n        button.className = 'selectBtn redText';\n        button.type = 'button';\n        const event = () => {\n            const loadout = player.inflation.loadouts[i];\n            (getId('loadoutsName') as HTMLInputElement).value = loadout[0];\n            loadoutsFinal(cloneArray(loadout[1]));\n            if (global.hotkeys.shift) { void loadoutsLoad(loadout[1]); }\n        };\n        newOld[i] = [button, event];\n        listHTML.append(button, ', ');\n        button.addEventListener('click', event);\n    }\n    global.loadouts.buttons = newOld;\n};\nconst loadoutsSave = () => {\n    const name = (getId('loadoutsName') as HTMLInputElement).value;\n    if (name.length === 0) { return; }\n    const loadouts = player.inflation.loadouts;\n    let index = loadouts.length;\n    for (let i = 0; i < index; i++) {\n        if (name === loadouts[i][0]) {\n            index = i;\n            break;\n        }\n    }\n    loadouts[index] = [name, cloneArray(global.loadouts.input)];\n    loadoutsRecreate();\n    Notify(`Saved loadout as '${name}'`);\n};\nconst loadoutsLoad = async(loadout = null as null | number[]) => {\n    if (!await inflationRefund(global.hotkeys.shift, true)) { return; }\n\n    if (loadout === null) { loadout = global.loadouts.input; }\n    for (let i = 0; i < loadout.length; i++) {\n        if (!checkUpgrade(loadout[i], 0, 'inflations')) { continue; }\n        buyStrangeness(loadout[i], 0, 'inflations', true);\n    }\n    numbersUpdate();\n    if (globalSave.SRSettings[0]) { getId('SRMain').textContent = 'Loaded loadout'; }\n};\nconst loadoutsLoadAuto = () => {\n    const array = [];\n    for (let i = 0; i < player.tree[0].length; i++) {\n        for (let r = player.tree[0][i]; r > 0; r--) { array.push(i); }\n    }\n    loadoutsFinal(array);\n};\n\n{ //Final preparations\n    /** Does not clone given value */\n    const createArray = <startValue extends number | string | boolean | null | undefined>(length: number, value: startValue) => {\n        //Doing 'new Array(length)' is faster, but will force array to be holey type (and using .fill will make it slower)\n        const array = [];\n        for (let i = 0; i < length; i++) { array.push(value); }\n        return array as startValue[];\n    };\n\n    const trueInfo = vacuumStart.true;\n    const { toggles, buildings } = player;\n    const { buildingsInfo, upgradesInfo, strangenessInfo, milestonesInfo } = global;\n    for (let s = 1; s < buildingsInfo.firstCost.length; s++) {\n        buildings[s] = [] as unknown as typeof buildings[0];\n        toggles.buildings[s] = createArray(buildingsInfo.firstCost[s].length, false);\n        buildingsInfo.producing[s] = [];\n        for (let i = 0; i < buildingsInfo.firstCost[s].length; i++) {\n            const start = i === 0 && s < 5 ? trueInfo.build0Start[s] : 0;\n            buildings[s][i] = {\n                current: new Overlimit(start),\n                total: new Overlimit(start),\n                trueTotal: new Overlimit(start)\n            };\n            if (i !== 0) { buildings[s][i as 1].true = 0; }\n            buildingsInfo.producing[s as 0][i] = new Overlimit(0);\n        }\n        buildingsInfo.increaseStart[s] = cloneArray(buildingsInfo.increase[s]);\n    }\n    trueInfo.buildS1Cost = cloneArray(buildingsInfo.firstCost[1]);\n    toggles.verses = createArray(player.verses.length, false);\n    for (let s = 1; s < upgradesInfo.length; s++) {\n        const cost = upgradesInfo[s].cost;\n        player.upgrades[s] = createArray(cost.length, 0);\n        global.automatization.autoU[s] = [];\n        global.lastUpgrade[s] = [null, 'upgrades'];\n        if (s === 1) {\n            trueInfo.upgradesS1 = cloneArray(cost as number[]);\n            continue;\n        }\n        for (let i = 0; i < cost.length; i++) {\n            cost[i] = new Overlimit(cost[i]);\n            if (s === 4 || s === 5) { trueInfo[`upgradesS${s}`][i] = new Overlimit(cost[i]); }\n        }\n    }\n    for (const upgradeType of ['researches', 'researchesExtra'] as const) {\n        const pointer = global[`${upgradeType}Info`];\n        for (let s = 1; s < pointer.length; s++) {\n            const firstCost = pointer[s].firstCost;\n            player[upgradeType][s] = createArray(firstCost.length, 0);\n            if (s === 1 || (s === 6 && upgradeType === 'researchesExtra')) {\n                pointer[s].cost = cloneArray(firstCost as number[]);\n                continue;\n            }\n            for (let i = 0; i < firstCost.length; i++) {\n                firstCost[i] = new Overlimit(firstCost[i]);\n                pointer[s].cost[i] = new Overlimit(firstCost[i]);\n                if (s === 4 || s === 5) { trueInfo[`${upgradeType === 'researches' ? 'researches' : 'extras'}S${s}`][i] = new Overlimit(firstCost[i]); }\n            }\n            global.automatization[`auto${upgradeType === 'researches' ? 'R' : 'E'}`][s] = [];\n        }\n        if (upgradeType === 'researches') {\n            trueInfo.researchesS1Cost = cloneArray(pointer[1].firstCost);\n            trueInfo.researchesS1Scale = cloneArray(pointer[1].scaling);\n        }\n    }\n    player.researchesAuto = createArray(global.researchesAutoInfo.costRange.length, 0);\n    player.ASR = createArray(global.ASRInfo.costRange.length, 0);\n    trueInfo.ASRS1 = cloneArray(global.ASRInfo.costRange[1]);\n    {\n        const cost = global.elementsInfo.cost;\n        player.elements = createArray(cost.length, 0);\n        for (let i = 0; i < cost.length; i++) {\n            cost[i] = new Overlimit(cost[i]);\n            trueInfo.elements[i] = new Overlimit(cost[i]);\n        }\n    }\n    for (let s = 1; s < strangenessInfo.length; s++) {\n        player.strangeness[s] = createArray(strangenessInfo[s].firstCost.length, 0);\n        strangenessInfo[s].cost = cloneArray(strangenessInfo[s].firstCost);\n        if (s > 5) { continue; }\n        trueInfo[`strangenessS${s as 1}Cost`] = cloneArray(strangenessInfo[s].firstCost);\n        trueInfo[`strangenessS${s as 1}Scale`] = cloneArray(strangenessInfo[s].scaling);\n    }\n    for (let s = 1; s < milestonesInfo.length; s++) {\n        player.milestones[s] = createArray(milestonesInfo[s].needText.length, 0);\n        for (let i = 0; i < milestonesInfo[s].needText.length; i++) {\n            milestonesInfo[s].need[i] = new Overlimit('1e1e308');\n        }\n    }\n    for (let s = 0; s < global.treeInfo.length; s++) {\n        player.tree[s] = createArray(global.treeInfo[s].firstCost.length, 0);\n        global.treeInfo[s].cost = cloneArray(global.treeInfo[s].firstCost);\n    }\n    toggles.normal = createArray(document.getElementsByClassName('toggleNormal').length, false);\n    toggles.confirm = createArray(document.getElementsByClassName('toggleConfirm').length, 'Safe');\n    toggles.hover = createArray(document.getElementsByClassName('toggleHover').length, false);\n    toggles.max = createArray(document.getElementsByClassName('toggleMax').length, false);\n    toggles.auto = createArray(document.getElementsByClassName('toggleAuto').length, false);\n    toggles.normal[1] = true;\n    toggles.confirm[6] = 'All';\n}\nexport const playerStart = deepClone(player);\nexport const globalSaveStart = deepClone(globalSave);\n\ntry { //Start everything\n    const body = document.documentElement;\n    const globalSettings = localStorage.getItem(specialHTML.localStorage.settings);\n    if (globalSettings !== null) {\n        try {\n            Object.assign(globalSave, JSON.parse(atob(globalSettings)));\n            const decoder = new TextDecoder();\n            for (const key in globalSave.hotkeys) { //Restore decoded data\n                const array = globalSave.hotkeys[key as hotkeysList];\n                for (let i = 0; i < array.length; i++) {\n                    array[i] = decoder.decode(Uint8Array.from(array[i], (c) => c.codePointAt(0) as number));\n                }\n            }\n            fillMissingValues(globalSave.toggles, globalSaveStart.toggles);\n            fillMissingValues(globalSave.MDSettings, globalSaveStart.MDSettings);\n            fillMissingValues(globalSave.SRSettings, globalSaveStart.SRSettings);\n            for (const key in globalSaveStart.hotkeys) {\n                globalSave.hotkeys[key as hotkeysList] ??= ['None', 'None'];\n            }\n        } catch (error) {\n            Notify('Global settings failed to parse, default ones will be used instead');\n            console.log(`(Full parse error) ${error}`);\n        }\n    }\n    (getId('decimalPoint') as HTMLInputElement).value = globalSave.format[0];\n    (getId('thousandSeparator') as HTMLInputElement).value = globalSave.format[1];\n    (getId('numbersInterval') as HTMLInputElement).value = `${globalSave.intervals.numbers}`;\n    (getId('visualInterval') as HTMLInputElement).value = `${globalSave.intervals.visual}`;\n    (getId('autoSaveInterval') as HTMLInputElement).value = `${globalSave.intervals.autoSave / 1000}`;\n    for (let i = 0; i < globalSaveStart.toggles.length; i++) { toggleSpecial(i, 'global'); }\n    if (globalSave.fontSize !== 16) { changeFontSize(true); } //Also sets breakpoints for screen size\n    if (globalSave.toggles[8]) { getId('alertCancel').after(getId('alertConfirm')); }\n    if (globalSave.toggles[7]) {\n        document.addEventListener('visibilitychange', () => {\n            if (global.offline.active || global.paused || document.visibilityState !== 'hidden') { return; }\n            saveGame();\n        });\n    }\n    if (globalSave.toggles[5]) { specialHTML.styleSheet.textContent += 'body::-webkit-scrollbar { display: none; } '; }\n    if (globalSave.toggles[4]) { getId('globalStats').style.display = 'none'; }\n    if (globalSave.toggles[3]) {\n        getQuery('#footer > div:first-child').style.display = 'none';\n        const fake2 = document.createElement('div');\n        fake2.style.height = 'max(calc(6.08em + 32px), 7.92em)';\n        getId('body').prepend(getId('footer'), fake2);\n        getId('fakeFooter').after(getId('shortcuts'));\n        const div = document.createElement('div');\n        div.append(getId('footerStats'), getQuery('#footerMain > nav'), getId('stageSelect'));\n        getId('footerMain').append(div, getId('subtabs'));\n        specialHTML.styleSheet.textContent += `.insideTab { margin-top: 0.6rem; }\n            #footer { top: 0; bottom: unset; }\n            #footerMain { flex-direction: row; padding: 0.6em 0; gap: 0.6em; }\n            #footerMain > div { display: flex; flex-direction: column; row-gap: 0.6em; margin: 0 0 0 auto; }\n            #footerMain > div > nav { display: flex; flex-flow: row nowrap; justify-content: center; column-gap: 0.4em; }\n            #footerStats { justify-content: center; column-gap: 0.6em; margin: 0; }\n            #stageSelect { position: unset; margin: 0; max-width: unset; }\n            #subtabs { flex-flow: column-reverse wrap; gap: 0.6em !important; align-self: end; margin: 0 auto 0 0 !important; max-height: 6.72em; width: 0; /* min-width: 7em; */ }\n            #footerMain button, #shortcuts button { width: min-content; min-width: 4em; height: 2em; border-radius: 10px; font-size: 0.92em; }\n            #subtabs button { width: 100%; min-width: 7em; }\n            #globalStats { bottom: 3.04em; right: calc(50vw - 6.325em); }\n            #shortcuts { flex-direction: row-reverse; gap: 0.4em; justify-content: center; position: fixed; width: 100vw; max-width: unset; bottom: 0.6em; margin: 0; }\n            #fakeFooter { height: 3.04em; } `;\n    }\n    if (globalSave.toggles[2]) { body.classList.remove('noTextSelection'); }\n    if (globalSave.toggles[1]) {\n        const elementsArea = getId('upgradeSubtabElements');\n        elementsArea.id = 'ElementsTab';\n        getId('upgradeTab').after(elementsArea);\n\n        const elementsButton = getId('upgradeSubtabBtnElements');\n        elementsButton.id = 'ElementsTabBtn';\n        elementsButton.classList.add('stage4Include');\n        getId('upgradeTabBtn').after(elementsButton);\n\n        global.tabs.Elements = {\n            current: 'Elements',\n            list: []\n        };\n        global.tabs.upgrade.list.splice(global.tabs.upgrade.list.indexOf('Elements'), 1);\n        global.tabs.list.splice(global.tabs.list.indexOf('upgrade') + 1, 0, 'Elements');\n    }\n    toggleSpecial(0, 'mobile');\n    toggleSpecial(0, 'reader');\n\n    if (globalSave.MDSettings[0]) {\n        specialHTML.styleSheet.textContent += `html.noTextSelection, img, input[type = \"image\"], button, #load, a, #notifications > p, #globalStats { user-select: none; -webkit-user-select: none; -webkit-touch-callout: none; } /* Safari junk to disable image hold menu and text selection */\n            #themeArea > div > div { position: unset; display: flex; width: 15em; }\n            #themeArea > div > button { display: none; } /* More Safari junk to make windows work without focus */`;\n        (getId('file') as HTMLInputElement).accept = ''; //Accept for unknown reason not properly supported on phones\n        global.debug.MDStrangePage = 1;\n\n        for (let i = 0; i <= 2; i++) {\n            const arrow = document.createElement('button');\n            arrow.innerHTML = '<span class=\"downArrow\"></span>';\n            arrow.type = 'button';\n            getId(`reset${i}Main`).append(arrow);\n            arrow.addEventListener('click', () => getId(`reset${i}Main`).classList.toggle('open'));\n            arrow.addEventListener('blur', () => getId(`reset${i}Main`).classList.remove('open'));\n        }\n        specialHTML.styleSheet.textContent += `#resets { row-gap: 1em; }\n            #resets > section { position: relative; flex-direction: row; justify-content: center; width: unset; padding: unset; row-gap: unset; background-color: unset; border: unset; }\n            #resets > section:not(.open) > p { display: none !important; }\n            #resets > section > button:last-of-type { display: flex; justify-content: center; align-items: center; width: 2.2em; margin-left: -2px; }\n            #resets .downArrow { width: 1.24em; height: 1.24em; }\n            #resets p { position: absolute; width: 17.4em; padding: 0.5em 0.6em 0.6em; background-color: var(--window-color); border: 2px solid var(--window-border); top: calc(100% - 2px); z-index: 2; box-sizing: content-box; } `;\n\n        const createUpgButton = document.createElement('button');\n        createUpgButton.className = 'hollowButton';\n        createUpgButton.textContent = 'Create';\n        createUpgButton.id = 'upgradeCreate';\n        createUpgButton.type = 'button';\n        getId('createAllUpgrades').before(createUpgButton);\n\n        const createInfButton = document.createElement('button');\n        createInfButton.className = 'hollowButton';\n        createInfButton.textContent = 'Activate';\n        createInfButton.id = 'inflationActivate';\n        createInfButton.type = 'button';\n        getId('inflationRefund').before(createInfButton);\n\n        const pages = document.createElement('div');\n        pages.id = 'strangenessPages';\n        pages.innerHTML = '<button type=\"button\" id=\"strangenessPage1\" class=\"stage1borderImage hollowButton\">1</button><button type=\"button\" id=\"strangenessPage2\" class=\"stage2borderImage hollowButton\">2</button><button type=\"button\" id=\"strangenessPage3\" class=\"stage3borderImage hollowButton\">3</button><button type=\"button\" id=\"strangenessPage4\" class=\"stage4borderImage hollowButton\">4</button><button type=\"button\" id=\"strangenessPage5\" class=\"stage5borderImage hollowButton\">5</button><button type=\"button\" id=\"strangenessPage6\" class=\"stage6borderImage hollowButton\">6</button>';\n        specialHTML.styleSheet.textContent += `#strangenessPages { display: flex; justify-content: center; column-gap: 0.36em; }\n            #strangenessPages button { width: 2.08em; height: calc(2.08em - 2px); border-top: none; border-radius: 0 0 4px 4px; }`;\n        getId('strangenessResearch').append(pages);\n        const createStrButton = document.createElement('button');\n        createStrButton.className = 'hollowButton';\n        createStrButton.textContent = 'Create';\n        createStrButton.id = 'strangenessCreate';\n        createStrButton.type = 'button';\n        getId('createAllStrangeness').before(createStrButton);\n        getId('strangenessToggles').style.display = '';\n\n        const MDToggle1 = document.createElement('li');\n        MDToggle1.innerHTML = '<label>Keep mouse events<button type=\"button\" id=\"MDToggle1\" class=\"specialToggle\">OFF</button></label>';\n        const MDToggle2 = document.createElement('li');\n        MDToggle2.innerHTML = '<label>Allow zoom<button type=\"button\" id=\"MDToggle2\" class=\"specialToggle\">OFF</button></label>';\n        getId('MDLi').after(MDToggle1, MDToggle2);\n        for (let i = 1; i < globalSaveStart.MDSettings.length; i++) {\n            getId(`MDToggle${i}`).addEventListener('click', () => {\n                toggleSpecial(i, 'mobile', true, i === 1);\n                if (i === 2) {\n                    (getId('viewportMeta') as HTMLMetaElement).content = `width=device-width${globalSave.MDSettings[2] ? '' : ', minimum-scale=1.0, maximum-scale=1.0'}, initial-scale=1.0`;\n                }\n            });\n            toggleSpecial(i, 'mobile');\n        }\n        if (globalSave.MDSettings[2]) { (getId('viewportMeta') as HTMLMetaElement).content = 'width=device-width, initial-scale=1.0'; }\n    }\n    if (globalSave.SRSettings[0]) {\n        const message = getId('SRMessage1');\n        message.textContent = 'Screen reader support is enabled, disable it if its not required';\n        message.className = 'greenText';\n        message.ariaHidden = 'true';\n        for (let i = 0; i < playerStart.strange.length; i++) { getId(`strange${i}`).tabIndex = 0; }\n\n        const SRMainDiv = document.createElement('article');\n        SRMainDiv.innerHTML = '<h5>Information for the Screen reader</h5><p id=\"SRTab\" aria-live=\"polite\"></p><p id=\"SRStage\" aria-live=\"polite\"></p><p id=\"SRMain\" aria-live=\"assertive\"></p>';\n        SRMainDiv.className = 'reader';\n        getId('fakeFooter').before(SRMainDiv);\n\n        const SRToggle1 = document.createElement('li');\n        SRToggle1.innerHTML = '<label>Keep tab index on created Upgrades<button type=\"button\" id=\"SRToggle1\" class=\"specialToggle\">OFF</button></label>';\n        getId('SRLi').after(SRToggle1);\n\n        for (let i = 1; i < globalSaveStart.SRSettings.length; i++) {\n            getId(`SRToggle${i}`).addEventListener('click', () => { toggleSpecial(i, 'reader', true); });\n            toggleSpecial(i, 'reader');\n        }\n    } else {\n        const index = globalSave.toggles[0] ? 0 : 1;\n        getQuery('#SRMessage1 span').textContent = `${globalSave.hotkeys.tabLeft[index]} and ${globalSave.hotkeys.tabRight[index]}`;\n        getQuery('#SRMessage1 span:last-of-type').textContent = `${globalSave.hotkeys.subtabDown[index]} and ${globalSave.hotkeys.subtabUp[index]}`;\n    }\n\n    let oldVersion = player.version;\n    const save = localStorage.getItem(specialHTML.localStorage.main);\n    if (save !== null) {\n        oldVersion = updatePlayer(JSON.parse(atob(save)));\n    } else {\n        prepareVacuum(false); //Set buildings values\n        updatePlayer(deepClone(playerStart));\n    }\n\n    /* Global */\n    assignHotkeys();\n    const MD = globalSave.MDSettings[0];\n    const SR = globalSave.SRSettings[0];\n    const PC = !MD || globalSave.MDSettings[1];\n    const releaseHotkey = (event: KeyboardEvent | null) => {\n        const hotkeys = global.hotkeys;\n        if (hotkeys.shift && (event === null || event.key === 'Shift')) {\n            hotkeys.shift = false;\n            numbersUpdate();\n        }\n        if (hotkeys.ctrl && (event === null || event.key === 'Control')) {\n            hotkeys.ctrl = false;\n            numbersUpdate();\n        }\n        hotkeys.tab = false;\n        hotkeys.last = '';\n    };\n    body.addEventListener('contextmenu', (event) => {\n        const activeType = (document.activeElement as HTMLInputElement)?.type;\n        if (activeType !== 'text' && activeType !== 'number' && !globalSave.developerMode) { event.preventDefault(); }\n    });\n    body.addEventListener('keydown', (key) => detectHotkey(key));\n    body.addEventListener('keyup', releaseHotkey);\n    if (PC) {\n        body.addEventListener('mouseup', cancelRepeat);\n        body.addEventListener('mouseleave', () => {\n            releaseHotkey(null);\n            cancelRepeat();\n        });\n    }\n    if (MD) {\n        body.addEventListener('touchstart', (event) => {\n            specialHTML.mobileDevice.start = [event.touches[0].clientX, event.touches[0].clientY];\n        });\n        body.addEventListener('touchend', (event) => {\n            cancelRepeat();\n            const notAllowed = [getId('globalStats'), getId('footerMain')]; //[0] Shouldn't be changed\n            for (let target = event.target as HTMLElement; target != null; target = target.parentElement as HTMLElement) {\n                if (notAllowed.includes(target)) {\n                    if (target !== notAllowed[0]) { notAllowed[0].style.opacity = '1'; }\n                    return;\n                }\n            }\n            notAllowed[0].style.opacity = '1';\n            handleTouchHotkeys(event);\n        });\n        body.addEventListener('touchcancel', () => {\n            releaseHotkey(null);\n            cancelRepeat();\n        });\n    } else {\n        body.addEventListener('touchstart', () => Notify('Touch events require mobile device support enabled in settings'), { once: true });\n    } {\n        const hoverEvent = (event: MouseEvent) => {\n            const element = event.currentTarget as HTMLElement;\n            const window = getId('hoverWindow');\n            specialHTML.hoverText = () => { window.textContent = element.dataset.title as string; };\n            specialHTML.hoverText();\n            window.style.display = '';\n            const position = (event: MouseEvent) => {\n                window.style.left = `${Math.min(event.clientX + 10, document.documentElement.clientWidth - window.getBoundingClientRect().width)}px`;\n                window.style.top = `${event.clientY + 10}px`;\n            };\n            position(event);\n            element.addEventListener('mousemove', position);\n            element.addEventListener('mouseleave', () => {\n                specialHTML.hoverText = null;\n                window.style.display = 'none';\n                element.removeEventListener('mousemove', position);\n            }, { once: true });\n        };\n        for (const element of getClass('hasTitle')) { element.addEventListener('mouseenter', hoverEvent); }\n    }\n    for (let i = 0; i < globalSaveStart.toggles.length; i++) {\n        const refreshOnThese = [1, 3, 5, 7];\n        getId(`globalToggle${i}`).addEventListener('click', () => {\n            toggleSpecial(i, 'global', true, refreshOnThese.includes(i));\n            if (i === 0) {\n                assignHotkeys();\n                const index = globalSave.toggles[0] ? 0 : 1;\n                for (const key in globalSaveStart.hotkeys) { getQuery(`#${key}Hotkey button`).textContent = globalSave.hotkeys[key as hotkeysList][index]; }\n            } else if (i === 2) {\n                document.documentElement.classList[globalSave.toggles[2] ? 'remove' : 'add']('noTextSelection');\n            } else if (i === 4) {\n                getId('globalStats').style.display = !globalSave.toggles[4] ? '' : 'none';\n                visualUpdate();\n                numbersUpdate();\n            } else if (i === 8) {\n                getId('alertCancel')[globalSave.toggles[8] ? 'after' : 'before'](getId('alertConfirm'));\n            }\n        });\n    }\n    for (let i = 1; i < specialHTML.longestBuilding; i++) {\n        getId(`toggleBuilding${i}`).addEventListener('click', () => toggleSwap(i, 'buildings', true));\n    }\n    for (let i = 0; i < playerStart.toggles.normal.length; i++) {\n        getId(`toggleNormal${i}`).addEventListener('click', () => toggleSwap(i, 'normal', true));\n    }\n    for (let i = 0; i < playerStart.toggles.confirm.length; i++) {\n        getId(`toggleConfirm${i}`).addEventListener('click', () => toggleConfirm(i, true));\n    }\n    for (let i = 0; i < playerStart.toggles.hover.length; i++) {\n        getId(`toggleHover${i}`).addEventListener('click', () => toggleSwap(i, 'hover', true));\n    }\n    for (let i = 0; i < playerStart.toggles.max.length; i++) {\n        getId(`toggleMax${i}`).addEventListener('click', () => toggleSwap(i, 'max', true));\n    }\n    for (let i = 0; i < playerStart.toggles.auto.length; i++) {\n        getId(`toggleAuto${i}`).addEventListener('click', () => toggleSwap(i, 'auto', true));\n    }\n\n    /* Stage tab */\n    {\n        const button = getId('reset2Button');\n        const footer = getId('reset2Footer');\n        const repeatFunc = () => repeatFunction(endResetUser);\n        button.addEventListener('click', endResetUser);\n        footer.addEventListener('click', endResetUser);\n        if (PC) {\n            button.addEventListener('mousedown', repeatFunc);\n            footer.addEventListener('mousedown', repeatFunc);\n        }\n        if (MD) {\n            button.addEventListener('touchstart', repeatFunc);\n            footer.addEventListener('touchstart', repeatFunc);\n        }\n    } {\n        const button = getId('reset1Button');\n        const footer = getId('reset1Footer');\n        const repeatFunc = () => repeatFunction(() => {\n            if (player.inflation.vacuum || player.stage.active >= 4) { return; }\n            void stageResetUser();\n        });\n        button.addEventListener('click', stageResetUser);\n        footer.addEventListener('click', stageResetUser);\n        if (PC) {\n            button.addEventListener('mousedown', repeatFunc);\n            footer.addEventListener('mousedown', repeatFunc);\n        }\n        if (MD) {\n            button.addEventListener('touchstart', repeatFunc);\n            footer.addEventListener('touchstart', repeatFunc);\n        }\n    } {\n        const button = getId('reset0Button');\n        const footer = getId('reset0Footer');\n        const clickFunc = () => {\n            const active = player.stage.active;\n            if (active === 1) {\n                void dischargeResetUser();\n            } else if (active === 2) {\n                void vaporizationResetUser();\n            } else if (active === 3) {\n                void rankResetUser();\n            } else if (active === 4) {\n                void collapseResetUser();\n            } else if (active === 5) {\n                void mergeResetUser();\n            } else if (active === 6) {\n                void nucleationResetUser();\n            }\n        };\n        const repeatFunc = () => repeatFunction(() => {\n            if (player.stage.active !== 1 && player.stage.active !== 3) { return; }\n            clickFunc();\n        });\n        button.addEventListener('click', clickFunc);\n        footer.addEventListener('click', clickFunc);\n        if (PC) {\n            button.addEventListener('mousedown', repeatFunc);\n            footer.addEventListener('mousedown', repeatFunc);\n        }\n        if (MD) {\n            button.addEventListener('touchstart', repeatFunc);\n            footer.addEventListener('touchstart', repeatFunc);\n        }\n    } {\n        const button = getId('resetExtraFooter');\n        const clickFunc = () => {\n            const active = player.stage.active;\n            if (active === 4) {\n                buyBuilding(3, 5);\n            } else if (active === 5) {\n                void collapseResetUser();\n            } else if (active === 6) {\n                void mergeResetUser();\n            }\n        };\n        const repeatFunc = () => {\n            repeatFunction(() => {\n                if (player.stage.active !== 4) { return; }\n                clickFunc();\n            });\n        };\n        button.addEventListener('click', clickFunc);\n        if (PC) { button.addEventListener('mousedown', repeatFunc); }\n        if (MD) { button.addEventListener('touchstart', repeatFunc); }\n    }\n    const getMakeCount = () => global.hotkeys.shift ? (global.hotkeys.ctrl ? 100 : 1) : global.hotkeys.ctrl ? 10 : undefined;\n    for (let i = 1; i < specialHTML.longestBuilding; i++) {\n        const button = getId(`building${i}Btn`);\n        const clickFunc = () => buyBuilding(i, player.stage.active, getMakeCount());\n        button.addEventListener('click', clickFunc);\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n        if (MD) { button.addEventListener('touchstart', () => repeatFunction(clickFunc)); }\n    }\n    for (let i = 0; i < playerStart.verses.length; i++) {\n        const button = getId(`verse${i}Btn`);\n        const clickFunc = () => buyVerse(i);\n        button.addEventListener('click', clickFunc);\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n        if (MD) { button.addEventListener('touchstart', () => repeatFunction(clickFunc)); }\n    } {\n        const button = getId('makeAllStructures');\n        const footer = getId('makeAllFooter');\n        button.addEventListener('click', buyAll);\n        footer.addEventListener('click', buyAll);\n        if (PC) {\n            button.addEventListener('mousedown', () => repeatFunction(buyAll));\n            footer.addEventListener('mousedown', () => repeatFunction(buyAll));\n        }\n        if (MD) {\n            button.addEventListener('touchstart', () => repeatFunction(buyAll));\n            footer.addEventListener('touchstart', () => repeatFunction(buyAll));\n        }\n    }\n    getId('toggleAll').addEventListener('click', toggleAll);\n    getId('buyAnyInput').addEventListener('focus', () => {\n        const window = getQuery('#buyAnyMain > label');\n        showAndFix(window);\n        const input = getId('buyAnyInput') as HTMLInputElement;\n        const change = () => {\n            player.toggles.shop.input = Math.max(Math.trunc(Number(input.value)), 0);\n            input.value = format(player.toggles.shop.input, { type: 'input' });\n            numbersUpdate();\n        };\n        input.addEventListener('change', change);\n        input.addEventListener('blur', () => {\n            window.style.display = 'none';\n            input.removeEventListener('change', change);\n        }, { once: true });\n    });\n    getId('autoWaitInput').addEventListener('focus', () => {\n        const window = getQuery('#autoWaitMain > label');\n        showAndFix(window);\n        const input = getId('autoWaitInput') as HTMLInputElement;\n        const change = () => {\n            const value = Math.max(Number(input.value), 1);\n            input.value = format((player.toggles.shop.wait[player.stage.active] = isNaN(value) ? 2 : value), { type: 'input' });\n        };\n        input.addEventListener('change', change);\n        input.addEventListener('blur', () => {\n            window.style.display = 'none';\n            input.removeEventListener('change', change);\n        }, { once: true });\n    });\n\n    getId('exitFooter').addEventListener('click', () => enterExitChallengeUser(null));\n    for (let i = 0; i < global.challengesInfo.length; i++) {\n        const image = getId(`challenge${i + 1}`);\n        if (!MD) { image.addEventListener('mouseenter', () => hoverChallenge(i)); }\n        image.addEventListener('click', () => { global.lastChallenge[0] === i ? enterExitChallengeUser(i) : hoverChallenge(i); });\n    }\n    getId('challengeName').addEventListener('click', () => { toggleSupervoid(true); });\n    getId('voidRewardsHead').addEventListener('click', () => {\n        global.sessionToggles[0] = !global.sessionToggles[0];\n        getChallengeRewards();\n    });\n    for (let s = 1; s <= 5; s++) {\n        const image = getId(`voidReward${s}`);\n        const clickFunc = () => {\n            global.lastChallenge[1] = s;\n            getChallengeRewards();\n        };\n        image.addEventListener('mouseenter', clickFunc);\n        if (PC || SR) {\n            image.addEventListener('focus', () => {\n                if (!global.hotkeys.tab) { return; }\n                clickFunc();\n            });\n        }\n    }\n\n    /* Upgrade tab */\n    for (let i = 0; i < specialHTML.longestUpgrade; i++) {\n        const image = getId(`upgrade${i + 1}`);\n        const hoverFunc = () => hoverUpgrades(i, 'upgrades');\n        const clickFunc = () => buyUpgrades(i, player.stage.active, 'upgrades');\n        if (PC) {\n            image.addEventListener('mouseenter', () => {\n                hoverFunc();\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverFunc();\n                if (player.toggles.hover[0]) {\n                    clickFunc();\n                    repeatFunction(clickFunc);\n                }\n            });\n        } else {\n            image.addEventListener('click', clickFunc);\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (PC || SR) {\n            image.addEventListener('focus', () => {\n                if (!global.hotkeys.tab) { return; }\n                hoverFunc();\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n    }\n    for (let i = 0; i < specialHTML.longestResearch; i++) {\n        const label = getId(`research${i + 1}`);\n        const image = getQuery(`#research${i + 1} > input`);\n        const hoverFunc = () => hoverUpgrades(i, 'researches');\n        const clickFunc = () => buyUpgrades(i, player.stage.active, 'researches');\n        if (PC) {\n            label.addEventListener('mouseenter', hoverFunc);\n            image.addEventListener('mouseenter', () => {\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n        if (MD) {\n            label.addEventListener('touchstart', () => {\n                hoverFunc();\n                if (player.toggles.hover[0]) {\n                    clickFunc();\n                    repeatFunction(clickFunc);\n                }\n            });\n        } else {\n            label.addEventListener('mousedown', () => repeatFunction(clickFunc));\n            image.addEventListener('click', clickFunc);\n        }\n        if (PC || SR) {\n            image.addEventListener('focus', () => {\n                if (!global.hotkeys.tab) { return; }\n                hoverFunc();\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n    }\n    for (let i = 0; i < specialHTML.longestResearchExtra; i++) {\n        const label = getId(`researchExtra${i + 1}`);\n        const image = getQuery(`#researchExtra${i + 1} > input`);\n        const hoverFunc = () => hoverUpgrades(i, 'researchesExtra');\n        const clickFunc = () => buyUpgrades(i, player.stage.active, 'researchesExtra');\n        if (PC) {\n            label.addEventListener('mouseenter', hoverFunc);\n            image.addEventListener('mouseenter', () => {\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n        if (MD) {\n            label.addEventListener('touchstart', () => {\n                hoverFunc();\n                if (player.toggles.hover[0]) {\n                    clickFunc();\n                    repeatFunction(clickFunc);\n                }\n            });\n        } else {\n            label.addEventListener('mousedown', () => repeatFunction(clickFunc));\n            image.addEventListener('click', clickFunc);\n        }\n        if (PC || SR) {\n            image.addEventListener('focus', () => {\n                if (!global.hotkeys.tab) { return; }\n                hoverFunc();\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n    }\n    for (let i = 0; i < playerStart.researchesAuto.length; i++) {\n        const label = getId(`researchAuto${i + 1}`);\n        const image = getQuery(`#researchAuto${i + 1} > input`);\n        const hoverFunc = () => hoverUpgrades(i, 'researchesAuto');\n        const clickFunc = () => handleAutoResearchCreation(i);\n        if (PC) {\n            label.addEventListener('mouseenter', hoverFunc);\n            image.addEventListener('mouseenter', () => {\n                if (player.toggles.hover[0]) { buyUpgrades(i, player.stage.active, 'researchesAuto'); }\n            });\n        }\n        if (MD) {\n            label.addEventListener('touchstart', () => {\n                hoverFunc();\n                if (player.toggles.hover[0]) {\n                    clickFunc();\n                    repeatFunction(clickFunc);\n                }\n            });\n        } else {\n            label.addEventListener('mousedown', () => repeatFunction(clickFunc));\n            image.addEventListener('click', clickFunc);\n        }\n        if (PC || SR) {\n            image.addEventListener('focus', () => {\n                if (!global.hotkeys.tab) { return; }\n                hoverFunc();\n                if (player.toggles.hover[0]) { buyUpgrades(i, player.stage.active, 'researchesAuto'); }\n            });\n        }\n    } {\n        const label = getId('ASR');\n        const image = getQuery('#ASR > input');\n        const hoverFunc = () => hoverUpgrades(0, 'ASR');\n        const clickFunc = () => buyUpgrades(0, player.stage.active, 'ASR');\n        if (PC) {\n            label.addEventListener('mouseenter', hoverFunc);\n            image.addEventListener('mouseenter', () => {\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n        if (MD) {\n            label.addEventListener('touchstart', () => {\n                hoverFunc();\n                if (player.toggles.hover[0]) {\n                    clickFunc();\n                    repeatFunction(clickFunc);\n                }\n            });\n        } else {\n            label.addEventListener('mousedown', () => repeatFunction(clickFunc));\n            image.addEventListener('click', clickFunc);\n        }\n        if (PC || SR) {\n            image.addEventListener('focus', () => {\n                if (!global.hotkeys.tab) { return; }\n                hoverFunc();\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n    }\n    if (MD) {\n        const button = getId('upgradeCreate');\n        const clickFunc = () => {\n            const active = player.stage.active;\n            const last = global.lastUpgrade[active];\n            if (last[0] !== null) {\n                if (last[1] === 'researchesAuto') { return handleAutoResearchCreation(last[0]); }\n                buyUpgrades(last[0], active, last[1]);\n            }\n        };\n        button.addEventListener('click', clickFunc);\n        button.addEventListener('touchstart', () => repeatFunction(clickFunc));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n    } {\n        const button = getId('createAllUpgrades');\n        const footer = getId('createAllFooter');\n        button.addEventListener('click', createAll);\n        footer.addEventListener('click', createAll);\n        if (PC) {\n            button.addEventListener('mousedown', () => repeatFunction(createAll));\n            footer.addEventListener('mousedown', () => repeatFunction(createAll));\n        }\n        if (MD) {\n            button.addEventListener('touchstart', () => repeatFunction(createAll));\n            footer.addEventListener('touchstart', () => repeatFunction(createAll));\n        }\n    }\n\n    {\n        const button = getId('element0');\n        const dblclickFunc = () => {\n            global.lastElement = 0;\n            getUpgradeDescription('elements');\n        };\n        if (SR) {\n            getId('element1').addEventListener('keydown', (event) => {\n                if (event.code !== 'Tab' || detectShift(event) !== true) { return; }\n                const element = getId('element0');\n                element.tabIndex = 0;\n                element.ariaHidden = 'false';\n            });\n            button.addEventListener('keydown', (event) => {\n                if (event.code === 'Enter' && detectShift(event) === false) {\n                    event.preventDefault();\n                    dblclickFunc();\n                }\n            });\n            button.addEventListener('blur', () => {\n                const element = getId('element0');\n                element.tabIndex = -1;\n                element.ariaHidden = 'true';\n            });\n        }\n        if (PC) { button.addEventListener('dblclick', dblclickFunc); }\n        if (MD) {\n            button.addEventListener('touchstart', () => {\n                if (global.intervalsId.mouseRepeat !== undefined) { return; }\n                global.intervalsId.mouseRepeat = setTimeout(dblclickFunc, 3000);\n            });\n        }\n    }\n    for (let i = 1; i < playerStart.elements.length; i++) {\n        const image = getId(`element${i}`);\n        const clickFunc = () => buyUpgrades(i, 4, 'elements');\n        const hoverFunc = () => hoverUpgrades(i, 'elements');\n        if (PC) {\n            image.addEventListener('mouseenter', () => {\n                hoverFunc();\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n            image.addEventListener('mousedown', () => repeatFunction(clickFunc));\n        }\n        if (MD) {\n            image.addEventListener('touchstart', () => {\n                hoverFunc();\n                if (player.toggles.hover[0]) { clickFunc(); }\n                repeatFunction(clickFunc);\n            });\n        } else { image.addEventListener('click', clickFunc); }\n        if (PC || SR) {\n            image.addEventListener('focus', () => {\n                if (!global.hotkeys.tab) { return; }\n                hoverFunc();\n                if (player.toggles.hover[0]) { clickFunc(); }\n            });\n        }\n    }\n\n    /* Strangeness tab */\n    for (let i = 0; i < playerStart.strange.length; i++) {\n        const button = getId(`strange${i}`);\n        const open = (focus = false) => {\n            if (player.proggress.main < 15 && player.milestones[4][0] < 8) { return; }\n            const html = getId(`strange${i}EffectsMain`);\n            if (html.dataset.focus === 'true') { return; }\n            const button = getId(`strange${i}`);\n            if (focus) {\n                html.dataset.focus = 'true';\n                button.addEventListener('blur', () => {\n                    html.style.display = 'none';\n                    html.dataset.focus = '';\n                }, { once: true });\n            } else {\n                button.addEventListener('mouseleave', () => {\n                    if (html.dataset.focus === 'true') { return; }\n                    html.style.display = 'none';\n                }, { once: true });\n            }\n            html.style.display = '';\n            numbersUpdate();\n            visualUpdate();\n        };\n        button.addEventListener('mouseenter', () => open());\n        if (SR) { button.addEventListener('focus', () => open(true)); }\n    }\n    for (let s = 1; s < playerStart.strangeness.length; s++) {\n        if (MD) { getId(`strangenessPage${s}`).addEventListener('click', () => MDStrangenessPage(s)); }\n        for (let i = 0; i < playerStart.strangeness[s].length; i++) {\n            const label = getId(`strange${i + 1}Stage${s}`);\n            const image = getQuery(`#strange${i + 1}Stage${s} > input`);\n            const hoverFunc = () => hoverStrangeness(i, s, 'strangeness');\n            const clickFunc = () => buyStrangenessMax(i, s, 'strangeness');\n            if (PC) {\n                label.addEventListener('mouseenter', hoverFunc);\n                image.addEventListener('mouseenter', () => {\n                    if (player.toggles.hover[1]) { clickFunc(); }\n                });\n            }\n            if (MD) {\n                label.addEventListener('touchstart', () => {\n                    hoverFunc();\n                    if (player.toggles.hover[1]) {\n                        clickFunc();\n                        repeatFunction(clickFunc);\n                    }\n                });\n            } else {\n                label.addEventListener('mousedown', () => repeatFunction(clickFunc));\n                image.addEventListener('click', clickFunc);\n            }\n            if (PC || SR) {\n                image.addEventListener('focus', () => {\n                    if (!global.hotkeys.tab) { return; }\n                    hoverFunc();\n                    if (player.toggles.hover[1]) { clickFunc(); }\n                });\n            }\n        }\n    }\n    if (MD) {\n        const button = getId('strangenessCreate');\n        const clickFunc = () => {\n            const last = global.lastStrangeness;\n            if (last[0] !== null) { buyStrangenessMax(last[0], last[1], 'strangeness'); }\n        };\n        button.addEventListener('click', clickFunc);\n        button.addEventListener('touchstart', () => repeatFunction(clickFunc));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n    } {\n        const button = getId('createAllStrangeness');\n        const clickFunc = () => {\n            if (globalSave.MDSettings[0]) {\n                const s = global.debug.MDStrangePage;\n                for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) { buyStrangenessMax(i, s, 'strangeness'); }\n            } else {\n                for (let s = 1; s < global.strangenessInfo.length; s++) {\n                    for (let i = 0; i < global.strangenessInfo[s].maxActive; i++) { buyStrangenessMax(i, s, 'strangeness'); }\n                }\n            }\n        };\n        button.addEventListener('click', clickFunc);\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n        if (MD) { button.addEventListener('touchstart', () => repeatFunction(clickFunc)); }\n    }\n    getId('strangenessVisibility').addEventListener('click', () => {\n        global.sessionToggles[1] = !global.sessionToggles[1];\n        getId('strangenessVisibility').textContent = `Permanent ones are ${global.sessionToggles[1] ? 'shown' : 'hidden'}`;\n        visualUpdate();\n    });\n\n    for (let s = 1; s < playerStart.milestones.length; s++) {\n        for (let i = 0; i < playerStart.milestones[s].length; i++) {\n            const image = getQuery(`#milestone${i + 1}Stage${s}Div > input`);\n            const hoverFunc = () => hoverStrangeness(i, s, 'milestones');\n            if (PC) { image.addEventListener('mouseenter', hoverFunc); }\n            if (MD) { image.addEventListener('touchstart', hoverFunc); }\n            if (PC || SR) {\n                image.addEventListener('focus', () => {\n                    if (!global.hotkeys.tab) { return; }\n                    hoverFunc();\n                });\n            }\n        }\n    }\n\n    /* Inflation tab */\n    for (let s = 0; s <= 1; s++) {\n        for (let i = 0; i < playerStart.tree[s].length; i++) {\n            const label = getId(`inflation${i + 1}Tree${s + 1}`);\n            const image = getQuery(`#inflation${i + 1}Tree${s + 1} > input`);\n            const hoverFunc = () => hoverStrangeness(i, s, 'inflations');\n            const clickFunc = () => buyStrangenessMax(i, s, 'inflations');\n            if (PC) {\n                label.addEventListener('mouseenter', hoverFunc);\n                image.addEventListener('mouseenter', () => {\n                    if (player.toggles.hover[2]) { clickFunc(); }\n                });\n            }\n            if (MD) {\n                label.addEventListener('touchstart', () => {\n                    hoverFunc();\n                    if (player.toggles.hover[2]) {\n                        clickFunc();\n                        repeatFunction(clickFunc);\n                    }\n                });\n            } else {\n                label.addEventListener('mousedown', () => repeatFunction(clickFunc));\n                image.addEventListener('click', clickFunc);\n            }\n            if (PC || SR) {\n                image.addEventListener('focus', () => {\n                    if (!global.hotkeys.tab) { return; }\n                    hoverFunc();\n                    if (player.toggles.hover[2]) { clickFunc(); }\n                });\n            }\n        }\n    } {\n        const button = getId('loadoutsName');\n        button.addEventListener('change', () => {\n            const input = getId('loadoutsName') as HTMLInputElement;\n            input.value = input.value.trim();\n        });\n        button.addEventListener('keydown', (event) => {\n            if (detectShift(event) === false && event.code === 'Enter') {\n                event.preventDefault();\n                loadoutsSave();\n            }\n        });\n    }\n    getId('inflationRefund').addEventListener('click', () => void inflationRefund(global.hotkeys.shift));\n    getId('inflationLoadouts').addEventListener('click', () => {\n        if ((global.loadouts.open = !global.loadouts.open)) {\n            getId('loadoutsMain').style.display = '';\n            (getId('loadoutsName') as HTMLInputElement).value = 'Current';\n            loadoutsLoadAuto();\n            loadoutsRecreate();\n        } else { getId('loadoutsMain').style.display = 'none'; }\n        if (globalSave.SRSettings[0]) { getId('inflationLoadouts').ariaExpanded = `${global.loadouts.open}`; }\n    });\n    getId('loadoutsEdit').addEventListener('change', () => {\n        const first = (getId('loadoutsEdit') as HTMLInputElement).value.split(/[,\\\\/_ |]+/);\n        const final = [];\n        for (let i = 0; i < first.length; i++) {\n            const index = first[i].indexOf('x');\n            let repeat = 1;\n            if (index !== -1) {\n                repeat = Math.min(Math.max(Number(first[i].slice(index + 1)), 0), 20);\n                if (isNaN(repeat)) { repeat = 1; }\n                first[i] = first[i].slice(0, index);\n            }\n            const number = Math.trunc(Number(first[i]) - 1);\n            if (number < 0 || !isFinite(number)) { continue; }\n            for (let r = 0; r < repeat; r++) { final.push(number); }\n        }\n        loadoutsFinal(final);\n    });\n    getId('loadoutsLoadAuto').addEventListener('click', loadoutsLoadAuto);\n    getId('loadoutsSave').addEventListener('click', loadoutsSave);\n    getId('loadoutsLoad').addEventListener('click', () => void loadoutsLoad());\n    getId('loadoutsMove').addEventListener('click', () => {\n        const name = (getId('loadoutsName') as HTMLInputElement).value;\n        let index;\n        const loadouts = player.inflation.loadouts;\n        for (let i = 0; i < loadouts.length; i++) {\n            if (name === loadouts[i][0]) {\n                index = i;\n                break;\n            }\n        }\n        if (index === undefined) { return; }\n        const deleted = loadouts.splice(index, 1)[0];\n        const newIndex = index + (global.hotkeys.shift ? -1 : 1);\n        if (newIndex < 0) {\n            loadouts.push(deleted);\n        } else if (newIndex > loadouts.length) {\n            loadouts.unshift(deleted);\n        } else { loadouts.splice(newIndex, 0, deleted); }\n        loadoutsRecreate();\n    });\n    getId('loadoutsDelete').addEventListener('click', async() => {\n        const loadouts = player.inflation.loadouts;\n        if (global.hotkeys.shift) {\n            if (loadouts.length === 0 || !await Confirm('Delete all loadouts?')) { return; }\n            loadouts.length = 0;\n        } else {\n            const name = (getId('loadoutsName') as HTMLInputElement).value;\n            let index;\n            for (let i = 0; i < loadouts.length; i++) {\n                if (name === loadouts[i][0]) {\n                    index = i;\n                    break;\n                }\n            }\n            if (index === undefined || !await Confirm(`Delete selected loadout '${name}'?\\n(Hold shift before clicking 'delete' to delete all)`)) { return; }\n            loadouts.splice(index, 1);\n        }\n        loadoutsRecreate();\n    });\n    if (MD) {\n        const button = getId('inflationActivate');\n        const clickFunc = () => {\n            if (global.lastInflation[0] !== null) { buyStrangenessMax(global.lastInflation[0], global.lastInflation[1], 'inflations'); }\n        };\n        button.addEventListener('click', clickFunc);\n        button.addEventListener('touchstart', () => repeatFunction(clickFunc));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(clickFunc)); }\n    }\n\n    /* Settings tab */\n    for (const number of [0, 2, 4, 9, 10]) {\n        const button = getId(`toggleAuto${number}Info`);\n        const open = (hover = false) => {\n            const html = getId(`toggleAuto${number}Menu`);\n            if (html.dataset.click === 'true') { return; }\n            const button = getId(`toggleAuto${number}Info`);\n            const body = document.documentElement;\n            if (hover) {\n                button.addEventListener('mouseleave', () => {\n                    if (html.dataset.click === 'true') { return; }\n                    html.style.display = 'none';\n                }, { once: true });\n            } else {\n                html.dataset.click = 'true';\n                const fullClose = (event: MouseEvent) => {\n                    for (let target = event.target as HTMLElement; target != null; target = target.parentElement as HTMLElement) {\n                        if (html === target) { return; }\n                    }\n                    body.removeEventListener('click', fullClose, { capture: true });\n                    html.style.display = 'none';\n                    html.dataset.click = '';\n                };\n                body.addEventListener('click', fullClose, { capture: true });\n            }\n            showAndFix(html);\n            if (number === 0) { visualUpdate(); }\n        };\n        button.addEventListener('click', () => open());\n        if (PC) { button.addEventListener('mouseenter', () => open(true)); }\n    }\n    getId('stageInput').addEventListener('change', () => {\n        const input = getId('stageInput') as HTMLInputElement;\n        const type = Number(input.dataset.type);\n        if (playerStart.stage.input[type] !== undefined) {\n            input.value = format((player.stage.input[type] = Number(input.value)), { type: 'input' });\n        } else { player.stage.input[0] = 1; }\n    });\n    {\n        const input = getId('stageInputType');\n        input.addEventListener('change', () => {\n            const input = getId('stageInputType') as HTMLInputElement;\n            const value = Math.trunc(Number(input.value));\n            input.value = format((player.stage.input[0] = Math.min(Math.max(1, isNaN(value) ? 1 : value), playerStart.stage.input.length - 1)), { type: 'input' });\n        });\n        input.addEventListener('blur', () => { visualUpdate(); });\n    }\n    getId('vaporizationInput').addEventListener('change', () => {\n        const input = getId('vaporizationInput') as HTMLInputElement;\n        input.value = format((player.vaporization.input[0] = Math.max(Number(input.value), 0)), { type: 'input' });\n    });\n    getId('vaporizationInputMax').addEventListener('change', () => {\n        const input = getId('vaporizationInputMax') as HTMLInputElement;\n        input.value = format((player.vaporization.input[1] = Number(input.value)), { type: 'input' });\n    });\n    getId('collapseInput').addEventListener('change', () => {\n        const input = getId('collapseInput') as HTMLInputElement;\n        input.value = format((player.collapse.input[0] = Math.max(Number(input.value), 1)), { type: 'input' });\n    });\n    getId('collapseInputWait').addEventListener('change', () => {\n        const input = getId('collapseInputWait') as HTMLInputElement;\n        input.value = format((player.collapse.input[1] = Number(input.value)), { type: 'input' });\n    });\n    getId('collapseAddNewPoint').addEventListener('change', () => {\n        const input = getId('collapseAddNewPoint') as HTMLInputElement;\n        const value = Number(input.value);\n        input.value = '';\n        if (isFinite(value)) {\n            if (value === 0) {\n                player.collapse.points = [];\n            } else {\n                const points = player.collapse.points;\n                const index = points.indexOf(Math.abs(value));\n                if (value > 0 && index === -1) {\n                    points.push(value);\n                    points.sort((a, b) => a - b);\n                } else if (value < 0 && index !== -1) {\n                    points.splice(index, 1);\n                    points.sort((a, b) => a - b);\n                }\n            }\n        }\n        global.collapseInfo.pointsLoop = 0;\n        updateCollapsePoints();\n    });\n    getId('mergeInput').addEventListener('change', () => {\n        const input = getId('mergeInput') as HTMLInputElement;\n        input.value = format((player.merge.input[0] = Math.trunc(Number(input.value))), { type: 'input' });\n    });\n    getId('mergeInputSince').addEventListener('change', () => {\n        const input = getId('mergeInputSince') as HTMLInputElement;\n        input.value = format((player.merge.input[1] = Number(input.value)), { type: 'input' });\n    });\n    getId('nucleationInput').addEventListener('change', () => {\n        const input = getId('nucleationInput') as HTMLInputElement;\n        input.value = format((player.darkness.input = Math.max(Number(input.value), 0)), { type: 'input' });\n    });\n    getId('versionButton').addEventListener('click', openVersionInfo);\n    getId('hotkeysButton').addEventListener('click', openHotkeys);\n    getId('save').addEventListener('click', () => { saveGame(); });\n    getId('file').addEventListener('change', async() => {\n        const id = getId('file') as HTMLInputElement;\n        try {\n            loadGame(await (id.files as FileList)[0].text());\n        } finally { id.value = ''; }\n    });\n    getId('export').addEventListener('click', () => {\n        const exportReward = player.time.export;\n        if ((player.proggress.main >= 17 || (!player.inflation.vacuum && player.proggress.main >= 11)) && (player.challenges.active === null || global.challengesInfo[player.challenges.active].resetType === 'stage') && exportReward[0] > 0) {\n            if (!globalSave.developerMode) {\n                const claimPer = player.inflation.ends[0] >= 1 ? 1 : 2.5;\n                const conversion = Math.min(exportReward[0] / 43200_000, player.inflation.ends[1] >= 1 ? 2 : 1);\n\n                if (player.inflation.ends[1] >= 1) {\n                    const value = exportReward[3] / 5 * conversion;\n                    player.cosmon[1].current += value;\n                    player.cosmon[1].total += value;\n                    exportReward[3] -= Math.max(exportReward[3] - value, 0);\n                }\n                if (player.strangeness[5][8] >= 1) {\n                    const value = exportReward[2] / claimPer * conversion;\n                    player.strange[1].current += value;\n                    player.strange[1].total += value;\n                    exportReward[2] -= Math.max(exportReward[2] - value, 0);\n                    assignBuildingsProduction.strange1();\n                } {\n                    const value = (exportReward[1] / claimPer + 1) * conversion;\n                    player.strange[0].current += value;\n                    player.strange[0].total += value;\n                    exportReward[1] = Math.max(exportReward[1] - value, 0);\n                    assignBuildingsProduction.strange0();\n                }\n                exportReward[0] = 0;\n                numbersUpdate();\n            } else { Notify(\"Export reward is disabled when using 'devMode', disable it by writting this into save options (case sensitive)\"); }\n        }\n\n        const save = saveGame(globalSave.developerMode);\n        if (save === null) { return; }\n        const a = document.createElement('a');\n        a.href = `data:text/plain,${save}`;\n        a.download = replaceSaveFileSpecials();\n        a.click();\n    });\n    getId('saveConsole').addEventListener('click', async() => {\n        let value = await Prompt(\"Available options:\\n'Copy' \u2012 copy save file to the clipboard\\n'Delete' \u2012 delete your save file\\n'Clear' \u2012 clear all the domain data\\n'Global' \u2012 open options for global settings\\n(Adding '_' will skip options menu)\\nOr insert save file text here to load it\");\n        if (value === null || value === '') { return; }\n        let lower = value.trim().toLowerCase();\n        if (lower === 'global') {\n            value = await Prompt(\"Available options:\\n'Reset' \u2012 reset global settings\\n'Copy' \u2012 copy global settings to the clipboard\\nOr insert global settings text here to load it\");\n            if (value === null || value === '') { return; }\n            lower = `global_${value.trim().toLowerCase()}`;\n        }\n\n        if (lower === 'copy' || lower === 'global_copy') {\n            const save = lower === 'global_copy' ? saveGlobalSettings(true) : saveGame(true);\n            if (save !== null) {\n                try {\n                    await navigator.clipboard.writeText(save);\n                    Notify(`${lower === 'global_copy' ? 'Settings have' : 'Save has'} been copied to the clipboard`);\n                } catch (error) {\n                    console.warn(`Full error for being unable to write to the clipboard:\\n${error}`);\n                    if (await Confirm(\"Could not copy text into clipboard, press 'Confrim' to save it as a file instead\")) {\n                        const a = document.createElement('a');\n                        a.href = `data:text/plain,${save}`;\n                        a.download = `Fundamental ${lower === 'global_copy' ? 'settings' : 'save'} clipboard`;\n                        a.click();\n                    }\n                }\n            }\n        } else if (lower === 'delete' || lower === 'clear' || lower === 'global_reset') {\n            pauseGame();\n            if (lower === 'delete') {\n                localStorage.removeItem(specialHTML.localStorage.main);\n            } else if (lower === 'global_reset') {\n                localStorage.removeItem(specialHTML.localStorage.settings);\n            } else { localStorage.clear(); }\n            window.location.reload();\n            void Alert('Awaiting game reload');\n        } else if (value === 'devMode') {\n            Notify(`Developer mode is ${((globalSave.developerMode = !globalSave.developerMode)) ? 'now' : 'no longer'} active`);\n            saveGlobalSettings();\n        } else if (lower === 'console' && globalSave.developerMode) {\n            console.log(deepClone(player), deepClone(globalSave), deepClone(global));\n        } else if (lower === 'achievement') {\n            Notify('Unlocked a new Achievement! (If there were any)');\n        } else if (lower === 'slow' || lower === 'free' || lower === 'boost') {\n            Notify('Game speed was increased by 1x');\n        } else if (lower === 'secret' || lower === 'global_secret' || lower === 'secret_secret') {\n            Notify(`Found a ${lower === 'secret_secret' ? \"ultra rare secret, but it doesn't proof anything\" : `${lower === 'global_secret' ? 'global' : 'rare'} secret, don't share it with anybody`}`);\n        } else if (lower === 'secret_proof') {\n            Notify('Found a proof that you were looking for!');\n        } else if (lower === 'quantum') {\n            getId('body').style.display = 'none';\n            document.documentElement.style.backgroundColor = 'black';\n            await Alert('Close when you are done enjoying the Quantum Vacuum');\n            document.documentElement.style.backgroundColor = '';\n            getId('body').style.display = '';\n        } else {\n            if (value.length < 20) { return void Alert(`Input '${value}' doesn't match anything`); }\n            if (lower.includes('global_')) {\n                if (!await Confirm(\"Press 'Confirm' to load input as a new global settings, this will reload the page\\n(Input is too long to be displayed)\")) { return; }\n                localStorage.setItem(specialHTML.localStorage.settings, value[6] === '_' ? value.substring(7) : value);\n                window.location.reload();\n                void Alert('Awaiting game reload');\n            } else {\n                if (!await Confirm(\"Press 'Confirm' to load input as a save file\\n(Input is too long to be displayed)\")) { return; }\n                loadGame(value);\n            }\n        }\n    });\n    getId('switchTheme0').addEventListener('click', () => setTheme(null));\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`switchTheme${i}`).addEventListener('click', () => setTheme(i));\n    }\n    getId('saveFileNameInput').addEventListener('focus', () => {\n        const window = getId('saveFileNameLabel');\n        const input = getId('saveFileNameInput') as HTMLInputElement;\n        const changePreview = () => {\n            const value = input.value.trim();\n            getId('saveFileNamePreview').textContent = replaceSaveFileSpecials(value.length === 0 ? playerStart.fileName : value);\n        };\n        showAndFix(window);\n        changePreview();\n        const change = () => {\n            let testValue = input.value.trim();\n            if (testValue.length === 0) {\n                testValue = playerStart.fileName;\n                input.value = testValue;\n            }\n            player.fileName = testValue;\n        };\n        input.addEventListener('change', change);\n        input.addEventListener('input', changePreview);\n        input.addEventListener('blur', () => {\n            window.style.display = 'none';\n            input.removeEventListener('input', changePreview);\n            input.removeEventListener('change', change);\n        }, { once: true });\n    });\n    getId('numbersInterval').addEventListener('change', () => {\n        const input = getId('numbersInterval') as HTMLInputElement;\n        globalSave.intervals.numbers = Math.min(Math.max(Math.trunc(Number(input.value)), 40), 200);\n        input.value = `${globalSave.intervals.numbers}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('visualInterval').addEventListener('change', () => {\n        const input = getId('visualInterval') as HTMLInputElement;\n        globalSave.intervals.visual = Math.min(Math.max(Math.trunc(Number(input.value)), 200), 2000);\n        input.value = `${globalSave.intervals.visual}`;\n        saveGlobalSettings();\n        changeIntervals();\n    });\n    getId('autoSaveInterval').addEventListener('change', () => {\n        const input = getId('autoSaveInterval') as HTMLInputElement;\n        globalSave.intervals.autoSave = Math.min(Math.max(Math.trunc(Number(input.value)), 5), 9999) * 1000;\n        input.value = `${globalSave.intervals.autoSave / 1000}`;\n        saveGlobalSettings();\n        if (!global.paused) {\n            clearTimeout(global.intervalsId.autoSave);\n            global.intervalsId.autoSave = setTimeout(saveGame, globalSave.intervals.autoSave);\n        }\n    });\n    getId('thousandSeparator').addEventListener('change', () => changeFormat(false));\n    getId('decimalPoint').addEventListener('change', () => changeFormat(true));\n    getId('MDToggle0').addEventListener('click', () => toggleSpecial(0, 'mobile', true, true));\n    getId('SRToggle0').addEventListener('click', () => toggleSpecial(0, 'reader', true, true));\n    getId('pauseButton').addEventListener('click', pauseGameUser);\n    getId('reviewEvents').addEventListener('click', replayEvent);\n    getId('fullscreenButton').addEventListener('click', () => {\n        if (document.fullscreenElement === null) {\n            void document.documentElement.requestFullscreen({ navigationUI: 'hide' });\n        } else { void document.exitFullscreen(); }\n    });\n    {\n        const button = getId('warpButton');\n        button.addEventListener('click', offlineWarp);\n        button.addEventListener('touchstart', () => repeatFunction(offlineWarp));\n        if (PC) { button.addEventListener('mousedown', () => repeatFunction(offlineWarp)); }\n    }\n    getId('customFontSize').addEventListener('change', () => changeFontSize());\n\n    getId('stageHistorySave').addEventListener('change', () => {\n        const inputID = getId('stageHistorySave') as HTMLInputElement;\n        player.history.stage.input[0] = Math.min(Math.max(Math.trunc(Number(inputID.value)), 0), 20);\n        inputID.value = `${player.history.stage.input[0]}`;\n    });\n    getId('stageHistoryShow').addEventListener('change', () => {\n        const input = getId('stageHistoryShow') as HTMLInputElement;\n        player.history.stage.input[1] = Math.min(Math.max(Math.trunc(Number(input.value)), 10), 100);\n        input.value = `${player.history.stage.input[1]}`;\n        global.debug.historyStage = null;\n        visualUpdate();\n    });\n    getId('endHistorySave').addEventListener('change', () => {\n        const inputID = getId('endHistorySave') as HTMLInputElement;\n        player.history.end.input[0] = Math.min(Math.max(Math.trunc(Number(inputID.value)), 0), 20);\n        inputID.value = `${player.history.end.input[0]}`;\n    });\n    getId('endHistoryShow').addEventListener('change', () => {\n        const input = getId('endHistoryShow') as HTMLInputElement;\n        player.history.end.input[1] = Math.min(Math.max(Math.trunc(Number(input.value)), 10), 100);\n        input.value = `${player.history.end.input[1]}`;\n        global.debug.historyEnd = null;\n        visualUpdate();\n    });\n\n    /* Footer */\n    {\n        const startEvent = (event: MouseEvent | TouchEvent) => {\n            const mouse = event instanceof MouseEvent;\n            const body = document.documentElement;\n            const screenWidth = body.clientWidth;\n            const screenHeight = body.clientHeight;\n\n            const html = event.currentTarget as HTMLElement;\n            const current = html.getBoundingClientRect();\n            const offsetX = current.right - (mouse ? event.clientX : event.changedTouches[0].clientX);\n            const offsetY = current.bottom - (mouse ? event.clientY : event.changedTouches[0].clientY);\n            const move = (event: MouseEvent | TouchEvent) => {\n                const current = html.getBoundingClientRect();\n                html.style.right = `${Math.max(1 - Math.max((mouse ? (event as MouseEvent).clientX : (event as TouchEvent).changedTouches[0].clientX) + offsetX, current.width) / screenWidth, 0) * 100}%`;\n                html.style.bottom = `${Math.max(1 - Math.max((mouse ? (event as MouseEvent).clientY : (event as TouchEvent).changedTouches[0].clientY) + offsetY, current.height) / screenHeight, 0) * 100}%`;\n\n                if (!mouse) { html.style.opacity = '1'; }\n            };\n            const removeEvents = mouse ? () => {\n                body.removeEventListener('mousemove', move);\n                body.removeEventListener('mouseup', removeEvents);\n                body.removeEventListener('mouseleave', removeEvents);\n                html.style.opacity = '';\n            } : () => {\n                body.removeEventListener('touchmove', move);\n                body.removeEventListener('touchend', removeEvents);\n                body.removeEventListener('touchcancel', removeEvents);\n            };\n            if (mouse) {\n                body.addEventListener('mousemove', move);\n                body.addEventListener('mouseup', removeEvents);\n                body.addEventListener('mouseleave', removeEvents);\n                html.style.opacity = '1';\n            } else {\n                event.preventDefault(); //To prevent scrolling, doesn't work sometimes\n                body.addEventListener('touchmove', move);\n                body.addEventListener('touchend', removeEvents);\n                body.addEventListener('touchcancel', removeEvents);\n                html.style.opacity = '0.2';\n            }\n        };\n        if (PC) { getId('globalStats').addEventListener('mousedown', startEvent); }\n        if (MD) { getId('globalStats').addEventListener('touchstart', startEvent, { capture: true }); }\n    }\n    for (const tabText of global.tabs.list) {\n        getId(`${tabText}TabBtn`).addEventListener('click', () => switchTab(tabText));\n        for (const subtabText of global.tabs[tabText].list) {\n            getId(`${tabText}SubtabBtn${subtabText}`).addEventListener('click', () => switchTab(tabText, subtabText));\n        }\n    }\n    for (let i = 1; i < global.stageInfo.word.length; i++) {\n        getId(`stageSwitch${i}`).addEventListener('click', () => switchStage(i));\n    }\n    getId('shiftFooter').addEventListener('click', () => {\n        global.hotkeys.shift = !global.hotkeys.shift;\n        numbersUpdate();\n    });\n\n    /* Post */\n    document.head.append(specialHTML.styleSheet);\n    stageUpdate(true, true);\n    if (globalSave.theme !== null) {\n        getId('currentTheme').textContent = global.stageInfo.word[globalSave.theme];\n        getId(`switchTheme${globalSave.theme}`).style.textDecoration = 'underline';\n        getId('switchTheme0').style.textDecoration = '';\n        setTheme();\n    }\n    if (save !== null) {\n        global.lastSave = handleOfflineTime();\n        const offline = global.lastSave;\n        const timeAtLoad = Date.now();\n        void simulateOffline(global.lastSave);\n\n        void (async() => {\n            const result = await fetch('./last_build.txt');\n            if (result.ok) {\n                global.lastUpdate = Number((await result.text()).replace('\\n', ''));\n                if (global.lastUpdate === 0 || isNaN(global.lastUpdate)) { global.lastUpdate = null; }\n            }\n            Notify(`Welcome back, you were away for ${format(offline / 1000, { type: 'time', padding: false })}${oldVersion !== player.version ? `\\nGame has been updated from ${oldVersion} to ${player.version}` : ''}${global.lastUpdate !== null ?\n                `\\nLast update was ${format((timeAtLoad - global.lastUpdate) / 1000, { type: 'time', padding: false })} ago` : ''}${globalSave.developerMode ?\n                `\\nGame loaded after ${format((timeAtLoad - playerStart.time.started) / 1000, { type: 'time', padding: false })}` : ''}\n            `);\n        })();\n    } else { pauseGame(false); }\n    getId('body').style.display = '';\n    getId('loading').style.display = 'none';\n    document.title = `Fundamental ${playerStart.version}`;\n    specialHTML.cache.idMap.clear();\n    specialHTML.cache.queryMap.clear();\n    specialHTML.cache.classMap.clear();\n} catch (error) {\n    const stack = (error as { stack?: string }).stack;\n    void Alert(`Game failed to load\\n${typeof stack === 'string' ? stack.replaceAll(`${window.location.origin}/`, '') : error}`, 2);\n    const buttonDiv = document.createElement('div');\n    buttonDiv.innerHTML = '<button type=\"button\" id=\"exportError\" style=\"width: 7em;\">Export save</button><button type=\"button\" id=\"deleteError\" style=\"width: 7em;\">Delete save</button>';\n    buttonDiv.style.cssText = 'display: flex; column-gap: 0.6em; margin-top: 0.4em;';\n    getId('loading').append(buttonDiv);\n    let exported = false;\n    getId('exportError').addEventListener('click', () => {\n        exported = true;\n        const save = localStorage.getItem(specialHTML.localStorage.main);\n        if (save === null) { return void Alert(\"Couldn't find any save files\"); }\n        const a = document.createElement('a');\n        a.href = `data:text/plain,${save}`;\n        a.download = 'Fundamental post error export';\n        a.click();\n    });\n    getId('deleteError').addEventListener('click', async() => {\n        if (!globalSave.developerMode && !exported && !await Confirm(\"It's recommended to export save file first\\nPress 'Confirm' to confirm and delete your save file\")) { return; }\n        localStorage.removeItem(specialHTML.localStorage.main);\n        window.location.reload();\n        void Alert('Awaiting game reload');\n    });\n    throw error;\n}\n"],
  "mappings": "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",
  "names": ["reset", "type", "stageIndex", "dischargeInfo", "global", "energyStage", "energyType", "elements", "player", "i", "allowedToBeReset", "energyRefund", "s", "assignBuildingsProduction", "building", "playerStart", "selfmade", "energy", "upgrades", "researches", "assignResearchCost", "researchesExtra", "deficit", "max", "assignResetInformation", "resetStage", "update", "full", "strangeness", "buildings", "buildingResetValue", "cloneArray", "calculateMaxLevel", "switchTab", "stageUpdate", "resetVacuum", "level", "vacuum", "supervoid", "total", "assignChallengeInformation", "universes", "assignMilestoneInformation", "cloneBeforeReset", "depth", "clone", "loadFromClone", "buildingsClone", "trueStars", "timeUpdate", "tick", "timeWarp", "time", "ASR", "player", "currentTime", "passedTime", "global", "simulateOffline", "auto", "autoBuy", "maxActive", "activeAll", "universes", "trueSeconds", "effectsCache", "calculateEffects", "passedSeconds", "assignBuildingsProduction", "exitChallengeAuto", "endResetCheck", "stageResetCheck", "stageResetReward", "Notify", "vacuum", "autoStrangeness", "autoUpgrades", "autoResearches", "i", "buyBuilding", "nucleationResetCheck", "gainBuildings", "autoElements", "research", "awardMilestone", "failed", "collapseResetCheck", "mergeResetCheck", "assignResetInformation", "rankResetCheck", "vaporizationResetCheck", "dischargeResetCheck", "logAny", "number", "base", "energy", "goals", "strangeness", "scale", "scaling", "next", "preons", "selfBoost", "effect", "level", "discharges", "laterPreons", "Overlimit", "post", "puddles", "maxTrue", "power", "rain", "drops", "rank", "requirement", "mass", "delay", "stars", "blackHoles", "elements", "massGain", "multiplier", "disc", "levels", "transfer", "max", "groups", "delayOnly", "fluid", "unlocked", "interstellar", "quarks", "completions", "trueVerses", "tree", "challenge", "speed", "noHardcap", "structure", "multiplierList", "preonsExcess", "index", "visual", "reset", "info", "totalDrops", "buildings", "upgrades", "water5", "water4", "water3", "water2", "excess", "producings", "structures", "flow", "inVoid", "start", "researchesS3", "upgradesS3", "producing", "S5Extra2Max", "production", "moreStars", "multiplier3", "globalMult", "min", "multiplier2", "multiplier1", "first", "iron", "stageBoost", "strangeQuarks", "information", "strangelets", "energyType", "energyTrue", "s", "add", "softcap", "effectS1", "starCheck", "building", "mainStars", "conversion", "rewardCheck", "researchesExtra", "effective", "soft", "stageIndex", "howMany", "checkBuilding", "currency", "minus", "free", "multi", "budget", "total", "calculateBuildingsCost", "afford", "errorNotify", "addEnergy", "numbersUpdate", "globalSave", "getId", "format", "calculateMaxLevel", "awardVoidReward", "increase", "stage", "firstCost", "buyVerse", "checkVerse", "calculateVerseCost", "verse", "setActiveStage", "income", "prepareVacuum", "prepareChallenge", "resetVacuum", "get", "stageGet", "current", "trueValue", "gainStrange", "strange", "buyUpgrades", "upgrade", "type", "checkUpgrade", "pointer", "switchTab", "tillMax", "cost", "newLevels", "simplify", "update", "stageUpdate", "assignResearchCost", "specialHTML", "old", "buyStrangeness", "maxLevel", "newLevel", "loadoutsFinal", "assignChallengeInformation", "playerStart", "assignMilestoneInformation", "buyStrangenessMax", "inflationRefund", "noConfirmation", "loadout", "inflaton", "Confirm", "challengeReset", "stageFullReset", "calculateTreeCost", "steps", "addAuto", "getVerseType", "autoResearchesAdd", "autoStrangenessAdd", "startCost", "a", "b", "compareFunc", "which", "nextIndex", "check", "main", "peak", "peakCheck", "endResetUser", "array", "endReset", "history", "storage", "cloneArray", "getStageResetType", "unlimitedTime", "stageResetUser", "active", "galaxyCost", "fullReset", "resetThese", "exportReward", "resetStage", "noReward", "switchStage", "visualUpdate", "dischargeReset", "dischargeResetUser", "clouds", "vaporizationReset", "vaporization", "rainNow", "rainAfter", "vaporizationResetUser", "autoClouds", "ranks", "improved", "rankReset", "rankResetUser", "noReset", "remnants", "collapse", "newMass", "collapseReset", "timeUntil", "point", "massBoost", "starProd", "restProd", "collapseResetUser", "unlockedG", "cantAffordG", "collapseInfo", "rewards", "galaxies", "mergeReset", "merge", "mergeResetUser", "awardStabilityReward", "nucleationReset", "nucleationResetUser", "percentage", "milestoneCheck", "maxed", "toggleSupervoid", "change", "challenges", "progress", "totalProgress", "pointer2", "rewardText", "enterExitChallengeUser", "allowedToEnter", "currentState", "loadFromClone", "resetType", "cloneBeforeReset", "requiredState", "switchTab", "tab", "subtab", "oldTab", "global", "checkTab", "subtabAmount", "inside", "unlocked", "getId", "changeSubtab", "globalSave", "oldSubtab", "active", "player", "setActiveStage", "stageUpdate", "visualUpdate", "numbersUpdate", "ignoreOffline", "buildings", "challenge", "vacuum", "noTime", "s", "info", "maxTime", "i", "Notify", "format", "stars", "Overlimit", "value", "shiftButton", "specialHTML", "buildingsInfo", "howMany", "speed", "assignBuildingsProduction", "trueCountID", "lockText", "costName", "currency", "free", "multi", "e", "extra", "buy", "cost", "calculateBuildingsCost", "scaling", "dischargeInfo", "getQuery", "effectsCache", "preonCap", "calculateEffects", "rainNow", "rainAfter", "dustCap", "collapseInfo", "starProd", "total", "restProd", "mainQuery", "widthTest", "assignResetInformation", "merge", "mergeInfo", "mergeEffects", "remaining", "groupsCost", "groupsTotal", "clustersTotal", "mergeScore", "producings", "softcap", "current", "calculateVerseCost", "selfVerses", "darkPost", "post", "allowed", "plusTrue", "allGalaxies", "cosmonGain", "stageResetCheck", "getChallengeDescription", "getChallengeRewards", "visualUpdateUpgrades", "visualUpdateResearches", "getUpgradeDescription", "interstellar", "quarksGain", "information", "stageBoost", "strangeness", "time", "milestoneGetValue", "exportReward", "claimPer", "conversion", "over", "assignInnerHTML", "energyType", "clouds", "rain", "storm", "auto2", "mass", "star0", "star1", "star2", "gamma", "quasar", "base", "reward1", "reward2", "quint", "hoverText", "checkProggress", "highest", "showReset1", "buildingsToggle", "ASR", "anyON", "anyOFF", "toggleHTML", "drops", "upgrades", "updateRankInfo", "nova", "star3", "setRemnants", "progress", "superposition", "puddle2", "puddle3", "puddle4", "puddle5", "rank", "planetesimal", "galaxy", "protogalaxy", "nebula", "cluster", "darkEnergy", "neutron", "verses", "getVerseType", "columns", "universes", "show1", "show2", "show3", "bound", "voidProgress", "MDStrangenessPage", "milestones", "strange5", "firstTwo", "milestonesS4", "supervoid", "researchesAuto", "input1", "input2", "type", "getStageResetType", "showAuto2", "showAuto4", "showAuto6", "updateStageHistory", "updateEndHistory", "anyUnlocked", "element", "getClass", "visualProggressUnlocks", "index", "stageIndex", "pointer", "level", "newLevel", "check", "calculateTreeCost", "stageText", "multilineID", "text", "isActive", "timeLimit", "container", "heightTest", "notEnoughUniverses", "newLevels", "tillMax", "simplify", "autoStage", "nameID", "gain", "stage", "reward", "best", "arrayMax", "needText", "failText", "color", "image", "max", "textPointer", "fixMove", "mainHTML", "rankInfo", "name", "nameExtra", "maxInfoRank", "updateCollapsePoints", "points", "array", "whiteDwarf", "src1", "img1", "quarkStar", "src2", "img2", "list", "input", "settings", "padding", "inputAbs", "minutes", "seconds", "hours", "days", "years", "digits", "precision", "result", "formated", "resultAbs", "changed", "stageInfo", "activeAll", "stageWord", "currentID", "researchExtraDivHTML", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "footerStatsHTML", "showU", "showR", "showE", "showF", "resetMinSizes", "buildingHTML", "buildingName", "buildingType", "buildingHoverText", "toggleSwap", "upgradeHTML", "researchHTML", "main", "researchExtraHTML", "extraImgId", "bodyStyle", "setTheme", "hotkeys", "basicFunctions", "buyAll", "global", "toggleAll", "createAll", "anyOn", "i", "player", "toggleSwap", "dischargeResetUser", "vaporizationResetUser", "rankResetUser", "collapseResetUser", "buyBuilding", "mergeResetUser", "nucleationResetUser", "stageResetUser", "playerStart", "buyVerse", "endResetUser", "enterExitChallengeUser", "old", "toggleSupervoid", "Notify", "offlineWarp", "pauseGameUser", "changeTab", "changeSubtab", "changeStage", "numberFunctions", "number", "repeat", "assignHotkeys", "key", "index", "globalSave", "hotkey", "removeHotkey", "remove", "test", "detectShift", "check", "detectHotkey", "code", "info", "numbersUpdate", "activeType", "specialHTML", "notifications", "prefix", "functionTest", "active", "max", "howMany", "buyUpgrades", "toggles", "visualUpdate", "required", "simulateOffline", "direction", "tabs", "checkTab", "switchTab", "tab", "subtabs", "activeAll", "switchStage", "handleTouchHotkeys", "event", "horizontal", "vertical", "horizontalAbs", "globalSave", "saveGlobalSettings", "noSaving", "hotkeysClone", "deepClone", "encoder", "key", "array", "i", "clone", "save", "specialHTML", "toggleSpecial", "number", "type", "change", "reload", "toggles", "Confirm", "pauseGame", "Alert", "toggleHTML", "getId", "preventImageUnload", "global", "footer", "build", "upgrade", "research", "extra", "extraDiv", "images", "s", "text", "setTheme", "theme", "upgradeTypes", "properties", "player", "bodyStyle", "property", "priority", "resolve", "Notify", "body", "blocker", "confirm", "oldFocus", "event", "shift", "detectShift", "code", "close", "cancel", "result", "yes", "Prompt", "placeholder", "input", "active", "last", "notifications", "index", "count", "timeout", "html", "pointer", "instantClose", "remove", "clickEvent", "errorNotify", "errorCooldowns", "resetMinSizes", "full", "element", "getQuery", "mile", "changeFontSize", "initial", "size", "changeFormat", "point", "htmlInput", "value", "MDStrangenessPage", "stageIndex", "checkProggress", "proggressMain", "proggress", "proggressUp", "assignResetInformation", "newValue", "old", "playEvent", "visualProggressUnlocks", "switchTab", "stageUpdate", "setActiveStage", "replayEvent", "replay", "format", "buildBigWindow", "subWindow", "mainHTML", "addCloseEvents", "sectionHTML", "firstTargetHTML", "closeButton", "windowHMTL", "openVersionInfo", "openHotkeys", "toggle", "changeHotkey", "detect", "finish", "prefix", "converted", "clickClose", "keyboard", "globalSaveStart", "button", "removeHotkey", "assignHotkeys", "newHotkey", "removed", "extraHotkeyName", "visualUpdate", "Overlimit", "_Overlimit", "number", "after", "technical", "left", "right", "newValue", "power", "root", "base", "replaceWith", "compare", "settings", "result", "numbers", "i", "index", "digits", "target", "negative", "difference", "base10", "tooSmall", "baseNeg", "leftNeg", "type", "padding", "exponent", "inputBase", "mantissa", "formated", "globalSave", "powerCheck", "compareFunc", "checkTab", "tab", "subtab", "player", "global", "checkBuilding", "index", "stageIndex", "checkVerse", "challenge", "getVerseType", "checkUpgrade", "upgrade", "type", "galaxy", "autoStage", "verses", "allowedToBeReset", "check", "getStageResetType", "allowedToEnter", "milestoneGetValue", "stars", "Overlimit", "milestoneCheck", "pointer", "player", "global", "format", "calculateEffects", "Overlimit", "effectsCache", "effect", "getVerseType", "newBase", "power", "base", "names", "unlocks", "i", "max", "visualUniverseLevels", "now", "after", "logAny", "energy", "level", "extra", "maxLevel", "trueLevel", "penalty", "delay", "unlocked", "stageIndex", "index", "improved", "assignBuildingsProduction", "mainStars", "conversion", "passive", "upgrades", "darkness", "challenges", "progress", "text", "completions", "vacuumStart", "universes", "prepareVacuum", "state", "info", "buildingsInfo", "upgradesInfo", "researchesInfo", "researchesExtraInfo", "elementsInfo", "strangenessInfo", "buildings", "playerStart", "s", "cloneArray", "milestone1S1", "getQuery", "milestone1S2", "milestone2S2", "milestone1S3", "milestone2S4", "specialHTML", "getId", "globalSave", "prepareChallenge", "challenge", "next", "old", "trueInfo", "startEl", "startU4", "startU5", "startR4", "startR5", "startE4", "startE5", "offset", "fillMissingValues", "test", "start", "deepClone", "updatePlayer", "load", "oldVersion", "trueVerses", "highestUniverse", "voidVerses", "key", "clone", "c", "building", "stars", "assignMilestoneInformation", "strangeness", "strangenessMax", "calculateMaxLevel", "extraMax", "researches", "researchesMax", "tree", "treeMax", "toggleSupervoid", "assignChallengeInformation", "assignResetInformation", "visualProggressUnlocks", "switchTab", "toggleSwap", "toggleConfirm", "updateCollapsePoints", "cloneArray", "array", "deepClone", "toClone", "value", "Overlimit", "i", "check", "getId", "id", "noError", "test", "specialHTML", "store", "errorNotify", "getQuery", "query", "getClass", "idCollection", "assignInnerHTML", "text", "handleOfflineTime", "timeNow", "offlineTime", "player", "simulateOffline", "offline", "autoConfirm", "info", "global", "pauseGame", "decline", "Confirm", "format", "globalSave", "extra", "timeUpdate", "visualUpdate", "numbersUpdate", "saveGame", "tick", "startValue", "startStage", "body", "mainHTML", "accelBtn", "deaccelBtn", "cancelBtn", "oldFocus", "accelerate", "deaccelerate", "finish", "key", "event", "shift", "detectShift", "end", "setActiveStage", "stageUpdate", "tickHTML", "remainsHTML", "percentageHTML", "calculate", "time", "error", "stack", "Alert", "changeIntervals", "intervalsId", "paused", "pause", "button", "preventImageUnload", "pauseGameUser", "noSaving", "clone", "save", "loadGame", "versionCheck", "updatePlayer", "Notify", "replaceSaveFileSpecials", "name", "date", "dateIndex", "endIndex", "replaced", "special", "replaceWith", "timeIndex", "toggleSwap", "number", "type", "change", "toggles", "extraText", "toggleHTML", "toggleConfirm", "repeatFunction", "repeat", "cancelRepeat", "showAndFix", "element", "rect", "width", "hoverUpgrades", "index", "getUpgradeDescription", "hoverStrangeness", "stageIndex", "hoverChallenge", "getChallengeDescription", "getChallengeRewards", "handleAutoResearchCreation", "checkUpgrade", "buyUpgrades", "autoStage", "switchStage", "loadoutsFinal", "load", "max", "appeared", "cost", "string", "dupes", "current", "unlocked", "calculateTreeCost", "loadoutsRecreate", "old", "newOld", "listHTML", "loadout", "loadoutsLoad", "loadoutsSave", "loadouts", "inflationRefund", "buyStrangeness", "loadoutsLoadAuto", "r", "createArray", "length", "trueInfo", "vacuumStart", "buildings", "buildingsInfo", "upgradesInfo", "strangenessInfo", "milestonesInfo", "s", "start", "upgradeType", "pointer", "firstCost", "playerStart", "globalSaveStart", "globalSettings", "decoder", "c", "fillMissingValues", "toggleSpecial", "changeFontSize", "fake2", "div", "elementsArea", "elementsButton", "arrow", "createUpgButton", "createInfButton", "pages", "createStrButton", "MDToggle1", "MDToggle2", "message", "SRMainDiv", "SRToggle1", "oldVersion", "prepareVacuum", "assignHotkeys", "MD", "SR", "PC", "releaseHotkey", "hotkeys", "activeType", "detectHotkey", "notAllowed", "target", "handleTouchHotkeys", "hoverEvent", "window", "position", "refreshOnThese", "footer", "repeatFunc", "endResetUser", "stageResetUser", "clickFunc", "active", "dischargeResetUser", "vaporizationResetUser", "rankResetUser", "collapseResetUser", "mergeResetUser", "nucleationResetUser", "buyBuilding", "getMakeCount", "buyVerse", "buyAll", "toggleAll", "input", "enterExitChallengeUser", "image", "toggleSupervoid", "hoverFunc", "label", "last", "createAll", "dblclickFunc", "open", "focus", "html", "MDStrangenessPage", "buyStrangenessMax", "first", "final", "deleted", "newIndex", "hover", "fullClose", "points", "a", "b", "updateCollapsePoints", "openVersionInfo", "openHotkeys", "exportReward", "claimPer", "conversion", "assignBuildingsProduction", "Prompt", "lower", "saveGlobalSettings", "setTheme", "changePreview", "testValue", "changeFormat", "replayEvent", "offlineWarp", "inputID", "startEvent", "mouse", "screenWidth", "screenHeight", "offsetX", "offsetY", "move", "removeEvents", "tabText", "switchTab", "subtabText", "timeAtLoad", "result", "buttonDiv", "exported"]
}
